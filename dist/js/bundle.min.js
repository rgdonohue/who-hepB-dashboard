!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Chart=e()}}(function(){return function e(t,n,i){function r(a,s){if(!n[a]){if(!t[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[a]={exports:{}};t[a][0].call(c.exports,function(e){var n=t[a][1][e];return r(n||e)},c,c.exports,e,t,n,i)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(e,t,n){},{}],2:[function(e,t,n){function i(e){if(e){var t=/^#([a-fA-F0-9]{3})$/,n=/^#([a-fA-F0-9]{6})$/,i=/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,r=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,o=/(\w+)/,a=[0,0,0],s=1,l=e.match(t);if(l){l=l[1];for(c=0;c<a.length;c++)a[c]=parseInt(l[c]+l[c],16)}else if(l=e.match(n)){l=l[1];for(c=0;c<a.length;c++)a[c]=parseInt(l.slice(2*c,2*c+2),16)}else if(l=e.match(i)){for(c=0;c<a.length;c++)a[c]=parseInt(l[c+1]);s=parseFloat(l[4])}else if(l=e.match(r)){for(c=0;c<a.length;c++)a[c]=Math.round(2.55*parseFloat(l[c+1]));s=parseFloat(l[4])}else if(l=e.match(o)){if("transparent"==l[1])return[0,0,0,0];if(!(a=d[l[1]]))return}for(var c=0;c<a.length;c++)a[c]=u(a[c],0,255);return s=s||0==s?u(s,0,1):1,a[3]=s,a}}function r(e){if(e){var t=/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,n=e.match(t);if(n){var i=parseFloat(n[4]);return[u(parseInt(n[1]),0,360),u(parseFloat(n[2]),0,100),u(parseFloat(n[3]),0,100),u(isNaN(i)?1:i,0,1)]}}}function o(e){if(e){var t=/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,n=e.match(t);if(n){var i=parseFloat(n[4]);return[u(parseInt(n[1]),0,360),u(parseFloat(n[2]),0,100),u(parseFloat(n[3]),0,100),u(isNaN(i)?1:i,0,1)]}}}function a(e,t){return void 0===t&&(t=void 0!==e[3]?e[3]:1),"rgba("+e[0]+", "+e[1]+", "+e[2]+", "+t+")"}function s(e,t){return"rgba("+Math.round(e[0]/255*100)+"%, "+Math.round(e[1]/255*100)+"%, "+Math.round(e[2]/255*100)+"%, "+(t||e[3]||1)+")"}function l(e,t){return void 0===t&&(t=void 0!==e[3]?e[3]:1),"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+t+")"}function u(e,t,n){return Math.min(Math.max(t,e),n)}function c(e){var t=e.toString(16).toUpperCase();return t.length<2?"0"+t:t}var d=e(6);t.exports={getRgba:i,getHsla:r,getRgb:function(e){var t=i(e);return t&&t.slice(0,3)},getHsl:function(e){var t=r(e);return t&&t.slice(0,3)},getHwb:o,getAlpha:function(e){var t=i(e);return t?t[3]:(t=r(e))?t[3]:(t=o(e))?t[3]:void 0},hexString:function(e){return"#"+c(e[0])+c(e[1])+c(e[2])},rgbString:function(e,t){return t<1||e[3]&&e[3]<1?a(e,t):"rgb("+e[0]+", "+e[1]+", "+e[2]+")"},rgbaString:a,percentString:function(e,t){return t<1||e[3]&&e[3]<1?s(e,t):"rgb("+Math.round(e[0]/255*100)+"%, "+Math.round(e[1]/255*100)+"%, "+Math.round(e[2]/255*100)+"%)"},percentaString:s,hslString:function(e,t){return t<1||e[3]&&e[3]<1?l(e,t):"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)"},hslaString:l,hwbString:function(e,t){return void 0===t&&(t=void 0!==e[3]?e[3]:1),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+(void 0!==t&&1!==t?", "+t:"")+")"},keyword:function(e){return f[e.slice(0,3)]}};var f={};for(var h in d)f[d[h]]=h},{6:6}],3:[function(e,t,n){var i=e(5),r=e(2),o=function(e){if(e instanceof o)return e;if(!(this instanceof o))return new o(e);this.valid=!1,this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1};var t;"string"==typeof e?(t=r.getRgba(e))?this.setValues("rgb",t):(t=r.getHsla(e))?this.setValues("hsl",t):(t=r.getHwb(e))&&this.setValues("hwb",t):"object"==typeof e&&(void 0!==(t=e).r||void 0!==t.red?this.setValues("rgb",t):void 0!==t.l||void 0!==t.lightness?this.setValues("hsl",t):void 0!==t.v||void 0!==t.value?this.setValues("hsv",t):void 0!==t.w||void 0!==t.whiteness?this.setValues("hwb",t):void 0===t.c&&void 0===t.cyan||this.setValues("cmyk",t))};o.prototype={isValid:function(){return this.valid},rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},hwb:function(){return this.setSpace("hwb",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){var e=this.values;return 1!==e.alpha?e.hwb.concat([e.alpha]):e.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var e=this.values;return e.rgb.concat([e.alpha])},hslaArray:function(){var e=this.values;return e.hsl.concat([e.alpha])},alpha:function(e){return void 0===e?this.values.alpha:(this.setValues("alpha",e),this)},red:function(e){return this.setChannel("rgb",0,e)},green:function(e){return this.setChannel("rgb",1,e)},blue:function(e){return this.setChannel("rgb",2,e)},hue:function(e){return e&&(e%=360,e=e<0?360+e:e),this.setChannel("hsl",0,e)},saturation:function(e){return this.setChannel("hsl",1,e)},lightness:function(e){return this.setChannel("hsl",2,e)},saturationv:function(e){return this.setChannel("hsv",1,e)},whiteness:function(e){return this.setChannel("hwb",1,e)},blackness:function(e){return this.setChannel("hwb",2,e)},value:function(e){return this.setChannel("hsv",2,e)},cyan:function(e){return this.setChannel("cmyk",0,e)},magenta:function(e){return this.setChannel("cmyk",1,e)},yellow:function(e){return this.setChannel("cmyk",2,e)},black:function(e){return this.setChannel("cmyk",3,e)},hexString:function(){return r.hexString(this.values.rgb)},rgbString:function(){return r.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return r.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return r.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return r.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return r.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return r.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return r.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){var e=this.values.rgb;return e[0]<<16|e[1]<<8|e[2]},luminosity:function(){for(var e=this.values.rgb,t=[],n=0;n<e.length;n++){var i=e[n]/255;t[n]=i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4)}return.2126*t[0]+.7152*t[1]+.0722*t[2]},contrast:function(e){var t=this.luminosity(),n=e.luminosity();return t>n?(t+.05)/(n+.05):(n+.05)/(t+.05)},level:function(e){var t=this.contrast(e);return t>=7.1?"AAA":t>=4.5?"AA":""},dark:function(){var e=this.values.rgb;return(299*e[0]+587*e[1]+114*e[2])/1e3<128},light:function(){return!this.dark()},negate:function(){for(var e=[],t=0;t<3;t++)e[t]=255-this.values.rgb[t];return this.setValues("rgb",e),this},lighten:function(e){var t=this.values.hsl;return t[2]+=t[2]*e,this.setValues("hsl",t),this},darken:function(e){var t=this.values.hsl;return t[2]-=t[2]*e,this.setValues("hsl",t),this},saturate:function(e){var t=this.values.hsl;return t[1]+=t[1]*e,this.setValues("hsl",t),this},desaturate:function(e){var t=this.values.hsl;return t[1]-=t[1]*e,this.setValues("hsl",t),this},whiten:function(e){var t=this.values.hwb;return t[1]+=t[1]*e,this.setValues("hwb",t),this},blacken:function(e){var t=this.values.hwb;return t[2]+=t[2]*e,this.setValues("hwb",t),this},greyscale:function(){var e=this.values.rgb,t=.3*e[0]+.59*e[1]+.11*e[2];return this.setValues("rgb",[t,t,t]),this},clearer:function(e){var t=this.values.alpha;return this.setValues("alpha",t-t*e),this},opaquer:function(e){var t=this.values.alpha;return this.setValues("alpha",t+t*e),this},rotate:function(e){var t=this.values.hsl,n=(t[0]+e)%360;return t[0]=n<0?360+n:n,this.setValues("hsl",t),this},mix:function(e,t){var n=this,i=e,r=void 0===t?.5:t,o=2*r-1,a=n.alpha()-i.alpha(),s=((o*a==-1?o:(o+a)/(1+o*a))+1)/2,l=1-s;return this.rgb(s*n.red()+l*i.red(),s*n.green()+l*i.green(),s*n.blue()+l*i.blue()).alpha(n.alpha()*r+i.alpha()*(1-r))},toJSON:function(){return this.rgb()},clone:function(){var e,t,n=new o,i=this.values,r=n.values;for(var a in i)i.hasOwnProperty(a)&&(e=i[a],"[object Array]"===(t={}.toString.call(e))?r[a]=e.slice(0):"[object Number]"===t?r[a]=e:console.error("unexpected color value:",e));return n}},o.prototype.spaces={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},o.prototype.maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},o.prototype.getValues=function(e){for(var t=this.values,n={},i=0;i<e.length;i++)n[e.charAt(i)]=t[e][i];return 1!==t.alpha&&(n.a=t.alpha),n},o.prototype.setValues=function(e,t){var n,r=this.values,o=this.spaces,a=this.maxes,s=1;if(this.valid=!0,"alpha"===e)s=t;else if(t.length)r[e]=t.slice(0,e.length),s=t[e.length];else if(void 0!==t[e.charAt(0)]){for(n=0;n<e.length;n++)r[e][n]=t[e.charAt(n)];s=t.a}else if(void 0!==t[o[e][0]]){var l=o[e];for(n=0;n<e.length;n++)r[e][n]=t[l[n]];s=t.alpha}if(r.alpha=Math.max(0,Math.min(1,void 0===s?r.alpha:s)),"alpha"===e)return!1;var u;for(n=0;n<e.length;n++)u=Math.max(0,Math.min(a[e][n],r[e][n])),r[e][n]=Math.round(u);for(var c in o)c!==e&&(r[c]=i[e][c](r[e]));return!0},o.prototype.setSpace=function(e,t){var n=t[0];return void 0===n?this.getValues(e):("number"==typeof n&&(n=Array.prototype.slice.call(t)),this.setValues(e,n),this)},o.prototype.setChannel=function(e,t,n){var i=this.values[e];return void 0===n?i[t]:n===i[t]?this:(i[t]=n,this.setValues(e,i),this)},"undefined"!=typeof window&&(window.Color=o),t.exports=o},{2:2,5:5}],4:[function(e,t,n){function i(e){var t,n,i,r=e[0]/255,o=e[1]/255,a=e[2]/255,s=Math.min(r,o,a),l=Math.max(r,o,a),u=l-s;return l==s?t=0:r==l?t=(o-a)/u:o==l?t=2+(a-r)/u:a==l&&(t=4+(r-o)/u),(t=Math.min(60*t,360))<0&&(t+=360),i=(s+l)/2,n=l==s?0:i<=.5?u/(l+s):u/(2-l-s),[t,100*n,100*i]}function o(e){var t,n,i,r=e[0],o=e[1],a=e[2],s=Math.min(r,o,a),l=Math.max(r,o,a),u=l-s;return n=0==l?0:u/l*1e3/10,l==s?t=0:r==l?t=(o-a)/u:o==l?t=2+(a-r)/u:a==l&&(t=4+(r-o)/u),(t=Math.min(60*t,360))<0&&(t+=360),i=l/255*1e3/10,[t,n,i]}function a(e){var t=e[0],n=e[1],r=e[2];return[i(e)[0],100*(1/255*Math.min(t,Math.min(n,r))),100*(r=1-1/255*Math.max(t,Math.max(n,r)))]}function s(e){var t,n,i,r,o=e[0]/255,a=e[1]/255,s=e[2]/255;return r=Math.min(1-o,1-a,1-s),t=(1-o-r)/(1-r)||0,n=(1-a-r)/(1-r)||0,i=(1-s-r)/(1-r)||0,[100*t,100*n,100*i,100*r]}function l(e){return k[JSON.stringify(e)]}function u(e){var t=e[0]/255,n=e[1]/255,i=e[2]/255;return[100*(.4124*(t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92)+.3576*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)+.1805*(i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92)),100*(.2126*t+.7152*n+.0722*i),100*(.0193*t+.1192*n+.9505*i)]}function c(e){var t,n,i,r=u(e),o=r[0],a=r[1],s=r[2];return o/=95.047,a/=100,s/=108.883,o=o>.008856?Math.pow(o,1/3):7.787*o+16/116,a=a>.008856?Math.pow(a,1/3):7.787*a+16/116,s=s>.008856?Math.pow(s,1/3):7.787*s+16/116,t=116*a-16,n=500*(o-a),i=200*(a-s),[t,n,i]}function d(e){var t,n,i,r,o,a=e[0]/360,s=e[1]/100,l=e[2]/100;if(0==s)return o=255*l,[o,o,o];t=2*l-(n=l<.5?l*(1+s):l+s-l*s),r=[0,0,0];for(var u=0;u<3;u++)(i=a+1/3*-(u-1))<0&&i++,i>1&&i--,o=6*i<1?t+6*(n-t)*i:2*i<1?n:3*i<2?t+(n-t)*(2/3-i)*6:t,r[u]=255*o;return r}function f(e){var t=e[0]/60,n=e[1]/100,i=e[2]/100,r=Math.floor(t)%6,o=t-Math.floor(t),a=255*i*(1-n),s=255*i*(1-n*o),l=255*i*(1-n*(1-o)),i=255*i;switch(r){case 0:return[i,l,a];case 1:return[s,i,a];case 2:return[a,i,l];case 3:return[a,s,i];case 4:return[l,a,i];case 5:return[i,a,s]}}function h(e){var t,n,i,o,a=e[0]/360,s=e[1]/100,l=e[2]/100,u=s+l;switch(u>1&&(s/=u,l/=u),t=Math.floor(6*a),n=1-l,i=6*a-t,0!=(1&t)&&(i=1-i),o=s+i*(n-s),t){default:case 6:case 0:r=n,g=o,b=s;break;case 1:r=o,g=n,b=s;break;case 2:r=s,g=n,b=o;break;case 3:r=s,g=o,b=n;break;case 4:r=o,g=s,b=n;break;case 5:r=n,g=s,b=o}return[255*r,255*g,255*b]}function p(e){var t,n,i,r=e[0]/100,o=e[1]/100,a=e[2]/100,s=e[3]/100;return t=1-Math.min(1,r*(1-s)+s),n=1-Math.min(1,o*(1-s)+s),i=1-Math.min(1,a*(1-s)+s),[255*t,255*n,255*i]}function v(e){var t,n,i,r=e[0]/100,o=e[1]/100,a=e[2]/100;return t=3.2406*r+-1.5372*o+-.4986*a,n=-.9689*r+1.8758*o+.0415*a,i=.0557*r+-.204*o+1.057*a,t=t>.0031308?1.055*Math.pow(t,1/2.4)-.055:t*=12.92,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:n*=12.92,i=i>.0031308?1.055*Math.pow(i,1/2.4)-.055:i*=12.92,t=Math.min(Math.max(0,t),1),n=Math.min(Math.max(0,n),1),i=Math.min(Math.max(0,i),1),[255*t,255*n,255*i]}function m(e){var t,n,i,r=e[0],o=e[1],a=e[2];return r/=95.047,o/=100,a/=108.883,r=r>.008856?Math.pow(r,1/3):7.787*r+16/116,o=o>.008856?Math.pow(o,1/3):7.787*o+16/116,a=a>.008856?Math.pow(a,1/3):7.787*a+16/116,t=116*o-16,n=500*(r-o),i=200*(o-a),[t,n,i]}function y(e){var t,n,i,r,o=e[0],a=e[1],s=e[2];return o<=8?(n=100*o/903.3,r=n/100*7.787+16/116):(n=100*Math.pow((o+16)/116,3),r=Math.pow(n/100,1/3)),t=t/95.047<=.008856?t=95.047*(a/500+r-16/116)/7.787:95.047*Math.pow(a/500+r,3),i=i/108.883<=.008859?i=108.883*(r-s/200-16/116)/7.787:108.883*Math.pow(r-s/200,3),[t,n,i]}function x(e){var t,n,i,r=e[0],o=e[1],a=e[2];return t=Math.atan2(a,o),(n=360*t/2/Math.PI)<0&&(n+=360),i=Math.sqrt(o*o+a*a),[r,i,n]}function w(e){return v(y(e))}function C(e){var t,n,i,r=e[0],o=e[1];return i=e[2]/360*2*Math.PI,t=o*Math.cos(i),n=o*Math.sin(i),[r,t,n]}function S(e){return _[e]}t.exports={rgb2hsl:i,rgb2hsv:o,rgb2hwb:a,rgb2cmyk:s,rgb2keyword:l,rgb2xyz:u,rgb2lab:c,rgb2lch:function(e){return x(c(e))},hsl2rgb:d,hsl2hsv:function(e){var t,n,i=e[0],r=e[1]/100,o=e[2]/100;return 0===o?[0,0,0]:(o*=2,r*=o<=1?o:2-o,n=(o+r)/2,t=2*r/(o+r),[i,100*t,100*n])},hsl2hwb:function(e){return a(d(e))},hsl2cmyk:function(e){return s(d(e))},hsl2keyword:function(e){return l(d(e))},hsv2rgb:f,hsv2hsl:function(e){var t,n,i=e[0],r=e[1]/100,o=e[2]/100;return n=(2-r)*o,t=r*o,t/=n<=1?n:2-n,t=t||0,n/=2,[i,100*t,100*n]},hsv2hwb:function(e){return a(f(e))},hsv2cmyk:function(e){return s(f(e))},hsv2keyword:function(e){return l(f(e))},hwb2rgb:h,hwb2hsl:function(e){return i(h(e))},hwb2hsv:function(e){return o(h(e))},hwb2cmyk:function(e){return s(h(e))},hwb2keyword:function(e){return l(h(e))},cmyk2rgb:p,cmyk2hsl:function(e){return i(p(e))},cmyk2hsv:function(e){return o(p(e))},cmyk2hwb:function(e){return a(p(e))},cmyk2keyword:function(e){return l(p(e))},keyword2rgb:S,keyword2hsl:function(e){return i(S(e))},keyword2hsv:function(e){return o(S(e))},keyword2hwb:function(e){return a(S(e))},keyword2cmyk:function(e){return s(S(e))},keyword2lab:function(e){return c(S(e))},keyword2xyz:function(e){return u(S(e))},xyz2rgb:v,xyz2lab:m,xyz2lch:function(e){return x(m(e))},lab2xyz:y,lab2rgb:w,lab2lch:x,lch2lab:C,lch2xyz:function(e){return y(C(e))},lch2rgb:function(e){return w(C(e))}};var _={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},k={};for(var T in _)k[JSON.stringify(_[T])]=T},{}],5:[function(e,t,n){var i=e(4),r=function(){return new u};for(var o in i){r[o+"Raw"]=function(e){return function(t){return"number"==typeof t&&(t=Array.prototype.slice.call(arguments)),i[e](t)}}(o);var a=/(\w+)2(\w+)/.exec(o),s=a[1],l=a[2];(r[s]=r[s]||{})[l]=r[o]=function(e){return function(t){"number"==typeof t&&(t=Array.prototype.slice.call(arguments));var n=i[e](t);if("string"==typeof n||void 0===n)return n;for(var r=0;r<n.length;r++)n[r]=Math.round(n[r]);return n}}(o)}var u=function(){this.convs={}};u.prototype.routeSpace=function(e,t){var n=t[0];return void 0===n?this.getValues(e):("number"==typeof n&&(n=Array.prototype.slice.call(t)),this.setValues(e,n))},u.prototype.setValues=function(e,t){return this.space=e,this.convs={},this.convs[e]=t,this},u.prototype.getValues=function(e){var t=this.convs[e];if(!t){var n=this.space,i=this.convs[n];t=r[n][e](i),this.convs[e]=t}return t},["rgb","hsl","hsv","cmyk","keyword"].forEach(function(e){u.prototype[e]=function(t){return this.routeSpace(e,arguments)}}),t.exports=r},{4:4}],6:[function(e,t,n){t.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},{}],7:[function(e,t,n){var i=e(28)();e(26)(i),e(40)(i),e(22)(i),e(25)(i),e(30)(i),e(21)(i),e(23)(i),e(24)(i),e(29)(i),e(32)(i),e(33)(i),e(31)(i),e(27)(i),e(34)(i),e(35)(i),e(36)(i),e(37)(i),e(38)(i),e(46)(i),e(44)(i),e(45)(i),e(47)(i),e(48)(i),e(49)(i),e(15)(i),e(16)(i),e(17)(i),e(18)(i),e(19)(i),e(20)(i),e(8)(i),e(9)(i),e(10)(i),e(11)(i),e(12)(i),e(13)(i),e(14)(i);var r=[];r.push(e(41)(i),e(42)(i),e(43)(i)),i.plugins.register(r),t.exports=i,"undefined"!=typeof window&&(window.Chart=i)},{10:10,11:11,12:12,13:13,14:14,15:15,16:16,17:17,18:18,19:19,20:20,21:21,22:22,23:23,24:24,25:25,26:26,27:27,28:28,29:29,30:30,31:31,32:32,33:33,34:34,35:35,36:36,37:37,38:38,40:40,41:41,42:42,43:43,44:44,45:45,46:46,47:47,48:48,49:49,8:8,9:9}],8:[function(e,t,n){"use strict";t.exports=function(e){e.Bar=function(t,n){return n.type="bar",new e(t,n)}}},{}],9:[function(e,t,n){"use strict";t.exports=function(e){e.Bubble=function(t,n){return n.type="bubble",new e(t,n)}}},{}],10:[function(e,t,n){"use strict";t.exports=function(e){e.Doughnut=function(t,n){return n.type="doughnut",new e(t,n)}}},{}],11:[function(e,t,n){"use strict";t.exports=function(e){e.Line=function(t,n){return n.type="line",new e(t,n)}}},{}],12:[function(e,t,n){"use strict";t.exports=function(e){e.PolarArea=function(t,n){return n.type="polarArea",new e(t,n)}}},{}],13:[function(e,t,n){"use strict";t.exports=function(e){e.Radar=function(t,n){return n.type="radar",new e(t,n)}}},{}],14:[function(e,t,n){"use strict";t.exports=function(e){var t={hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-1"}],yAxes:[{type:"linear",position:"left",id:"y-axis-1"}]},tooltips:{callbacks:{title:function(){return""},label:function(e){return"("+e.xLabel+", "+e.yLabel+")"}}}};e.defaults.scatter=t,e.controllers.scatter=e.controllers.line,e.Scatter=function(t,n){return n.type="scatter",new e(t,n)}}},{}],15:[function(e,t,n){"use strict";t.exports=function(e){var t=e.helpers;e.defaults.bar={hover:{mode:"label"},scales:{xAxes:[{type:"category",categoryPercentage:.8,barPercentage:.9,gridLines:{offsetGridLines:!0}}],yAxes:[{type:"linear"}]}},e.controllers.bar=e.DatasetController.extend({dataElementType:e.elements.Rectangle,initialize:function(){var t,n=this;e.DatasetController.prototype.initialize.apply(n,arguments),(t=n.getMeta()).stack=n.getDataset().stack,t.bar=!0},update:function(e){var t,n,i=this,r=i.getMeta().data;for(i._ruler=i.getRuler(),t=0,n=r.length;t<n;++t)i.updateElement(r[t],t,e)},updateElement:function(e,n,i){var r=this,o=r.chart,a=r.getMeta(),s=r.getDataset(),l=e.custom||{},u=o.options.elements.rectangle;e._xScale=r.getScaleForId(a.xAxisID),e._yScale=r.getScaleForId(a.yAxisID),e._datasetIndex=r.index,e._index=n,e._model={datasetLabel:s.label,label:o.data.labels[n],borderSkipped:l.borderSkipped?l.borderSkipped:u.borderSkipped,backgroundColor:l.backgroundColor?l.backgroundColor:t.getValueAtIndexOrDefault(s.backgroundColor,n,u.backgroundColor),borderColor:l.borderColor?l.borderColor:t.getValueAtIndexOrDefault(s.borderColor,n,u.borderColor),borderWidth:l.borderWidth?l.borderWidth:t.getValueAtIndexOrDefault(s.borderWidth,n,u.borderWidth)},r.updateElementGeometry(e,n,i),e.pivot()},updateElementGeometry:function(e,t,n){var i=this,r=e._model,o=i.getValueScale(),a=o.getBasePixel(),s=o.isHorizontal(),l=i._ruler||i.getRuler(),u=i.calculateBarValuePixels(i.index,t),c=i.calculateBarIndexPixels(i.index,t,l);r.horizontal=s,r.base=n?a:u.base,r.x=s?n?a:u.head:c.center,r.y=s?c.center:n?a:u.head,r.height=s?c.size:void 0,r.width=s?void 0:c.size},getValueScaleId:function(){return this.getMeta().yAxisID},getIndexScaleId:function(){return this.getMeta().xAxisID},getValueScale:function(){return this.getScaleForId(this.getValueScaleId())},getIndexScale:function(){return this.getScaleForId(this.getIndexScaleId())},getStackCount:function(e){var t,n,i=this,r=i.chart,o=i.getIndexScale().options.stacked,a=void 0===e?r.data.datasets.length:e+1,s=[];for(t=0;t<a;++t)(n=r.getDatasetMeta(t)).bar&&r.isDatasetVisible(t)&&(!1===o||!0===o&&-1===s.indexOf(n.stack)||void 0===o&&(void 0===n.stack||-1===s.indexOf(n.stack)))&&s.push(n.stack);return s.length},getStackIndex:function(e){return this.getStackCount(e)-1},getRuler:function(){var e=this,n=e.getIndexScale(),i=n.options,r=e.getStackCount(),o=(n.isHorizontal()?n.width:n.height)/n.ticks.length,a=o*i.categoryPercentage,s=a/r,l=s*i.barPercentage;return l=Math.min(t.getValueOrDefault(i.barThickness,l),t.getValueOrDefault(i.maxBarThickness,1/0)),{stackCount:r,tickSize:o,categorySize:a,categorySpacing:o-a,fullBarSize:s,barSize:l,barSpacing:s-l,scale:n}},calculateBarValuePixels:function(e,t){var n,i,r,o,a,s,l=this,u=l.chart,c=l.getMeta(),d=l.getValueScale(),f=u.data.datasets,h=Number(f[e].data[t]),p=d.options.stacked,g=c.stack,v=0;if(p||void 0===p&&void 0!==g)for(n=0;n<e;++n)(i=u.getDatasetMeta(n)).bar&&i.stack===g&&i.controller.getValueScaleId()===d.id&&u.isDatasetVisible(n)&&(r=Number(f[n].data[t]),(h<0&&r<0||h>=0&&r>0)&&(v+=r));return o=d.getPixelForValue(v),a=d.getPixelForValue(v+h),s=(a-o)/2,{size:s,base:o,head:a,center:a+s/2}},calculateBarIndexPixels:function(e,t,n){var i=this,r=n.scale,o=i.chart.isCombo,a=i.getStackIndex(e),s=r.getPixelForValue(null,t,e,o),l=n.barSize;return s-=o?n.tickSize/2:0,s+=n.fullBarSize*a,s+=n.categorySpacing/2,s+=n.barSpacing/2,{size:l,base:s,head:s+l,center:s+l/2}},draw:function(){var e,n=this,i=n.chart,r=n.getMeta().data,o=n.getDataset(),a=r.length,s=0;for(t.canvas.clipArea(i.ctx,i.chartArea);s<a;++s)null===(e=o.data[s])||void 0===e||isNaN(e)||r[s].draw();t.canvas.unclipArea(i.ctx)},setHoverStyle:function(e){var n=this.chart.data.datasets[e._datasetIndex],i=e._index,r=e.custom||{},o=e._model;o.backgroundColor=r.hoverBackgroundColor?r.hoverBackgroundColor:t.getValueAtIndexOrDefault(n.hoverBackgroundColor,i,t.getHoverColor(o.backgroundColor)),o.borderColor=r.hoverBorderColor?r.hoverBorderColor:t.getValueAtIndexOrDefault(n.hoverBorderColor,i,t.getHoverColor(o.borderColor)),o.borderWidth=r.hoverBorderWidth?r.hoverBorderWidth:t.getValueAtIndexOrDefault(n.hoverBorderWidth,i,o.borderWidth)},removeHoverStyle:function(e){var n=this.chart.data.datasets[e._datasetIndex],i=e._index,r=e.custom||{},o=e._model,a=this.chart.options.elements.rectangle;o.backgroundColor=r.backgroundColor?r.backgroundColor:t.getValueAtIndexOrDefault(n.backgroundColor,i,a.backgroundColor),o.borderColor=r.borderColor?r.borderColor:t.getValueAtIndexOrDefault(n.borderColor,i,a.borderColor),o.borderWidth=r.borderWidth?r.borderWidth:t.getValueAtIndexOrDefault(n.borderWidth,i,a.borderWidth)}}),e.defaults.horizontalBar={hover:{mode:"label"},scales:{xAxes:[{type:"linear",position:"bottom"}],yAxes:[{position:"left",type:"category",categoryPercentage:.8,barPercentage:.9,gridLines:{offsetGridLines:!0}}]},elements:{rectangle:{borderSkipped:"left"}},tooltips:{callbacks:{title:function(e,t){var n="";return e.length>0&&(e[0].yLabel?n=e[0].yLabel:t.labels.length>0&&e[0].index<t.labels.length&&(n=t.labels[e[0].index])),n},label:function(e,t){return(t.datasets[e.datasetIndex].label||"")+": "+e.xLabel}}}},e.controllers.horizontalBar=e.controllers.bar.extend({getValueScaleId:function(){return this.getMeta().xAxisID},getIndexScaleId:function(){return this.getMeta().yAxisID}})}},{}],16:[function(e,t,n){"use strict";t.exports=function(e){var t=e.helpers;e.defaults.bubble={hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{callbacks:{title:function(){return""},label:function(e,t){var n=t.datasets[e.datasetIndex].label||"",i=t.datasets[e.datasetIndex].data[e.index];return n+": ("+e.xLabel+", "+e.yLabel+", "+i.r+")"}}}},e.controllers.bubble=e.DatasetController.extend({dataElementType:e.elements.Point,update:function(e){var n=this,i=n.getMeta().data;t.each(i,function(t,i){n.updateElement(t,i,e)})},updateElement:function(n,i,r){var o=this,a=o.getMeta(),s=o.getScaleForId(a.xAxisID),l=o.getScaleForId(a.yAxisID),u=n.custom||{},c=o.getDataset(),d=c.data[i],f=o.chart.options.elements.point,h=o.index;t.extend(n,{_xScale:s,_yScale:l,_datasetIndex:h,_index:i,_model:{x:r?s.getPixelForDecimal(.5):s.getPixelForValue("object"==typeof d?d:NaN,i,h,o.chart.isCombo),y:r?l.getBasePixel():l.getPixelForValue(d,i,h),radius:r?0:u.radius?u.radius:o.getRadius(d),hitRadius:u.hitRadius?u.hitRadius:t.getValueAtIndexOrDefault(c.hitRadius,i,f.hitRadius)}}),e.DatasetController.prototype.removeHoverStyle.call(o,n,f);var p=n._model;p.skip=u.skip?u.skip:isNaN(p.x)||isNaN(p.y),n.pivot()},getRadius:function(e){return e.r||this.chart.options.elements.point.radius},setHoverStyle:function(n){var i=this;e.DatasetController.prototype.setHoverStyle.call(i,n);var r=i.chart.data.datasets[n._datasetIndex],o=n._index,a=n.custom||{};n._model.radius=a.hoverRadius?a.hoverRadius:t.getValueAtIndexOrDefault(r.hoverRadius,o,i.chart.options.elements.point.hoverRadius)+i.getRadius(r.data[o])},removeHoverStyle:function(t){var n=this;e.DatasetController.prototype.removeHoverStyle.call(n,t,n.chart.options.elements.point);var i=n.chart.data.datasets[t._datasetIndex].data[t._index],r=t.custom||{};t._model.radius=r.radius?r.radius:n.getRadius(i)}})}},{}],17:[function(e,t,n){"use strict";t.exports=function(e){var t=e.helpers,n=e.defaults;n.doughnut={animation:{animateRotate:!0,animateScale:!1},aspectRatio:1,hover:{mode:"single"},legendCallback:function(e){var t=[];t.push('<ul class="'+e.id+'-legend">');var n=e.data,i=n.datasets,r=n.labels;if(i.length)for(var o=0;o<i[0].data.length;++o)t.push('<li><span style="background-color:'+i[0].backgroundColor[o]+'"></span>'),r[o]&&t.push(r[o]),t.push("</li>");return t.push("</ul>"),t.join("")},legend:{labels:{generateLabels:function(e){var n=e.data;return n.labels.length&&n.datasets.length?n.labels.map(function(i,r){var o=e.getDatasetMeta(0),a=n.datasets[0],s=o.data[r],l=s&&s.custom||{},u=t.getValueAtIndexOrDefault,c=e.options.elements.arc;return{text:i,fillStyle:l.backgroundColor?l.backgroundColor:u(a.backgroundColor,r,c.backgroundColor),strokeStyle:l.borderColor?l.borderColor:u(a.borderColor,r,c.borderColor),lineWidth:l.borderWidth?l.borderWidth:u(a.borderWidth,r,c.borderWidth),hidden:isNaN(a.data[r])||o.data[r].hidden,index:r}}):[]}},onClick:function(e,t){var n,i,r,o=t.index,a=this.chart;for(n=0,i=(a.data.datasets||[]).length;n<i;++n)(r=a.getDatasetMeta(n)).data[o]&&(r.data[o].hidden=!r.data[o].hidden);a.update()}},cutoutPercentage:50,rotation:-.5*Math.PI,circumference:2*Math.PI,tooltips:{callbacks:{title:function(){return""},label:function(e,n){var i=n.labels[e.index],r=": "+n.datasets[e.datasetIndex].data[e.index];return t.isArray(i)?(i=i.slice(),i[0]+=r):i+=r,i}}}},n.pie=t.clone(n.doughnut),t.extend(n.pie,{cutoutPercentage:0}),e.controllers.doughnut=e.controllers.pie=e.DatasetController.extend({dataElementType:e.elements.Arc,linkScales:t.noop,getRingIndex:function(e){for(var t=0,n=0;n<e;++n)this.chart.isDatasetVisible(n)&&++t;return t},update:function(e){var n=this,i=n.chart,r=i.chartArea,o=i.options,a=o.elements.arc,s=r.right-r.left-a.borderWidth,l=r.bottom-r.top-a.borderWidth,u=Math.min(s,l),c={x:0,y:0},d=n.getMeta(),f=o.cutoutPercentage,h=o.circumference;if(h<2*Math.PI){var p=o.rotation%(2*Math.PI),g=(p+=2*Math.PI*(p>=Math.PI?-1:p<-Math.PI?1:0))+h,v={x:Math.cos(p),y:Math.sin(p)},m={x:Math.cos(g),y:Math.sin(g)},b=p<=0&&0<=g||p<=2*Math.PI&&2*Math.PI<=g,y=p<=.5*Math.PI&&.5*Math.PI<=g||p<=2.5*Math.PI&&2.5*Math.PI<=g,x=p<=-Math.PI&&-Math.PI<=g||p<=Math.PI&&Math.PI<=g,w=p<=.5*-Math.PI&&.5*-Math.PI<=g||p<=1.5*Math.PI&&1.5*Math.PI<=g,C=f/100,S={x:x?-1:Math.min(v.x*(v.x<0?1:C),m.x*(m.x<0?1:C)),y:w?-1:Math.min(v.y*(v.y<0?1:C),m.y*(m.y<0?1:C))},_={x:b?1:Math.max(v.x*(v.x>0?1:C),m.x*(m.x>0?1:C)),y:y?1:Math.max(v.y*(v.y>0?1:C),m.y*(m.y>0?1:C))},k={width:.5*(_.x-S.x),height:.5*(_.y-S.y)};u=Math.min(s/k.width,l/k.height),c={x:-.5*(_.x+S.x),y:-.5*(_.y+S.y)}}i.borderWidth=n.getMaxBorderWidth(d.data),i.outerRadius=Math.max((u-i.borderWidth)/2,0),i.innerRadius=Math.max(f?i.outerRadius/100*f:0,0),i.radiusLength=(i.outerRadius-i.innerRadius)/i.getVisibleDatasetCount(),i.offsetX=c.x*i.outerRadius,i.offsetY=c.y*i.outerRadius,d.total=n.calculateTotal(),n.outerRadius=i.outerRadius-i.radiusLength*n.getRingIndex(n.index),n.innerRadius=Math.max(n.outerRadius-i.radiusLength,0),t.each(d.data,function(t,i){n.updateElement(t,i,e)})},updateElement:function(e,n,i){var r=this,o=r.chart,a=o.chartArea,s=o.options,l=s.animation,u=(a.left+a.right)/2,c=(a.top+a.bottom)/2,d=s.rotation,f=s.rotation,h=r.getDataset(),p=i&&l.animateRotate?0:e.hidden?0:r.calculateCircumference(h.data[n])*(s.circumference/(2*Math.PI)),g=i&&l.animateScale?0:r.innerRadius,v=i&&l.animateScale?0:r.outerRadius,m=t.getValueAtIndexOrDefault;t.extend(e,{_datasetIndex:r.index,_index:n,_model:{x:u+o.offsetX,y:c+o.offsetY,startAngle:d,endAngle:f,circumference:p,outerRadius:v,innerRadius:g,label:m(h.label,n,o.data.labels[n])}});var b=e._model;this.removeHoverStyle(e),i&&l.animateRotate||(b.startAngle=0===n?s.rotation:r.getMeta().data[n-1]._model.endAngle,b.endAngle=b.startAngle+b.circumference),e.pivot()},removeHoverStyle:function(t){e.DatasetController.prototype.removeHoverStyle.call(this,t,this.chart.options.elements.arc)},calculateTotal:function(){var e,n=this.getDataset(),i=this.getMeta(),r=0;return t.each(i.data,function(t,i){e=n.data[i],isNaN(e)||t.hidden||(r+=Math.abs(e))}),r},calculateCircumference:function(e){var t=this.getMeta().total;return t>0&&!isNaN(e)?2*Math.PI*(e/t):0},getMaxBorderWidth:function(e){for(var t,n,i=0,r=this.index,o=e.length,a=0;a<o;a++)t=e[a]._model?e[a]._model.borderWidth:0,n=e[a]._chart?e[a]._chart.config.data.datasets[r].hoverBorderWidth:0,i=t>i?t:i,i=n>i?n:i;return i}})}},{}],18:[function(e,t,n){"use strict";t.exports=function(e){function t(e,t){return n.getValueOrDefault(e.showLine,t.showLines)}var n=e.helpers;e.defaults.line={showLines:!0,spanGaps:!1,hover:{mode:"label"},scales:{xAxes:[{type:"category",id:"x-axis-0"}],yAxes:[{type:"linear",id:"y-axis-0"}]}},e.controllers.line=e.DatasetController.extend({datasetElementType:e.elements.Line,dataElementType:e.elements.Point,update:function(e){var i,r,o,a=this,s=a.getMeta(),l=s.dataset,u=s.data||[],c=a.chart.options,d=c.elements.line,f=a.getScaleForId(s.yAxisID),h=a.getDataset(),p=t(h,c);for(p&&(o=l.custom||{},void 0!==h.tension&&void 0===h.lineTension&&(h.lineTension=h.tension),l._scale=f,l._datasetIndex=a.index,l._children=u,l._model={spanGaps:h.spanGaps?h.spanGaps:c.spanGaps,tension:o.tension?o.tension:n.getValueOrDefault(h.lineTension,d.tension),backgroundColor:o.backgroundColor?o.backgroundColor:h.backgroundColor||d.backgroundColor,borderWidth:o.borderWidth?o.borderWidth:h.borderWidth||d.borderWidth,borderColor:o.borderColor?o.borderColor:h.borderColor||d.borderColor,borderCapStyle:o.borderCapStyle?o.borderCapStyle:h.borderCapStyle||d.borderCapStyle,borderDash:o.borderDash?o.borderDash:h.borderDash||d.borderDash,borderDashOffset:o.borderDashOffset?o.borderDashOffset:h.borderDashOffset||d.borderDashOffset,borderJoinStyle:o.borderJoinStyle?o.borderJoinStyle:h.borderJoinStyle||d.borderJoinStyle,fill:o.fill?o.fill:void 0!==h.fill?h.fill:d.fill,steppedLine:o.steppedLine?o.steppedLine:n.getValueOrDefault(h.steppedLine,d.stepped),cubicInterpolationMode:o.cubicInterpolationMode?o.cubicInterpolationMode:n.getValueOrDefault(h.cubicInterpolationMode,d.cubicInterpolationMode)},l.pivot()),i=0,r=u.length;i<r;++i)a.updateElement(u[i],i,e);for(p&&0!==l._model.tension&&a.updateBezierControlPoints(),i=0,r=u.length;i<r;++i)u[i].pivot()},getPointBackgroundColor:function(e,t){var i=this.chart.options.elements.point.backgroundColor,r=this.getDataset(),o=e.custom||{};return o.backgroundColor?i=o.backgroundColor:r.pointBackgroundColor?i=n.getValueAtIndexOrDefault(r.pointBackgroundColor,t,i):r.backgroundColor&&(i=r.backgroundColor),i},getPointBorderColor:function(e,t){var i=this.chart.options.elements.point.borderColor,r=this.getDataset(),o=e.custom||{};return o.borderColor?i=o.borderColor:r.pointBorderColor?i=n.getValueAtIndexOrDefault(r.pointBorderColor,t,i):r.borderColor&&(i=r.borderColor),i},getPointBorderWidth:function(e,t){var i=this.chart.options.elements.point.borderWidth,r=this.getDataset(),o=e.custom||{};return isNaN(o.borderWidth)?isNaN(r.pointBorderWidth)?isNaN(r.borderWidth)||(i=r.borderWidth):i=n.getValueAtIndexOrDefault(r.pointBorderWidth,t,i):i=o.borderWidth,i},updateElement:function(e,t,i){var r,o,a=this,s=a.getMeta(),l=e.custom||{},u=a.getDataset(),c=a.index,d=u.data[t],f=a.getScaleForId(s.yAxisID),h=a.getScaleForId(s.xAxisID),p=a.chart.options.elements.point,g=1===(a.chart.data.labels||[]).length||1===u.data.length||a.chart.isCombo;void 0!==u.radius&&void 0===u.pointRadius&&(u.pointRadius=u.radius),void 0!==u.hitRadius&&void 0===u.pointHitRadius&&(u.pointHitRadius=u.hitRadius),r=h.getPixelForValue("object"==typeof d?d:NaN,t,c,g),o=i?f.getBasePixel():a.calculatePointY(d,t,c),e._xScale=h,e._yScale=f,e._datasetIndex=c,e._index=t,e._model={x:r,y:o,skip:l.skip||isNaN(r)||isNaN(o),radius:l.radius||n.getValueAtIndexOrDefault(u.pointRadius,t,p.radius),pointStyle:l.pointStyle||n.getValueAtIndexOrDefault(u.pointStyle,t,p.pointStyle),backgroundColor:a.getPointBackgroundColor(e,t),borderColor:a.getPointBorderColor(e,t),borderWidth:a.getPointBorderWidth(e,t),tension:s.dataset._model?s.dataset._model.tension:0,steppedLine:!!s.dataset._model&&s.dataset._model.steppedLine,hitRadius:l.hitRadius||n.getValueAtIndexOrDefault(u.pointHitRadius,t,p.hitRadius)}},calculatePointY:function(e,t,n){var i,r,o,a=this,s=a.chart,l=a.getMeta(),u=a.getScaleForId(l.yAxisID),c=0,d=0;if(u.options.stacked){for(i=0;i<n;i++)if(r=s.data.datasets[i],"line"===(o=s.getDatasetMeta(i)).type&&o.yAxisID===u.id&&s.isDatasetVisible(i)){var f=Number(u.getRightValue(r.data[t]));f<0?d+=f||0:c+=f||0}var h=Number(u.getRightValue(e));return h<0?u.getPixelForValue(d+h):u.getPixelForValue(c+h)}return u.getPixelForValue(e)},updateBezierControlPoints:function(){function e(e,t,n){return Math.max(Math.min(e,n),t)}var t,i,r,o,a,s=this,l=s.getMeta(),u=s.chart.chartArea,c=l.data||[];if(l.dataset._model.spanGaps&&(c=c.filter(function(e){return!e._model.skip})),"monotone"===l.dataset._model.cubicInterpolationMode)n.splineCurveMonotone(c);else for(t=0,i=c.length;t<i;++t)r=c[t],o=r._model,a=n.splineCurve(n.previousItem(c,t)._model,o,n.nextItem(c,t)._model,l.dataset._model.tension),o.controlPointPreviousX=a.previous.x,o.controlPointPreviousY=a.previous.y,o.controlPointNextX=a.next.x,o.controlPointNextY=a.next.y;if(s.chart.options.elements.line.capBezierPoints)for(t=0,i=c.length;t<i;++t)o=c[t]._model,o.controlPointPreviousX=e(o.controlPointPreviousX,u.left,u.right),o.controlPointPreviousY=e(o.controlPointPreviousY,u.top,u.bottom),o.controlPointNextX=e(o.controlPointNextX,u.left,u.right),o.controlPointNextY=e(o.controlPointNextY,u.top,u.bottom)},draw:function(){var n=this,i=n.chart,r=n.getMeta(),o=r.data||[],a=i.chartArea,s=o.length,l=0;for(e.canvasHelpers.clipArea(i.ctx,a),t(n.getDataset(),i.options)&&r.dataset.draw(),e.canvasHelpers.unclipArea(i.ctx);l<s;++l)o[l].draw(a)},setHoverStyle:function(e){var t=this.chart.data.datasets[e._datasetIndex],i=e._index,r=e.custom||{},o=e._model;o.radius=r.hoverRadius||n.getValueAtIndexOrDefault(t.pointHoverRadius,i,this.chart.options.elements.point.hoverRadius),o.backgroundColor=r.hoverBackgroundColor||n.getValueAtIndexOrDefault(t.pointHoverBackgroundColor,i,n.getHoverColor(o.backgroundColor)),o.borderColor=r.hoverBorderColor||n.getValueAtIndexOrDefault(t.pointHoverBorderColor,i,n.getHoverColor(o.borderColor)),o.borderWidth=r.hoverBorderWidth||n.getValueAtIndexOrDefault(t.pointHoverBorderWidth,i,o.borderWidth)},removeHoverStyle:function(e){var t=this,i=t.chart.data.datasets[e._datasetIndex],r=e._index,o=e.custom||{},a=e._model;void 0!==i.radius&&void 0===i.pointRadius&&(i.pointRadius=i.radius),a.radius=o.radius||n.getValueAtIndexOrDefault(i.pointRadius,r,t.chart.options.elements.point.radius),a.backgroundColor=t.getPointBackgroundColor(e,r),a.borderColor=t.getPointBorderColor(e,r),a.borderWidth=t.getPointBorderWidth(e,r)}})}},{}],19:[function(e,t,n){"use strict";t.exports=function(e){var t=e.helpers;e.defaults.polarArea={scale:{type:"radialLinear",angleLines:{display:!1},gridLines:{circular:!0},pointLabels:{display:!1},ticks:{beginAtZero:!0}},animation:{animateRotate:!0,animateScale:!0},startAngle:-.5*Math.PI,aspectRatio:1,legendCallback:function(e){var t=[];t.push('<ul class="'+e.id+'-legend">');var n=e.data,i=n.datasets,r=n.labels;if(i.length)for(var o=0;o<i[0].data.length;++o)t.push('<li><span style="background-color:'+i[0].backgroundColor[o]+'"></span>'),r[o]&&t.push(r[o]),t.push("</li>");return t.push("</ul>"),t.join("")},legend:{labels:{generateLabels:function(e){var n=e.data;return n.labels.length&&n.datasets.length?n.labels.map(function(i,r){var o=e.getDatasetMeta(0),a=n.datasets[0],s=o.data[r].custom||{},l=t.getValueAtIndexOrDefault,u=e.options.elements.arc;return{text:i,fillStyle:s.backgroundColor?s.backgroundColor:l(a.backgroundColor,r,u.backgroundColor),strokeStyle:s.borderColor?s.borderColor:l(a.borderColor,r,u.borderColor),lineWidth:s.borderWidth?s.borderWidth:l(a.borderWidth,r,u.borderWidth),hidden:isNaN(a.data[r])||o.data[r].hidden,index:r}}):[]}},onClick:function(e,t){var n,i,r,o=t.index,a=this.chart;for(n=0,i=(a.data.datasets||[]).length;n<i;++n)r=a.getDatasetMeta(n),r.data[o].hidden=!r.data[o].hidden;a.update()}},tooltips:{callbacks:{title:function(){return""},label:function(e,t){return t.labels[e.index]+": "+e.yLabel}}}},e.controllers.polarArea=e.DatasetController.extend({dataElementType:e.elements.Arc,linkScales:t.noop,update:function(e){var n=this,i=n.chart,r=i.chartArea,o=n.getMeta(),a=i.options,s=a.elements.arc,l=Math.min(r.right-r.left,r.bottom-r.top);i.outerRadius=Math.max((l-s.borderWidth/2)/2,0),i.innerRadius=Math.max(a.cutoutPercentage?i.outerRadius/100*a.cutoutPercentage:1,0),i.radiusLength=(i.outerRadius-i.innerRadius)/i.getVisibleDatasetCount(),n.outerRadius=i.outerRadius-i.radiusLength*n.index,n.innerRadius=n.outerRadius-i.radiusLength,o.count=n.countVisibleElements(),t.each(o.data,function(t,i){n.updateElement(t,i,e)})},updateElement:function(e,n,i){for(var r=this,o=r.chart,a=r.getDataset(),s=o.options,l=s.animation,u=o.scale,c=t.getValueAtIndexOrDefault,d=o.data.labels,f=r.calculateCircumference(a.data[n]),h=u.xCenter,p=u.yCenter,g=0,v=r.getMeta(),m=0;m<n;++m)isNaN(a.data[m])||v.data[m].hidden||++g;var b=s.startAngle,y=e.hidden?0:u.getDistanceFromCenterForValue(a.data[n]),x=b+f*g,w=x+(e.hidden?0:f),C=l.animateScale?0:u.getDistanceFromCenterForValue(a.data[n]);t.extend(e,{_datasetIndex:r.index,_index:n,_scale:u,_model:{x:h,y:p,innerRadius:0,outerRadius:i?C:y,startAngle:i&&l.animateRotate?b:x,endAngle:i&&l.animateRotate?b:w,label:c(d,n,d[n])}}),r.removeHoverStyle(e),e.pivot()},removeHoverStyle:function(t){e.DatasetController.prototype.removeHoverStyle.call(this,t,this.chart.options.elements.arc)},countVisibleElements:function(){var e=this.getDataset(),n=this.getMeta(),i=0;return t.each(n.data,function(t,n){isNaN(e.data[n])||t.hidden||i++}),i},calculateCircumference:function(e){var t=this.getMeta().count;return t>0&&!isNaN(e)?2*Math.PI/t:0}})}},{}],20:[function(e,t,n){"use strict";t.exports=function(e){var t=e.helpers;e.defaults.radar={aspectRatio:1,scale:{type:"radialLinear"},elements:{line:{tension:0}}},e.controllers.radar=e.DatasetController.extend({datasetElementType:e.elements.Line,dataElementType:e.elements.Point,linkScales:t.noop,update:function(e){var n=this,i=n.getMeta(),r=i.dataset,o=i.data,a=r.custom||{},s=n.getDataset(),l=n.chart.options.elements.line,u=n.chart.scale;void 0!==s.tension&&void 0===s.lineTension&&(s.lineTension=s.tension),t.extend(i.dataset,{_datasetIndex:n.index,_scale:u,_children:o,_loop:!0,_model:{tension:a.tension?a.tension:t.getValueOrDefault(s.lineTension,l.tension),backgroundColor:a.backgroundColor?a.backgroundColor:s.backgroundColor||l.backgroundColor,borderWidth:a.borderWidth?a.borderWidth:s.borderWidth||l.borderWidth,borderColor:a.borderColor?a.borderColor:s.borderColor||l.borderColor,fill:a.fill?a.fill:void 0!==s.fill?s.fill:l.fill,borderCapStyle:a.borderCapStyle?a.borderCapStyle:s.borderCapStyle||l.borderCapStyle,borderDash:a.borderDash?a.borderDash:s.borderDash||l.borderDash,borderDashOffset:a.borderDashOffset?a.borderDashOffset:s.borderDashOffset||l.borderDashOffset,borderJoinStyle:a.borderJoinStyle?a.borderJoinStyle:s.borderJoinStyle||l.borderJoinStyle}}),i.dataset.pivot(),t.each(o,function(t,i){n.updateElement(t,i,e)},n),n.updateBezierControlPoints()},updateElement:function(e,n,i){var r=this,o=e.custom||{},a=r.getDataset(),s=r.chart.scale,l=r.chart.options.elements.point,u=s.getPointPositionForValue(n,a.data[n]);void 0!==a.radius&&void 0===a.pointRadius&&(a.pointRadius=a.radius),void 0!==a.hitRadius&&void 0===a.pointHitRadius&&(a.pointHitRadius=a.hitRadius),t.extend(e,{_datasetIndex:r.index,_index:n,_scale:s,_model:{x:i?s.xCenter:u.x,y:i?s.yCenter:u.y,tension:o.tension?o.tension:t.getValueOrDefault(a.lineTension,r.chart.options.elements.line.tension),radius:o.radius?o.radius:t.getValueAtIndexOrDefault(a.pointRadius,n,l.radius),backgroundColor:o.backgroundColor?o.backgroundColor:t.getValueAtIndexOrDefault(a.pointBackgroundColor,n,l.backgroundColor),borderColor:o.borderColor?o.borderColor:t.getValueAtIndexOrDefault(a.pointBorderColor,n,l.borderColor),borderWidth:o.borderWidth?o.borderWidth:t.getValueAtIndexOrDefault(a.pointBorderWidth,n,l.borderWidth),pointStyle:o.pointStyle?o.pointStyle:t.getValueAtIndexOrDefault(a.pointStyle,n,l.pointStyle),hitRadius:o.hitRadius?o.hitRadius:t.getValueAtIndexOrDefault(a.pointHitRadius,n,l.hitRadius)}}),e._model.skip=o.skip?o.skip:isNaN(e._model.x)||isNaN(e._model.y)},updateBezierControlPoints:function(){var e=this.chart.chartArea,n=this.getMeta();t.each(n.data,function(i,r){var o=i._model,a=t.splineCurve(t.previousItem(n.data,r,!0)._model,o,t.nextItem(n.data,r,!0)._model,o.tension);o.controlPointPreviousX=Math.max(Math.min(a.previous.x,e.right),e.left),o.controlPointPreviousY=Math.max(Math.min(a.previous.y,e.bottom),e.top),o.controlPointNextX=Math.max(Math.min(a.next.x,e.right),e.left),o.controlPointNextY=Math.max(Math.min(a.next.y,e.bottom),e.top),i.pivot()})},setHoverStyle:function(e){var n=this.chart.data.datasets[e._datasetIndex],i=e.custom||{},r=e._index,o=e._model;o.radius=i.hoverRadius?i.hoverRadius:t.getValueAtIndexOrDefault(n.pointHoverRadius,r,this.chart.options.elements.point.hoverRadius),o.backgroundColor=i.hoverBackgroundColor?i.hoverBackgroundColor:t.getValueAtIndexOrDefault(n.pointHoverBackgroundColor,r,t.getHoverColor(o.backgroundColor)),o.borderColor=i.hoverBorderColor?i.hoverBorderColor:t.getValueAtIndexOrDefault(n.pointHoverBorderColor,r,t.getHoverColor(o.borderColor)),o.borderWidth=i.hoverBorderWidth?i.hoverBorderWidth:t.getValueAtIndexOrDefault(n.pointHoverBorderWidth,r,o.borderWidth)},removeHoverStyle:function(e){var n=this.chart.data.datasets[e._datasetIndex],i=e.custom||{},r=e._index,o=e._model,a=this.chart.options.elements.point;o.radius=i.radius?i.radius:t.getValueAtIndexOrDefault(n.pointRadius,r,a.radius),o.backgroundColor=i.backgroundColor?i.backgroundColor:t.getValueAtIndexOrDefault(n.pointBackgroundColor,r,a.backgroundColor),o.borderColor=i.borderColor?i.borderColor:t.getValueAtIndexOrDefault(n.pointBorderColor,r,a.borderColor),o.borderWidth=i.borderWidth?i.borderWidth:t.getValueAtIndexOrDefault(n.pointBorderWidth,r,a.borderWidth)}})}},{}],21:[function(e,t,n){"use strict";t.exports=function(e){var t=e.helpers;e.defaults.global.animation={duration:1e3,easing:"easeOutQuart",onProgress:t.noop,onComplete:t.noop},e.Animation=e.Element.extend({chart:null,currentStep:0,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null}),e.animationService={frameDuration:17,animations:[],dropFrames:0,request:null,addAnimation:function(e,t,n,i){var r,o,a=this.animations;for(t.chart=e,i||(e.animating=!0),r=0,o=a.length;r<o;++r)if(a[r].chart===e)return void(a[r]=t);a.push(t),1===a.length&&this.requestAnimationFrame()},cancelAnimation:function(e){var n=t.findIndex(this.animations,function(t){return t.chart===e});-1!==n&&(this.animations.splice(n,1),e.animating=!1)},requestAnimationFrame:function(){var e=this;null===e.request&&(e.request=t.requestAnimFrame.call(window,function(){e.request=null,e.startDigest()}))},startDigest:function(){var e=this,t=Date.now(),n=0;e.dropFrames>1&&(n=Math.floor(e.dropFrames),e.dropFrames=e.dropFrames%1),e.advance(1+n);var i=Date.now();e.dropFrames+=(i-t)/e.frameDuration,e.animations.length>0&&e.requestAnimationFrame()},advance:function(e){for(var n,i,r=this.animations,o=0;o<r.length;)n=r[o],i=n.chart,n.currentStep=(n.currentStep||0)+e,n.currentStep=Math.min(n.currentStep,n.numSteps),t.callback(n.render,[i,n],i),t.callback(n.onAnimationProgress,[n],i),n.currentStep>=n.numSteps?(t.callback(n.onAnimationComplete,[n],i),i.animating=!1,r.splice(o,1)):++o}},Object.defineProperty(e.Animation.prototype,"animationObject",{get:function(){return this}}),Object.defineProperty(e.Animation.prototype,"chartInstance",{get:function(){return this.chart},set:function(e){this.chart=e}})}},{}],22:[function(e,t,n){"use strict";t.exports=function(e){var t=e.canvasHelpers={};t.drawPoint=function(t,n,i,r,o){var a,s,l,u,c,d;if("object"!=typeof n||"[object HTMLImageElement]"!==(a=n.toString())&&"[object HTMLCanvasElement]"!==a){if(!(isNaN(i)||i<=0)){switch(n){default:t.beginPath(),t.arc(r,o,i,0,2*Math.PI),t.closePath(),t.fill();break;case"triangle":t.beginPath(),c=(s=3*i/Math.sqrt(3))*Math.sqrt(3)/2,t.moveTo(r-s/2,o+c/3),t.lineTo(r+s/2,o+c/3),t.lineTo(r,o-2*c/3),t.closePath(),t.fill();break;case"rect":d=1/Math.SQRT2*i,t.beginPath(),t.fillRect(r-d,o-d,2*d,2*d),t.strokeRect(r-d,o-d,2*d,2*d);break;case"rectRounded":var f=i/Math.SQRT2,h=r-f,p=o-f,g=Math.SQRT2*i;e.helpers.drawRoundedRectangle(t,h,p,g,g,i/2),t.fill();break;case"rectRot":d=1/Math.SQRT2*i,t.beginPath(),t.moveTo(r-d,o),t.lineTo(r,o+d),t.lineTo(r+d,o),t.lineTo(r,o-d),t.closePath(),t.fill();break;case"cross":t.beginPath(),t.moveTo(r,o+i),t.lineTo(r,o-i),t.moveTo(r-i,o),t.lineTo(r+i,o),t.closePath();break;case"crossRot":t.beginPath(),l=Math.cos(Math.PI/4)*i,u=Math.sin(Math.PI/4)*i,t.moveTo(r-l,o-u),t.lineTo(r+l,o+u),t.moveTo(r-l,o+u),t.lineTo(r+l,o-u),t.closePath();break;case"star":t.beginPath(),t.moveTo(r,o+i),t.lineTo(r,o-i),t.moveTo(r-i,o),t.lineTo(r+i,o),l=Math.cos(Math.PI/4)*i,u=Math.sin(Math.PI/4)*i,t.moveTo(r-l,o-u),t.lineTo(r+l,o+u),t.moveTo(r-l,o+u),t.lineTo(r+l,o-u),t.closePath();break;case"line":t.beginPath(),t.moveTo(r-i,o),t.lineTo(r+i,o),t.closePath();break;case"dash":t.beginPath(),t.moveTo(r,o),t.lineTo(r+i,o),t.closePath()}t.stroke()}}else t.drawImage(n,r-n.width/2,o-n.height/2,n.width,n.height)},t.clipArea=function(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()},t.unclipArea=function(e){e.restore()},t.lineTo=function(e,t,n,i){return n.steppedLine?("after"===n.steppedLine?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y),void e.lineTo(n.x,n.y)):n.tension?void e.bezierCurveTo(i?t.controlPointPreviousX:t.controlPointNextX,i?t.controlPointPreviousY:t.controlPointNextY,i?n.controlPointNextX:n.controlPointPreviousX,i?n.controlPointNextY:n.controlPointPreviousY,n.x,n.y):void e.lineTo(n.x,n.y)},e.helpers.canvas=t}},{}],23:[function(e,t,n){"use strict";t.exports=function(e){function t(t){var n=(t=t||{}).data=t.data||{};return n.datasets=n.datasets||[],n.labels=n.labels||[],t.options=r.configMerge(e.defaults.global,e.defaults[t.type],t.options||{}),t}function n(e){var t=e.options;t.scale?e.scale.options=t.scale:t.scales&&t.scales.xAxes.concat(t.scales.yAxes).forEach(function(t){e.scales[t.id].options=t}),e.tooltip._options=t.tooltips}function i(e){return"top"===e||"bottom"===e}var r=e.helpers,o=e.plugins,a=e.platform;e.types={},e.instances={},e.controllers={},r.extend(e.prototype,{construct:function(n,i){var o=this;i=t(i);var s=a.acquireContext(n,i),l=s&&s.canvas,u=l&&l.height,c=l&&l.width;return o.id=r.uid(),o.ctx=s,o.canvas=l,o.config=i,o.width=c,o.height=u,o.aspectRatio=u?c/u:null,o.options=i.options,o._bufferedRender=!1,o.chart=o,o.controller=o,e.instances[o.id]=o,Object.defineProperty(o,"data",{get:function(){return o.config.data},set:function(e){o.config.data=e}}),s&&l?(o.initialize(),void o.update()):void console.error("Failed to create chart: can't acquire context from the given item")},initialize:function(){var e=this;return o.notify(e,"beforeInit"),r.retinaScale(e),e.bindEvents(),e.options.responsive&&e.resize(!0),e.ensureScalesHaveIDs(),e.buildScales(),e.initToolTip(),o.notify(e,"afterInit"),e},clear:function(){return r.clear(this),this},stop:function(){return e.animationService.cancelAnimation(this),this},resize:function(e){var t=this,n=t.options,i=t.canvas,a=n.maintainAspectRatio&&t.aspectRatio||null,s=Math.floor(r.getMaximumWidth(i)),l=Math.floor(a?s/a:r.getMaximumHeight(i));if((t.width!==s||t.height!==l)&&(i.width=t.width=s,i.height=t.height=l,i.style.width=s+"px",i.style.height=l+"px",r.retinaScale(t),!e)){var u={width:s,height:l};o.notify(t,"resize",[u]),t.options.onResize&&t.options.onResize(t,u),t.stop(),t.update(t.options.responsiveAnimationDuration)}},ensureScalesHaveIDs:function(){var e=this.options,t=e.scales||{},n=e.scale;r.each(t.xAxes,function(e,t){e.id=e.id||"x-axis-"+t}),r.each(t.yAxes,function(e,t){e.id=e.id||"y-axis-"+t}),n&&(n.id=n.id||"scale")},buildScales:function(){var t=this,n=t.options,o=t.scales={},a=[];n.scales&&(a=a.concat((n.scales.xAxes||[]).map(function(e){return{options:e,dtype:"category",dposition:"bottom"}}),(n.scales.yAxes||[]).map(function(e){return{options:e,dtype:"linear",dposition:"left"}}))),n.scale&&a.push({options:n.scale,dtype:"radialLinear",isDefault:!0,dposition:"chartArea"}),r.each(a,function(n){var a=n.options,s=r.getValueOrDefault(a.type,n.dtype),l=e.scaleService.getScaleConstructor(s);if(l){i(a.position)!==i(n.dposition)&&(a.position=n.dposition);var u=new l({id:a.id,options:a,ctx:t.ctx,chart:t});o[u.id]=u,n.isDefault&&(t.scale=u)}}),e.scaleService.addScalesToLayout(this)},buildOrUpdateControllers:function(){var t=this,n=[],i=[];if(r.each(t.data.datasets,function(r,o){var a=t.getDatasetMeta(o);if(a.type||(a.type=r.type||t.config.type),n.push(a.type),a.controller)a.controller.updateIndex(o);else{var s=e.controllers[a.type];if(void 0===s)throw new Error('"'+a.type+'" is not a chart type.');a.controller=new s(t,o),i.push(a.controller)}},t),n.length>1)for(var o=1;o<n.length;o++)if(n[o]!==n[o-1]){t.isCombo=!0;break}return i},resetElements:function(){var e=this;r.each(e.data.datasets,function(t,n){e.getDatasetMeta(n).controller.reset()},e)},reset:function(){this.resetElements(),this.tooltip.initialize()},update:function(e,t){var i=this;if(n(i),!1!==o.notify(i,"beforeUpdate")){i.tooltip._data=i.data;var a=i.buildOrUpdateControllers();r.each(i.data.datasets,function(e,t){i.getDatasetMeta(t).controller.buildOrUpdateElements()},i),i.updateLayout(),r.each(a,function(e){e.reset()}),i.updateDatasets(),o.notify(i,"afterUpdate"),i._bufferedRender?i._bufferedRequest={lazy:t,duration:e}:i.render(e,t)}},updateLayout:function(){var t=this;!1!==o.notify(t,"beforeLayout")&&(e.layoutService.update(this,this.width,this.height),o.notify(t,"afterScaleUpdate"),o.notify(t,"afterLayout"))},updateDatasets:function(){var e=this;if(!1!==o.notify(e,"beforeDatasetsUpdate")){for(var t=0,n=e.data.datasets.length;t<n;++t)e.updateDataset(t);o.notify(e,"afterDatasetsUpdate")}},updateDataset:function(e){var t=this,n=t.getDatasetMeta(e),i={meta:n,index:e};!1!==o.notify(t,"beforeDatasetUpdate",[i])&&(n.controller.update(),o.notify(t,"afterDatasetUpdate",[i]))},render:function(t,n){var i=this;if(!1!==o.notify(i,"beforeRender")){var a=i.options.animation,s=function(e){o.notify(i,"afterRender"),r.callback(a&&a.onComplete,[e],i)};if(a&&(void 0!==t&&0!==t||void 0===t&&0!==a.duration)){var l=new e.Animation({numSteps:(t||a.duration)/16.66,easing:a.easing,render:function(e,t){var n=r.easingEffects[t.easing],i=t.currentStep,o=i/t.numSteps;e.draw(n(o),o,i)},onAnimationProgress:a.onProgress,onAnimationComplete:s});e.animationService.addAnimation(i,l,t,n)}else i.draw(),s(new e.Animation({numSteps:0,chart:i}));return i}},draw:function(e){var t=this;t.clear(),void 0!==e&&null!==e||(e=1),t.transition(e),!1!==o.notify(t,"beforeDraw",[e])&&(r.each(t.boxes,function(e){e.draw(t.chartArea)},t),t.scale&&t.scale.draw(),t.drawDatasets(e),t.tooltip.draw(),o.notify(t,"afterDraw",[e]))},transition:function(e){for(var t=this,n=0,i=(t.data.datasets||[]).length;n<i;++n)t.isDatasetVisible(n)&&t.getDatasetMeta(n).controller.transition(e);t.tooltip.transition(e)},drawDatasets:function(e){var t=this;if(!1!==o.notify(t,"beforeDatasetsDraw",[e])){for(var n=(t.data.datasets||[]).length-1;n>=0;--n)t.isDatasetVisible(n)&&t.drawDataset(n,e);o.notify(t,"afterDatasetsDraw",[e])}},drawDataset:function(e,t){var n=this,i=n.getDatasetMeta(e),r={meta:i,index:e,easingValue:t};!1!==o.notify(n,"beforeDatasetDraw",[r])&&(i.controller.draw(t),o.notify(n,"afterDatasetDraw",[r]))},getElementAtEvent:function(t){return e.Interaction.modes.single(this,t)},getElementsAtEvent:function(t){return e.Interaction.modes.label(this,t,{intersect:!0})},getElementsAtXAxis:function(t){return e.Interaction.modes["x-axis"](this,t,{intersect:!0})},getElementsAtEventForMode:function(t,n,i){var r=e.Interaction.modes[n];return"function"==typeof r?r(this,t,i):[]},getDatasetAtEvent:function(t){return e.Interaction.modes.dataset(this,t,{intersect:!0})},getDatasetMeta:function(e){var t=this,n=t.data.datasets[e];n._meta||(n._meta={});var i=n._meta[t.id];return i||(i=n._meta[t.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null}),i},getVisibleDatasetCount:function(){for(var e=0,t=0,n=this.data.datasets.length;t<n;++t)this.isDatasetVisible(t)&&e++;return e},isDatasetVisible:function(e){var t=this.getDatasetMeta(e);return"boolean"==typeof t.hidden?!t.hidden:!this.data.datasets[e].hidden},generateLegend:function(){return this.options.legendCallback(this)},destroy:function(){var t,n,i,s=this,l=s.canvas;for(s.stop(),n=0,i=s.data.datasets.length;n<i;++n)(t=s.getDatasetMeta(n)).controller&&(t.controller.destroy(),t.controller=null);l&&(s.unbindEvents(),r.clear(s),a.releaseContext(s.ctx),s.canvas=null,s.ctx=null),o.notify(s,"destroy"),delete e.instances[s.id]},toBase64Image:function(){return this.canvas.toDataURL.apply(this.canvas,arguments)},initToolTip:function(){var t=this;t.tooltip=new e.Tooltip({_chart:t,_chartInstance:t,_data:t.data,_options:t.options.tooltips},t),t.tooltip.initialize()},bindEvents:function(){var e=this,t=e._listeners={},n=function(){e.eventHandler.apply(e,arguments)};r.each(e.options.events,function(i){a.addEventListener(e,i,n),t[i]=n}),e.options.responsive&&(n=function(){e.resize()},a.addEventListener(e,"resize",n),t.resize=n)},unbindEvents:function(){var e=this,t=e._listeners;t&&(delete e._listeners,r.each(t,function(t,n){a.removeEventListener(e,n,t)}))},updateHoverStyle:function(e,t,n){var i,r,o,a=n?"setHoverStyle":"removeHoverStyle";for(r=0,o=e.length;r<o;++r)(i=e[r])&&this.getDatasetMeta(i._datasetIndex).controller[a](i)},eventHandler:function(e){var t=this,n=t.tooltip;if(!1!==o.notify(t,"beforeEvent",[e])){t._bufferedRender=!0,t._bufferedRequest=null;var i=t.handleEvent(e);i|=n&&n.handleEvent(e),o.notify(t,"afterEvent",[e]);var r=t._bufferedRequest;return r?t.render(r.duration,r.lazy):i&&!t.animating&&(t.stop(),t.render(t.options.hover.animationDuration,!0)),t._bufferedRender=!1,t._bufferedRequest=null,t}},handleEvent:function(e){var t=this,n=t.options||{},i=n.hover,o=!1;return t.lastActive=t.lastActive||[],"mouseout"===e.type?t.active=[]:t.active=t.getElementsAtEventForMode(e,i.mode,i),i.onHover&&i.onHover.call(t,e.native,t.active),"mouseup"!==e.type&&"click"!==e.type||n.onClick&&n.onClick.call(t,e.native,t.active),t.lastActive.length&&t.updateHoverStyle(t.lastActive,i.mode,!1),t.active.length&&i.mode&&t.updateHoverStyle(t.active,i.mode,!0),o=!r.arrayEquals(t.active,t.lastActive),t.lastActive=t.active,o}}),e.Controller=e}},{}],24:[function(e,t,n){"use strict";t.exports=function(e){function t(e,t){return e._chartjs?void e._chartjs.listeners.push(t):(Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),void r.forEach(function(t){var n="onData"+t.charAt(0).toUpperCase()+t.slice(1),r=e[t];Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:function(){var t=Array.prototype.slice.call(arguments),o=r.apply(this,t);return i.each(e._chartjs.listeners,function(e){"function"==typeof e[n]&&e[n].apply(e,t)}),o}})}))}function n(e,t){var n=e._chartjs;if(n){var i=n.listeners,o=i.indexOf(t);-1!==o&&i.splice(o,1),i.length>0||(r.forEach(function(t){delete e[t]}),delete e._chartjs)}}var i=e.helpers,r=["push","pop","shift","splice","unshift"];e.DatasetController=function(e,t){this.initialize(e,t)},i.extend(e.DatasetController.prototype,{datasetElementType:null,dataElementType:null,initialize:function(e,t){var n=this;n.chart=e,n.index=t,n.linkScales(),n.addElements()},updateIndex:function(e){this.index=e},linkScales:function(){var e=this,t=e.getMeta(),n=e.getDataset();null===t.xAxisID&&(t.xAxisID=n.xAxisID||e.chart.options.scales.xAxes[0].id),null===t.yAxisID&&(t.yAxisID=n.yAxisID||e.chart.options.scales.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getMeta:function(){return this.chart.getDatasetMeta(this.index)},getScaleForId:function(e){return this.chart.scales[e]},reset:function(){this.update(!0)},destroy:function(){this._data&&n(this._data,this)},createMetaDataset:function(){var e=this,t=e.datasetElementType;return t&&new t({_chart:e.chart,_datasetIndex:e.index})},createMetaData:function(e){var t=this,n=t.dataElementType;return n&&new n({_chart:t.chart,_datasetIndex:t.index,_index:e})},addElements:function(){var e,t,n=this,i=n.getMeta(),r=n.getDataset().data||[],o=i.data;for(e=0,t=r.length;e<t;++e)o[e]=o[e]||n.createMetaData(e);i.dataset=i.dataset||n.createMetaDataset()},addElementAndReset:function(e){var t=this.createMetaData(e);this.getMeta().data.splice(e,0,t),this.updateElement(t,e,!0)},buildOrUpdateElements:function(){var e=this,i=e.getDataset(),r=i.data||(i.data=[]);e._data!==r&&(e._data&&n(e._data,e),t(r,e),e._data=r),e.resyncElements()},update:i.noop,transition:function(e){for(var t=this.getMeta(),n=t.data||[],i=n.length,r=0;r<i;++r)n[r].transition(e);t.dataset&&t.dataset.transition(e)},draw:function(){var e=this.getMeta(),t=e.data||[],n=t.length,i=0;for(e.dataset&&e.dataset.draw();i<n;++i)t[i].draw()},removeHoverStyle:function(e,t){var n=this.chart.data.datasets[e._datasetIndex],r=e._index,o=e.custom||{},a=i.getValueAtIndexOrDefault,s=e._model;s.backgroundColor=o.backgroundColor?o.backgroundColor:a(n.backgroundColor,r,t.backgroundColor),s.borderColor=o.borderColor?o.borderColor:a(n.borderColor,r,t.borderColor),s.borderWidth=o.borderWidth?o.borderWidth:a(n.borderWidth,r,t.borderWidth)},setHoverStyle:function(e){var t=this.chart.data.datasets[e._datasetIndex],n=e._index,r=e.custom||{},o=i.getValueAtIndexOrDefault,a=i.getHoverColor,s=e._model;s.backgroundColor=r.hoverBackgroundColor?r.hoverBackgroundColor:o(t.hoverBackgroundColor,n,a(s.backgroundColor)),s.borderColor=r.hoverBorderColor?r.hoverBorderColor:o(t.hoverBorderColor,n,a(s.borderColor)),s.borderWidth=r.hoverBorderWidth?r.hoverBorderWidth:o(t.hoverBorderWidth,n,s.borderWidth)},resyncElements:function(){var e=this,t=e.getMeta(),n=e.getDataset().data,i=t.data.length,r=n.length;r<i?t.data.splice(r,i-r):r>i&&e.insertElements(i,r-i)},insertElements:function(e,t){for(var n=0;n<t;++n)this.addElementAndReset(e+n)},onDataPush:function(){this.insertElements(this.getDataset().data.length-1,arguments.length)},onDataPop:function(){this.getMeta().data.pop()},onDataShift:function(){this.getMeta().data.shift()},onDataSplice:function(e,t){this.getMeta().data.splice(e,t),this.insertElements(e,arguments.length-2)},onDataUnshift:function(){this.insertElements(0,arguments.length)}}),e.DatasetController.extend=i.inherits}},{}],25:[function(e,t,n){"use strict";var i=e(3);t.exports=function(e){function t(e,t,n,r){var o,a,s,l,u,c,d,f,h,p=Object.keys(n);for(o=0,a=p.length;o<a;++o)if(s=p[o],c=n[s],t.hasOwnProperty(s)||(t[s]=c),(l=t[s])!==c&&"_"!==s[0]){if(e.hasOwnProperty(s)||(e[s]=l),u=e[s],(d=typeof c)===typeof u)if("string"===d){if((f=i(u)).valid&&(h=i(c)).valid){t[s]=h.mix(f,r).rgbString();continue}}else if("number"===d&&isFinite(u)&&isFinite(c)){t[s]=u+(c-u)*r;continue}t[s]=c}}var n=e.helpers;e.elements={},e.Element=function(e){n.extend(this,e),this.initialize.apply(this,arguments)},n.extend(e.Element.prototype,{initialize:function(){this.hidden=!1},pivot:function(){var e=this;return e._view||(e._view=n.clone(e._model)),e._start={},e},transition:function(e){var n=this,i=n._model,r=n._start,o=n._view;return i&&1!==e?(o||(o=n._view={}),r||(r=n._start={}),t(r,o,i,e),n):(n._view=i,n._start=null,n)},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return n.isNumber(this._model.x)&&n.isNumber(this._model.y)}}),e.Element.extend=n.inherits}},{3:3}],26:[function(e,t,n){"use strict";var i=e(3);t.exports=function(e){function t(e,t,n){var i;return"string"==typeof e?(i=parseInt(e,10),-1!==e.indexOf("%")&&(i=i/100*t.parentNode[n])):i=e,i}function n(e){return void 0!==e&&null!==e&&"none"!==e}function r(e,i,r){var o=document.defaultView,a=e.parentNode,s=o.getComputedStyle(e)[i],l=o.getComputedStyle(a)[i],u=n(s),c=n(l),d=Number.POSITIVE_INFINITY;return u||c?Math.min(u?t(s,e,r):d,c?t(l,a,r):d):"none"}var o=e.helpers={};o.each=function(e,t,n,i){var r,a;if(o.isArray(e))if(a=e.length,i)for(r=a-1;r>=0;r--)t.call(n,e[r],r);else for(r=0;r<a;r++)t.call(n,e[r],r);else if("object"==typeof e){var s=Object.keys(e);for(a=s.length,r=0;r<a;r++)t.call(n,e[s[r]],s[r])}},o.clone=function(e){var t={};return o.each(e,function(e,n){o.isArray(e)?t[n]=e.slice(0):t[n]="object"==typeof e&&null!==e?o.clone(e):e}),t},o.extend=function(e){for(var t=1,n=arguments.length;t<n;t++)o.each(arguments[t],function(t,n){e[n]=t});return e},o.configMerge=function(t){var n=o.clone(t);return o.each(Array.prototype.slice.call(arguments,1),function(t){o.each(t,function(t,i){var r=n.hasOwnProperty(i),a=r?n[i]:{};"scales"===i?n[i]=o.scaleMerge(a,t):"scale"===i?n[i]=o.configMerge(a,e.scaleService.getScaleDefaults(t.type),t):!r||"object"!=typeof a||o.isArray(a)||null===a||"object"!=typeof t||o.isArray(t)?n[i]=t:n[i]=o.configMerge(a,t)})}),n},o.scaleMerge=function(t,n){var i=o.clone(t);return o.each(n,function(t,n){"xAxes"===n||"yAxes"===n?i.hasOwnProperty(n)?o.each(t,function(t,r){var a=o.getValueOrDefault(t.type,"xAxes"===n?"category":"linear"),s=e.scaleService.getScaleDefaults(a);r>=i[n].length||!i[n][r].type?i[n].push(o.configMerge(s,t)):t.type&&t.type!==i[n][r].type?i[n][r]=o.configMerge(i[n][r],s,t):i[n][r]=o.configMerge(i[n][r],t)}):(i[n]=[],o.each(t,function(t){var r=o.getValueOrDefault(t.type,"xAxes"===n?"category":"linear");i[n].push(o.configMerge(e.scaleService.getScaleDefaults(r),t))})):i.hasOwnProperty(n)&&"object"==typeof i[n]&&null!==i[n]&&"object"==typeof t?i[n]=o.configMerge(i[n],t):i[n]=t}),i},o.getValueAtIndexOrDefault=function(e,t,n){return void 0===e||null===e?n:o.isArray(e)?t<e.length?e[t]:n:e},o.getValueOrDefault=function(e,t){return void 0===e?t:e},o.indexOf=Array.prototype.indexOf?function(e,t){return e.indexOf(t)}:function(e,t){for(var n=0,i=e.length;n<i;++n)if(e[n]===t)return n;return-1},o.where=function(e,t){if(o.isArray(e)&&Array.prototype.filter)return e.filter(t);var n=[];return o.each(e,function(e){t(e)&&n.push(e)}),n},o.findIndex=Array.prototype.findIndex?function(e,t,n){return e.findIndex(t,n)}:function(e,t,n){n=void 0===n?e:n;for(var i=0,r=e.length;i<r;++i)if(t.call(n,e[i],i,e))return i;return-1},o.findNextWhere=function(e,t,n){void 0!==n&&null!==n||(n=-1);for(var i=n+1;i<e.length;i++){var r=e[i];if(t(r))return r}},o.findPreviousWhere=function(e,t,n){void 0!==n&&null!==n||(n=e.length);for(var i=n-1;i>=0;i--){var r=e[i];if(t(r))return r}},o.inherits=function(e){var t=this,n=e&&e.hasOwnProperty("constructor")?e.constructor:function(){return t.apply(this,arguments)},i=function(){this.constructor=n};return i.prototype=t.prototype,n.prototype=new i,n.extend=o.inherits,e&&o.extend(n.prototype,e),n.__super__=t.prototype,n},o.noop=function(){},o.uid=function(){var e=0;return function(){return e++}}(),o.isNumber=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},o.almostEquals=function(e,t,n){return Math.abs(e-t)<n},o.almostWhole=function(e,t){var n=Math.round(e);return n-t<e&&n+t>e},o.max=function(e){return e.reduce(function(e,t){return isNaN(t)?e:Math.max(e,t)},Number.NEGATIVE_INFINITY)},o.min=function(e){return e.reduce(function(e,t){return isNaN(t)?e:Math.min(e,t)},Number.POSITIVE_INFINITY)},o.sign=Math.sign?function(e){return Math.sign(e)}:function(e){return 0==(e=+e)||isNaN(e)?e:e>0?1:-1},o.log10=Math.log10?function(e){return Math.log10(e)}:function(e){return Math.log(e)/Math.LN10},o.toRadians=function(e){return e*(Math.PI/180)},o.toDegrees=function(e){return e*(180/Math.PI)},o.getAngleFromPoint=function(e,t){var n=t.x-e.x,i=t.y-e.y,r=Math.sqrt(n*n+i*i),o=Math.atan2(i,n);return o<-.5*Math.PI&&(o+=2*Math.PI),{angle:o,distance:r}},o.distanceBetweenPoints=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},o.aliasPixel=function(e){return e%2==0?0:.5},o.splineCurve=function(e,t,n,i){var r=e.skip?t:e,o=t,a=n.skip?t:n,s=Math.sqrt(Math.pow(o.x-r.x,2)+Math.pow(o.y-r.y,2)),l=Math.sqrt(Math.pow(a.x-o.x,2)+Math.pow(a.y-o.y,2)),u=s/(s+l),c=l/(s+l),d=i*(u=isNaN(u)?0:u),f=i*(c=isNaN(c)?0:c);return{previous:{x:o.x-d*(a.x-r.x),y:o.y-d*(a.y-r.y)},next:{x:o.x+f*(a.x-r.x),y:o.y+f*(a.y-r.y)}}},o.EPSILON=Number.EPSILON||1e-14,o.splineCurveMonotone=function(e){var t,n,i,r,a=(e||[]).map(function(e){return{model:e._model,deltaK:0,mK:0}}),s=a.length;for(t=0;t<s;++t)if(!(i=a[t]).model.skip){if(n=t>0?a[t-1]:null,(r=t<s-1?a[t+1]:null)&&!r.model.skip){var l=r.model.x-i.model.x;i.deltaK=0!==l?(r.model.y-i.model.y)/l:0}!n||n.model.skip?i.mK=i.deltaK:!r||r.model.skip?i.mK=n.deltaK:this.sign(n.deltaK)!==this.sign(i.deltaK)?i.mK=0:i.mK=(n.deltaK+i.deltaK)/2}var u,c,d,f;for(t=0;t<s-1;++t)i=a[t],r=a[t+1],i.model.skip||r.model.skip||(o.almostEquals(i.deltaK,0,this.EPSILON)?i.mK=r.mK=0:(u=i.mK/i.deltaK,c=r.mK/i.deltaK,(f=Math.pow(u,2)+Math.pow(c,2))<=9||(d=3/Math.sqrt(f),i.mK=u*d*i.deltaK,r.mK=c*d*i.deltaK)));var h;for(t=0;t<s;++t)(i=a[t]).model.skip||(n=t>0?a[t-1]:null,r=t<s-1?a[t+1]:null,n&&!n.model.skip&&(h=(i.model.x-n.model.x)/3,i.model.controlPointPreviousX=i.model.x-h,i.model.controlPointPreviousY=i.model.y-h*i.mK),r&&!r.model.skip&&(h=(r.model.x-i.model.x)/3,i.model.controlPointNextX=i.model.x+h,i.model.controlPointNextY=i.model.y+h*i.mK))},o.nextItem=function(e,t,n){return n?t>=e.length-1?e[0]:e[t+1]:t>=e.length-1?e[e.length-1]:e[t+1]},o.previousItem=function(e,t,n){return n?t<=0?e[e.length-1]:e[t-1]:t<=0?e[0]:e[t-1]},o.niceNum=function(e,t){var n=Math.floor(o.log10(e)),i=e/Math.pow(10,n);return(t?i<1.5?1:i<3?2:i<7?5:10:i<=1?1:i<=2?2:i<=5?5:10)*Math.pow(10,n)};var a=o.easingEffects={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return-1*e*(e-2)},easeInOutQuad:function(e){return(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1)},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return 1*((e=e/1-1)*e*e+1)},easeInOutCubic:function(e){return(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return-1*((e=e/1-1)*e*e*e-1)},easeInOutQuart:function(e){return(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},easeInQuint:function(e){return 1*(e/=1)*e*e*e*e},easeOutQuint:function(e){return 1*((e=e/1-1)*e*e*e*e+1)},easeInOutQuint:function(e){return(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},easeInSine:function(e){return-1*Math.cos(e/1*(Math.PI/2))+1},easeOutSine:function(e){return 1*Math.sin(e/1*(Math.PI/2))},easeInOutSine:function(e){return-.5*(Math.cos(Math.PI*e/1)-1)},easeInExpo:function(e){return 0===e?1:1*Math.pow(2,10*(e/1-1))},easeOutExpo:function(e){return 1===e?1:1*(1-Math.pow(2,-10*e/1))},easeInOutExpo:function(e){return 0===e?0:1===e?1:(e/=.5)<1?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*--e))},easeInCirc:function(e){return e>=1?e:-1*(Math.sqrt(1-(e/=1)*e)-1)},easeOutCirc:function(e){return 1*Math.sqrt(1-(e=e/1-1)*e)},easeInOutCirc:function(e){return(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},easeInElastic:function(e){var t=1.70158,n=0,i=1;return 0===e?0:1==(e/=1)?1:(n||(n=.3),i<Math.abs(1)?(i=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/i),-i*Math.pow(2,10*(e-=1))*Math.sin((1*e-t)*(2*Math.PI)/n))},easeOutElastic:function(e){var t=1.70158,n=0,i=1;return 0===e?0:1==(e/=1)?1:(n||(n=.3),i<Math.abs(1)?(i=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/i),i*Math.pow(2,-10*e)*Math.sin((1*e-t)*(2*Math.PI)/n)+1)},easeInOutElastic:function(e){var t=1.70158,n=0,i=1;return 0===e?0:2==(e/=.5)?1:(n||(n=.3*1.5*1),i<Math.abs(1)?(i=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/i),e<1?i*Math.pow(2,10*(e-=1))*Math.sin((1*e-t)*(2*Math.PI)/n)*-.5:i*Math.pow(2,-10*(e-=1))*Math.sin((1*e-t)*(2*Math.PI)/n)*.5+1)},easeInBack:function(e){var t=1.70158;return 1*(e/=1)*e*((t+1)*e-t)},easeOutBack:function(e){var t=1.70158;return 1*((e=e/1-1)*e*((t+1)*e+t)+1)},easeInOutBack:function(e){var t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:function(e){return 1-a.easeOutBounce(1-e)},easeOutBounce:function(e){return(e/=1)<1/2.75?7.5625*e*e*1:e<2/2.75?1*(7.5625*(e-=1.5/2.75)*e+.75):e<2.5/2.75?1*(7.5625*(e-=2.25/2.75)*e+.9375):1*(7.5625*(e-=2.625/2.75)*e+.984375)},easeInOutBounce:function(e){return e<.5?.5*a.easeInBounce(2*e):.5*a.easeOutBounce(2*e-1)+.5}};o.requestAnimFrame="undefined"==typeof window?function(e){e()}:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)},o.getRelativePosition=function(e,t){var n,i,r=e.originalEvent||e,a=e.currentTarget||e.srcElement,s=a.getBoundingClientRect(),l=r.touches;l&&l.length>0?(n=l[0].clientX,i=l[0].clientY):(n=r.clientX,i=r.clientY);var u=parseFloat(o.getStyle(a,"padding-left")),c=parseFloat(o.getStyle(a,"padding-top")),d=parseFloat(o.getStyle(a,"padding-right")),f=parseFloat(o.getStyle(a,"padding-bottom")),h=s.right-s.left-u-d,p=s.bottom-s.top-c-f;return n=Math.round((n-s.left-u)/h*a.width/t.currentDevicePixelRatio),i=Math.round((i-s.top-c)/p*a.height/t.currentDevicePixelRatio),{x:n,y:i}},o.addEvent=function(e,t,n){e.addEventListener?e.addEventListener(t,n):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n},o.removeEvent=function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=o.noop},o.getConstraintWidth=function(e){return r(e,"max-width","clientWidth")},o.getConstraintHeight=function(e){return r(e,"max-height","clientHeight")},o.getMaximumWidth=function(e){var t=e.parentNode,n=parseInt(o.getStyle(t,"padding-left"),10),i=parseInt(o.getStyle(t,"padding-right"),10),r=t.clientWidth-n-i,a=o.getConstraintWidth(e);return isNaN(a)?r:Math.min(r,a)},o.getMaximumHeight=function(e){var t=e.parentNode,n=parseInt(o.getStyle(t,"padding-top"),10),i=parseInt(o.getStyle(t,"padding-bottom"),10),r=t.clientHeight-n-i,a=o.getConstraintHeight(e);return isNaN(a)?r:Math.min(r,a)},o.getStyle=function(e,t){return e.currentStyle?e.currentStyle[t]:document.defaultView.getComputedStyle(e,null).getPropertyValue(t)},o.retinaScale=function(e){var t=e.currentDevicePixelRatio=window.devicePixelRatio||1;if(1!==t){var n=e.canvas,i=e.height,r=e.width;n.height=i*t,n.width=r*t,e.ctx.scale(t,t),n.style.height=i+"px",n.style.width=r+"px"}},o.clear=function(e){e.ctx.clearRect(0,0,e.width,e.height)},o.fontString=function(e,t,n){return t+" "+e+"px "+n},o.longestText=function(e,t,n,i){var r=(i=i||{}).data=i.data||{},a=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(r=i.data={},a=i.garbageCollect=[],i.font=t),e.font=t;var s=0;o.each(n,function(t){void 0!==t&&null!==t&&!0!==o.isArray(t)?s=o.measureText(e,r,a,s,t):o.isArray(t)&&o.each(t,function(t){void 0===t||null===t||o.isArray(t)||(s=o.measureText(e,r,a,s,t))})});var l=a.length/2;if(l>n.length){for(var u=0;u<l;u++)delete r[a[u]];a.splice(0,l)}return s},o.measureText=function(e,t,n,i,r){var o=t[r];return o||(o=t[r]=e.measureText(r).width,n.push(r)),o>i&&(i=o),i},o.numberOfLabelLines=function(e){var t=1;return o.each(e,function(e){o.isArray(e)&&e.length>t&&(t=e.length)}),t},o.drawRoundedRectangle=function(e,t,n,i,r,o){e.beginPath(),e.moveTo(t+o,n),e.lineTo(t+i-o,n),e.quadraticCurveTo(t+i,n,t+i,n+o),e.lineTo(t+i,n+r-o),e.quadraticCurveTo(t+i,n+r,t+i-o,n+r),e.lineTo(t+o,n+r),e.quadraticCurveTo(t,n+r,t,n+r-o),e.lineTo(t,n+o),e.quadraticCurveTo(t,n,t+o,n),e.closePath()},o.color=i?function(t){return t instanceof CanvasGradient&&(t=e.defaults.global.defaultColor),i(t)}:function(e){return console.error("Color.js not found!"),e},o.isArray=Array.isArray?function(e){return Array.isArray(e)}:function(e){return"[object Array]"===Object.prototype.toString.call(e)},o.arrayEquals=function(e,t){var n,i,r,a;if(!e||!t||e.length!==t.length)return!1;for(n=0,i=e.length;n<i;++n)if(r=e[n],a=t[n],r instanceof Array&&a instanceof Array){if(!o.arrayEquals(r,a))return!1}else if(r!==a)return!1;return!0},o.callback=function(e,t,n){e&&"function"==typeof e.call&&e.apply(n,t)},o.getHoverColor=function(e){return e instanceof CanvasPattern?e:o.color(e).saturate(.5).darken(.1).rgbString()},o.callCallback=o.callback}},{3:3}],27:[function(e,t,n){"use strict";t.exports=function(e){function t(e,t){return e.native?{x:e.x,y:e.y}:a.getRelativePosition(e,t)}function n(e,t){var n,i,r,o,a;for(i=0,o=e.data.datasets.length;i<o;++i)if(e.isDatasetVisible(i))for(n=e.getDatasetMeta(i),r=0,a=n.data.length;r<a;++r){var s=n.data[r];s._view.skip||t(s)}}function i(e,t){var i=[];return n(e,function(e){e.inRange(t.x,t.y)&&i.push(e)}),i}function r(e,t,i,r){var o=Number.POSITIVE_INFINITY,s=[];return r||(r=a.distanceBetweenPoints),n(e,function(e){if(!i||e.inRange(t.x,t.y)){var n=e.getCenterPoint(),a=r(t,n);a<o?(s=[e],o=a):a===o&&s.push(e)}}),s}function o(e,n,o){var a=t(n,e),s=o.intersect?i(e,a):r(e,a,!1,function(e,t){return Math.abs(e.x-t.x)}),l=[];return s.length?(e.data.datasets.forEach(function(t,n){if(e.isDatasetVisible(n)){var i=e.getDatasetMeta(n).data[s[0]._index];i&&!i._view.skip&&l.push(i)}}),l):[]}var a=e.helpers;e.Interaction={modes:{single:function(e,i){var r=t(i,e),o=[];return n(e,function(e){if(e.inRange(r.x,r.y))return o.push(e),o}),o.slice(0,1)},label:o,index:o,dataset:function(e,n,o){var a=t(n,e),s=o.intersect?i(e,a):r(e,a,!1);return s.length>0&&(s=e.getDatasetMeta(s[0]._datasetIndex).data),s},"x-axis":function(e,t){return o(e,t,!0)},point:function(e,n){return i(e,t(n,e))},nearest:function(e,n,i){var o=r(e,t(n,e),i.intersect);return o.length>1&&o.sort(function(e,t){var n=e.getArea()-t.getArea();return 0===n&&(n=e._datasetIndex-t._datasetIndex),n}),o.slice(0,1)},x:function(e,i,r){var o=t(i,e),a=[],s=!1;return n(e,function(e){e.inXRange(o.x)&&a.push(e),e.inRange(o.x,o.y)&&(s=!0)}),r.intersect&&!s&&(a=[]),a},y:function(e,i,r){var o=t(i,e),a=[],s=!1;return n(e,function(e){e.inYRange(o.y)&&a.push(e),e.inRange(o.x,o.y)&&(s=!0)}),r.intersect&&!s&&(a=[]),a}}}}},{}],28:[function(e,t,n){"use strict";t.exports=function(){var e=function(e,t){return this.construct(e,t),this};return e.defaults={global:{responsive:!0,responsiveAnimationDuration:0,maintainAspectRatio:!0,events:["mousemove","mouseout","click","touchstart","touchmove"],hover:{onHover:null,mode:"nearest",intersect:!0,animationDuration:400},onClick:null,defaultColor:"rgba(0,0,0,0.1)",defaultFontColor:"#666",defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",defaultFontSize:12,defaultFontStyle:"normal",showLines:!0,elements:{},legendCallback:function(e){var t=[];t.push('<ul class="'+e.id+'-legend">');for(var n=0;n<e.data.datasets.length;n++)t.push('<li><span style="background-color:'+e.data.datasets[n].backgroundColor+'"></span>'),e.data.datasets[n].label&&t.push(e.data.datasets[n].label),t.push("</li>");return t.push("</ul>"),t.join("")}}},e.Chart=e,e}},{}],29:[function(e,t,n){"use strict";t.exports=function(e){function t(e,t){return i.where(e,function(e){return e.position===t})}function n(e,t){e.forEach(function(e,t){return e._tmpIndex_=t,e}),e.sort(function(e,n){var i=t?n:e,r=t?e:n;return i.weight===r.weight?i._tmpIndex_-r._tmpIndex_:i.weight-r.weight}),e.forEach(function(e){delete e._tmpIndex_})}var i=e.helpers;e.layoutService={defaults:{},addBox:function(e,t){e.boxes||(e.boxes=[]),t.fullWidth=t.fullWidth||!1,t.position=t.position||"top",t.weight=t.weight||0,e.boxes.push(t)},removeBox:function(e,t){var n=e.boxes?e.boxes.indexOf(t):-1;-1!==n&&e.boxes.splice(n,1)},configure:function(e,t,n){for(var i,r=["fullWidth","position","weight"],o=r.length,a=0;a<o;++a)i=r[a],n.hasOwnProperty(i)&&(t[i]=n[i])},update:function(e,r,o){function a(e){var t=i.findNextWhere(T,function(t){return t.box===e});if(t)if(e.isHorizontal()){var n={left:Math.max(E,M),right:Math.max(R,A),top:0,bottom:0};e.update(e.fullWidth?y:_,x/2,n)}else e.update(t.minSize.width,k)}function s(e){e.isHorizontal()?(e.left=e.fullWidth?c:E,e.right=e.fullWidth?r-d:E+_,e.top=q,e.bottom=q+e.height,q=e.bottom):(e.left=z,e.right=z+e.width,e.top=I,e.bottom=I+k,z=e.right)}if(e){var l=e.options.layout,u=l?l.padding:null,c=0,d=0,f=0,h=0;isNaN(u)?(c=u.left||0,d=u.right||0,f=u.top||0,h=u.bottom||0):(c=u,d=u,f=u,h=u);var p=t(e.boxes,"left"),g=t(e.boxes,"right"),v=t(e.boxes,"top"),m=t(e.boxes,"bottom"),b=t(e.boxes,"chartArea");n(p,!0),n(g,!1),n(v,!0),n(m,!1);var y=r-c-d,x=o-f-h,w=x/2,C=(r-y/2)/(p.length+g.length),S=(o-w)/(v.length+m.length),_=y,k=x,T=[];i.each(p.concat(g,v,m),function(e){var t,n=e.isHorizontal();n?(t=e.update(e.fullWidth?y:_,S),k-=t.height):(t=e.update(C,w),_-=t.width),T.push({horizontal:n,minSize:t,box:e})});var M=0,A=0,P=0,D=0;i.each(v.concat(m),function(e){if(e.getPadding){var t=e.getPadding();M=Math.max(M,t.left),A=Math.max(A,t.right)}}),i.each(p.concat(g),function(e){if(e.getPadding){var t=e.getPadding();P=Math.max(P,t.top),D=Math.max(D,t.bottom)}});var E=c,R=d,I=f,F=h;i.each(p.concat(g),a),i.each(p,function(e){E+=e.width}),i.each(g,function(e){R+=e.width}),i.each(v.concat(m),a),i.each(v,function(e){I+=e.height}),i.each(m,function(e){F+=e.height}),i.each(p.concat(g),function(e){var t=i.findNextWhere(T,function(t){return t.box===e}),n={left:0,right:0,top:I,bottom:F};t&&e.update(t.minSize.width,k,n)}),E=c,R=d,I=f,F=h,i.each(p,function(e){E+=e.width}),i.each(g,function(e){R+=e.width}),i.each(v,function(e){I+=e.height}),i.each(m,function(e){F+=e.height});var L=Math.max(M-E,0);E+=L,R+=Math.max(A-R,0);var N=Math.max(P-I,0);I+=N,F+=Math.max(D-F,0);var O=o-I-F,j=r-E-R;j===_&&O===k||(i.each(p,function(e){e.height=O}),i.each(g,function(e){e.height=O}),i.each(v,function(e){e.fullWidth||(e.width=j)}),i.each(m,function(e){e.fullWidth||(e.width=j)}),k=O,_=j);var z=c+L,q=f+N;i.each(p.concat(v),s),z+=_,q+=k,i.each(g,s),i.each(m,s),e.chartArea={left:E,top:I,right:E+_,bottom:I+k},i.each(b,function(t){t.left=e.chartArea.left,t.top=e.chartArea.top,t.right=e.chartArea.right,t.bottom=e.chartArea.bottom,t.update(_,k)})}}}}},{}],30:[function(e,t,n){"use strict";t.exports=function(e){var t=e.helpers;e.defaults.global.plugins={},e.plugins={_plugins:[],_cacheId:0,register:function(e){var t=this._plugins;[].concat(e).forEach(function(e){-1===t.indexOf(e)&&t.push(e)}),this._cacheId++},unregister:function(e){var t=this._plugins;[].concat(e).forEach(function(e){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}),this._cacheId++},clear:function(){this._plugins=[],this._cacheId++},count:function(){return this._plugins.length},getAll:function(){return this._plugins},notify:function(e,t,n){var i,r,o,a,s,l=this.descriptors(e),u=l.length;for(i=0;i<u;++i)if(r=l[i],o=r.plugin,"function"==typeof(s=o[t])&&((a=[e].concat(n||[])).push(r.options),!1===s.apply(o,a)))return!1;return!0},descriptors:function(n){var i=n._plugins||(n._plugins={});if(i.id===this._cacheId)return i.descriptors;var r=[],o=[],a=n&&n.config||{},s=e.defaults.global.plugins,l=a.options&&a.options.plugins||{};return this._plugins.concat(a.plugins||[]).forEach(function(e){if(-1===r.indexOf(e)){var n=e.id,i=l[n];!1!==i&&(!0===i&&(i=t.clone(s[n])),r.push(e),o.push({plugin:e,options:i||{}}))}}),i.descriptors=o,i.id=this._cacheId,o}},e.pluginService=e.plugins,e.PluginBase=e.Element.extend({})}},{}],31:[function(e,t,n){"use strict";t.exports=function(e){function t(e,t,n){return i.isArray(t)?i.longestText(e,n,t):e.measureText(t).width}function n(t){var n=i.getValueOrDefault,r=e.defaults.global,o=n(t.fontSize,r.defaultFontSize),a=n(t.fontStyle,r.defaultFontStyle),s=n(t.fontFamily,r.defaultFontFamily);return{size:o,style:a,family:s,font:i.fontString(o,a,s)}}var i=e.helpers;e.defaults.scale={display:!0,position:"left",gridLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:"rgba(0,0,0,0.25)",zeroLineBorderDash:[],zeroLineBorderDashOffset:0,offsetGridLines:!1,borderDash:[],borderDashOffset:0},scaleLabel:{labelString:"",display:!1},ticks:{beginAtZero:!1,minRotation:0,maxRotation:50,mirror:!1,padding:0,reverse:!1,display:!0,autoSkip:!0,autoSkipPadding:0,labelOffset:0,callback:e.Ticks.formatters.values}},e.Scale=e.Element.extend({getPadding:function(){var e=this;return{left:e.paddingLeft||0,top:e.paddingTop||0,right:e.paddingRight||0,bottom:e.paddingBottom||0}},beforeUpdate:function(){i.callback(this.options.beforeUpdate,[this])},update:function(e,t,n){var r=this;return r.beforeUpdate(),r.maxWidth=e,r.maxHeight=t,r.margins=i.extend({left:0,right:0,top:0,bottom:0},n),r.longestTextCache=r.longestTextCache||{},r.beforeSetDimensions(),r.setDimensions(),r.afterSetDimensions(),r.beforeDataLimits(),r.determineDataLimits(),r.afterDataLimits(),r.beforeBuildTicks(),r.buildTicks(),r.afterBuildTicks(),r.beforeTickToLabelConversion(),r.convertTicksToLabels(),r.afterTickToLabelConversion(),r.beforeCalculateTickRotation(),r.calculateTickRotation(),r.afterCalculateTickRotation(),r.beforeFit(),r.fit(),r.afterFit(),r.afterUpdate(),r.minSize},afterUpdate:function(){i.callback(this.options.afterUpdate,[this])},beforeSetDimensions:function(){i.callback(this.options.beforeSetDimensions,[this])},setDimensions:function(){var e=this;e.isHorizontal()?(e.width=e.maxWidth,e.left=0,e.right=e.width):(e.height=e.maxHeight,e.top=0,e.bottom=e.height),e.paddingLeft=0,e.paddingTop=0,e.paddingRight=0,e.paddingBottom=0},afterSetDimensions:function(){i.callback(this.options.afterSetDimensions,[this])},beforeDataLimits:function(){i.callback(this.options.beforeDataLimits,[this])},determineDataLimits:i.noop,afterDataLimits:function(){i.callback(this.options.afterDataLimits,[this])},beforeBuildTicks:function(){i.callback(this.options.beforeBuildTicks,[this])},buildTicks:i.noop,afterBuildTicks:function(){i.callback(this.options.afterBuildTicks,[this])},beforeTickToLabelConversion:function(){i.callback(this.options.beforeTickToLabelConversion,[this])},convertTicksToLabels:function(){var e=this,t=e.options.ticks;e.ticks=e.ticks.map(t.userCallback||t.callback)},afterTickToLabelConversion:function(){i.callback(this.options.afterTickToLabelConversion,[this])},beforeCalculateTickRotation:function(){i.callback(this.options.beforeCalculateTickRotation,[this])},calculateTickRotation:function(){var e=this,t=e.ctx,r=e.options.ticks,o=n(r);t.font=o.font;var a=r.minRotation||0;if(e.options.display&&e.isHorizontal())for(var s,l=i.longestText(t,o.font,e.ticks,e.longestTextCache),u=l,c=e.getPixelForTick(1)-e.getPixelForTick(0)-6;u>c&&a<r.maxRotation;){var d=i.toRadians(a);if(s=Math.cos(d),Math.sin(d)*l>e.maxHeight){a--;break}a++,u=s*l}e.labelRotation=a},afterCalculateTickRotation:function(){i.callback(this.options.afterCalculateTickRotation,[this])},beforeFit:function(){i.callback(this.options.beforeFit,[this])},fit:function(){var e=this,r=e.minSize={width:0,height:0},o=e.options,a=o.ticks,s=o.scaleLabel,l=o.gridLines,u=o.display,c=e.isHorizontal(),d=n(a),f=1.5*n(s).size,h=o.gridLines.tickMarkLength;if(r.width=c?e.isFullWidth()?e.maxWidth-e.margins.left-e.margins.right:e.maxWidth:u&&l.drawTicks?h:0,r.height=c?u&&l.drawTicks?h:0:e.maxHeight,s.display&&u&&(c?r.height+=f:r.width+=f),a.display&&u){var p=i.longestText(e.ctx,d.font,e.ticks,e.longestTextCache),g=i.numberOfLabelLines(e.ticks),v=.5*d.size;if(c){e.longestLabelWidth=p;var m=i.toRadians(e.labelRotation),b=Math.cos(m),y=Math.sin(m)*p+d.size*g+v*g;r.height=Math.min(e.maxHeight,r.height+y),e.ctx.font=d.font;var x=e.ticks[0],w=t(e.ctx,x,d.font),C=e.ticks[e.ticks.length-1],S=t(e.ctx,C,d.font);0!==e.labelRotation?(e.paddingLeft="bottom"===o.position?b*w+3:b*v+3,e.paddingRight="bottom"===o.position?b*v+3:b*S+3):(e.paddingLeft=w/2+3,e.paddingRight=S/2+3)}else a.mirror?p=0:p+=e.options.ticks.padding,r.width=Math.min(e.maxWidth,r.width+p),e.paddingTop=d.size/2,e.paddingBottom=d.size/2}e.handleMargins(),e.width=r.width,e.height=r.height},handleMargins:function(){var e=this;e.margins&&(e.paddingLeft=Math.max(e.paddingLeft-e.margins.left,0),e.paddingTop=Math.max(e.paddingTop-e.margins.top,0),e.paddingRight=Math.max(e.paddingRight-e.margins.right,0),e.paddingBottom=Math.max(e.paddingBottom-e.margins.bottom,0))},afterFit:function(){i.callback(this.options.afterFit,[this])},isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},isFullWidth:function(){return this.options.fullWidth},getRightValue:function(e){return null===e||void 0===e?NaN:"number"!=typeof e||isFinite(e)?"object"==typeof e?e instanceof Date||e.isValid?e:this.getRightValue(this.isHorizontal()?e.x:e.y):e:NaN},getLabelForIndex:i.noop,getPixelForValue:i.noop,getValueForPixel:i.noop,getPixelForTick:function(e,t){var n=this;if(n.isHorizontal()){var i=(n.width-(n.paddingLeft+n.paddingRight))/Math.max(n.ticks.length-(n.options.gridLines.offsetGridLines?0:1),1),r=i*e+n.paddingLeft;t&&(r+=i/2);var o=n.left+Math.round(r);return o+=n.isFullWidth()?n.margins.left:0}var a=n.height-(n.paddingTop+n.paddingBottom);return n.top+e*(a/(n.ticks.length-1))},getPixelForDecimal:function(e){var t=this;if(t.isHorizontal()){var n=(t.width-(t.paddingLeft+t.paddingRight))*e+t.paddingLeft,i=t.left+Math.round(n);return i+=t.isFullWidth()?t.margins.left:0}return t.top+e*t.height},getBasePixel:function(){return this.getPixelForValue(this.getBaseValue())},getBaseValue:function(){var e=this,t=e.min,n=e.max;return e.beginAtZero?0:t<0&&n<0?n:t>0&&n>0?t:0},draw:function(t){var r=this,o=r.options;if(o.display){var a,s,l=r.ctx,u=e.defaults.global,c=o.ticks,d=o.gridLines,f=o.scaleLabel,h=0!==r.labelRotation,p=c.autoSkip,g=r.isHorizontal();c.maxTicksLimit&&(s=c.maxTicksLimit);var v=i.getValueOrDefault(c.fontColor,u.defaultFontColor),m=n(c),b=d.drawTicks?d.tickMarkLength:0,y=i.getValueOrDefault(f.fontColor,u.defaultFontColor),x=n(f),w=i.toRadians(r.labelRotation),C=Math.cos(w),S=r.longestLabelWidth*C;l.fillStyle=v;var _=[];if(g){if(a=!1,(S+c.autoSkipPadding)*r.ticks.length>r.width-(r.paddingLeft+r.paddingRight)&&(a=1+Math.floor((S+c.autoSkipPadding)*r.ticks.length/(r.width-(r.paddingLeft+r.paddingRight)))),s&&r.ticks.length>s)for(;!a||r.ticks.length/(a||1)>s;)a||(a=1),a+=1;p||(a=!1)}var k="right"===o.position?r.left:r.right-b,T="right"===o.position?r.left+b:r.right,M="bottom"===o.position?r.top:r.bottom-b,A="bottom"===o.position?r.top+b:r.bottom;if(i.each(r.ticks,function(e,n){if(void 0!==e&&null!==e){var s=r.ticks.length===n+1;if((!(a>1&&n%a>0||n%a==0&&n+a>=r.ticks.length)||s)&&void 0!==e&&null!==e){var l,f,p,v;n===(void 0!==r.zeroLineIndex?r.zeroLineIndex:0)?(l=d.zeroLineWidth,f=d.zeroLineColor,p=d.zeroLineBorderDash,v=d.zeroLineBorderDashOffset):(l=i.getValueAtIndexOrDefault(d.lineWidth,n),f=i.getValueAtIndexOrDefault(d.color,n),p=i.getValueOrDefault(d.borderDash,u.borderDash),v=i.getValueOrDefault(d.borderDashOffset,u.borderDashOffset));var m,y,x,C,S,P,D,E,R,I,F="middle",L="middle";if(g){"bottom"===o.position?(L=h?"middle":"top",F=h?"right":"center",I=r.top+b):(L=h?"middle":"bottom",F=h?"left":"center",I=r.bottom-b);var N=r.getPixelForTick(n)+i.aliasPixel(l);R=r.getPixelForTick(n,d.offsetGridLines)+c.labelOffset,m=x=S=D=N,y=M,C=A,P=t.top,E=t.bottom}else{var O,j="left"===o.position,z=c.padding;c.mirror?(F=j?"left":"right",O=z):(F=j?"right":"left",O=b+z),R=j?r.right-O:r.left+O;var q=r.getPixelForTick(n);q+=i.aliasPixel(l),I=r.getPixelForTick(n,d.offsetGridLines),m=k,x=T,S=t.left,D=t.right,y=C=P=E=q}_.push({tx1:m,ty1:y,tx2:x,ty2:C,x1:S,y1:P,x2:D,y2:E,labelX:R,labelY:I,glWidth:l,glColor:f,glBorderDash:p,glBorderDashOffset:v,rotation:-1*w,label:e,textBaseline:L,textAlign:F})}}}),i.each(_,function(e){if(d.display&&(l.save(),l.lineWidth=e.glWidth,l.strokeStyle=e.glColor,l.setLineDash&&(l.setLineDash(e.glBorderDash),l.lineDashOffset=e.glBorderDashOffset),l.beginPath(),d.drawTicks&&(l.moveTo(e.tx1,e.ty1),l.lineTo(e.tx2,e.ty2)),d.drawOnChartArea&&(l.moveTo(e.x1,e.y1),l.lineTo(e.x2,e.y2)),l.stroke(),l.restore()),c.display){l.save(),l.translate(e.labelX,e.labelY),l.rotate(e.rotation),l.font=m.font,l.textBaseline=e.textBaseline,l.textAlign=e.textAlign;var t=e.label;if(i.isArray(t))for(var n=0,r=0;n<t.length;++n)l.fillText(""+t[n],0,r),r+=1.5*m.size;else l.fillText(t,0,0);l.restore()}}),f.display){var P,D,E=0;if(g)P=r.left+(r.right-r.left)/2,D="bottom"===o.position?r.bottom-x.size/2:r.top+x.size/2;else{var R="left"===o.position;P=R?r.left+x.size/2:r.right-x.size/2,D=r.top+(r.bottom-r.top)/2,E=R?-.5*Math.PI:.5*Math.PI}l.save(),l.translate(P,D),l.rotate(E),l.textAlign="center",l.textBaseline="middle",l.fillStyle=y,l.font=x.font,l.fillText(f.labelString,0,0),l.restore()}if(d.drawBorder){l.lineWidth=i.getValueAtIndexOrDefault(d.lineWidth,0),l.strokeStyle=i.getValueAtIndexOrDefault(d.color,0);var I=r.left,F=r.right,L=r.top,N=r.bottom,O=i.aliasPixel(l.lineWidth);g?(L=N="top"===o.position?r.bottom:r.top,L+=O,N+=O):(I=F="left"===o.position?r.right:r.left,I+=O,F+=O),l.beginPath(),l.moveTo(I,L),l.lineTo(F,N),l.stroke()}}}})}},{}],32:[function(e,t,n){"use strict";t.exports=function(e){var t=e.helpers;e.scaleService={constructors:{},defaults:{},registerScaleType:function(e,n,i){this.constructors[e]=n,this.defaults[e]=t.clone(i)},getScaleConstructor:function(e){return this.constructors.hasOwnProperty(e)?this.constructors[e]:void 0},getScaleDefaults:function(n){return this.defaults.hasOwnProperty(n)?t.scaleMerge(e.defaults.scale,this.defaults[n]):{}},updateScaleDefaults:function(e,n){var i=this.defaults;i.hasOwnProperty(e)&&(i[e]=t.extend(i[e],n))},addScalesToLayout:function(n){t.each(n.scales,function(t){t.fullWidth=t.options.fullWidth,t.position=t.options.position,t.weight=t.options.weight,e.layoutService.addBox(n,t)})}}}},{}],33:[function(e,t,n){"use strict";t.exports=function(e){var t=e.helpers;e.Ticks={generators:{linear:function(e,n){var i,r=[];if(e.stepSize&&e.stepSize>0)i=e.stepSize;else{var o=t.niceNum(n.max-n.min,!1);i=t.niceNum(o/(e.maxTicks-1),!0)}var a=Math.floor(n.min/i)*i,s=Math.ceil(n.max/i)*i;e.min&&e.max&&e.stepSize&&t.almostWhole((e.max-e.min)/e.stepSize,i/1e3)&&(a=e.min,s=e.max);var l=(s-a)/i;l=t.almostEquals(l,Math.round(l),i/1e3)?Math.round(l):Math.ceil(l),r.push(void 0!==e.min?e.min:a);for(var u=1;u<l;++u)r.push(a+u*i);return r.push(void 0!==e.max?e.max:s),r},logarithmic:function(e,n){var i,r,o=[],a=t.getValueOrDefault,s=a(e.min,Math.pow(10,Math.floor(t.log10(n.min)))),l=Math.floor(t.log10(n.max)),u=Math.ceil(n.max/Math.pow(10,l));0===s?(i=Math.floor(t.log10(n.minNotZero)),r=Math.floor(n.minNotZero/Math.pow(10,i)),o.push(s),s=r*Math.pow(10,i)):(i=Math.floor(t.log10(s)),r=Math.floor(s/Math.pow(10,i)));do{o.push(s),10===++r&&(r=1,++i),s=r*Math.pow(10,i)}while(i<l||i===l&&r<u);var c=a(e.max,s);return o.push(c),o}},formatters:{values:function(e){return t.isArray(e)?e:""+e},linear:function(e,n,i){var r=i.length>3?i[2]-i[1]:i[1]-i[0];Math.abs(r)>1&&e!==Math.floor(e)&&(r=e-Math.floor(e));var o=t.log10(Math.abs(r)),a="";if(0!==e){var s=-1*Math.floor(o);s=Math.max(Math.min(s,20),0),a=e.toFixed(s)}else a="0";return a},logarithmic:function(e,n,i){var r=e/Math.pow(10,Math.floor(t.log10(e)));return 0===e?"0":1===r||2===r||5===r||0===n||n===i.length-1?e.toExponential():""}}}}},{}],34:[function(e,t,n){"use strict";t.exports=function(e){function t(e,t){var n=l.color(e);return n.alpha(t*n.alpha()).rgbaString()}function n(e,t){return t&&(l.isArray(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function i(e){var t=e._xScale,n=e._yScale||e._scale,i=e._index,r=e._datasetIndex;return{xLabel:t?t.getLabelForIndex(i,r):"",yLabel:n?n.getLabelForIndex(i,r):"",index:i,datasetIndex:r,x:e._model.x,y:e._model.y}}function r(t){var n=e.defaults.global,i=l.getValueOrDefault;return{xPadding:t.xPadding,yPadding:t.yPadding,xAlign:t.xAlign,yAlign:t.yAlign,bodyFontColor:t.bodyFontColor,_bodyFontFamily:i(t.bodyFontFamily,n.defaultFontFamily),_bodyFontStyle:i(t.bodyFontStyle,n.defaultFontStyle),_bodyAlign:t.bodyAlign,bodyFontSize:i(t.bodyFontSize,n.defaultFontSize),bodySpacing:t.bodySpacing,titleFontColor:t.titleFontColor,_titleFontFamily:i(t.titleFontFamily,n.defaultFontFamily),_titleFontStyle:i(t.titleFontStyle,n.defaultFontStyle),titleFontSize:i(t.titleFontSize,n.defaultFontSize),_titleAlign:t.titleAlign,titleSpacing:t.titleSpacing,titleMarginBottom:t.titleMarginBottom,footerFontColor:t.footerFontColor,_footerFontFamily:i(t.footerFontFamily,n.defaultFontFamily),_footerFontStyle:i(t.footerFontStyle,n.defaultFontStyle),footerFontSize:i(t.footerFontSize,n.defaultFontSize),_footerAlign:t.footerAlign,footerSpacing:t.footerSpacing,footerMarginTop:t.footerMarginTop,caretSize:t.caretSize,cornerRadius:t.cornerRadius,backgroundColor:t.backgroundColor,opacity:0,legendColorBackground:t.multiKeyBackground,displayColors:t.displayColors,borderColor:t.borderColor,borderWidth:t.borderWidth}}function o(e,t){var n=e._chart.ctx,i=2*t.yPadding,r=0,o=t.body,a=o.reduce(function(e,t){return e+t.before.length+t.lines.length+t.after.length},0);a+=t.beforeBody.length+t.afterBody.length;var s=t.title.length,u=t.footer.length,c=t.titleFontSize,d=t.bodyFontSize,f=t.footerFontSize;i+=s*c,i+=s?(s-1)*t.titleSpacing:0,i+=s?t.titleMarginBottom:0,i+=a*d,i+=a?(a-1)*t.bodySpacing:0,i+=u?t.footerMarginTop:0,i+=u*f,i+=u?(u-1)*t.footerSpacing:0;var h=0,p=function(e){r=Math.max(r,n.measureText(e).width+h)};return n.font=l.fontString(c,t._titleFontStyle,t._titleFontFamily),l.each(t.title,p),n.font=l.fontString(d,t._bodyFontStyle,t._bodyFontFamily),l.each(t.beforeBody.concat(t.afterBody),p),h=t.displayColors?d+2:0,l.each(o,function(e){l.each(e.before,p),l.each(e.lines,p),l.each(e.after,p)}),h=0,n.font=l.fontString(f,t._footerFontStyle,t._footerFontFamily),l.each(t.footer,p),r+=2*t.xPadding,{width:r,height:i}}function a(e,t){var n=e._model,i=e._chart,r=e._chart.chartArea,o="center",a="center";n.y<t.height?a="top":n.y>i.height-t.height&&(a="bottom");var s,l,u,c,d,f=(r.left+r.right)/2,h=(r.top+r.bottom)/2;"center"===a?(s=function(e){return e<=f},l=function(e){return e>f}):(s=function(e){return e<=t.width/2},l=function(e){return e>=i.width-t.width/2}),u=function(e){return e+t.width>i.width},c=function(e){return e-t.width<0},d=function(e){return e<=h?"top":"bottom"},s(n.x)?(o="left",u(n.x)&&(o="center",a=d(n.y))):l(n.x)&&(o="right",c(n.x)&&(o="center",a=d(n.y)));var p=e._options;return{xAlign:p.xAlign?p.xAlign:o,yAlign:p.yAlign?p.yAlign:a}}function s(e,t,n){var i=e.x,r=e.y,o=e.caretSize,a=e.caretPadding,s=e.cornerRadius,l=n.xAlign,u=n.yAlign,c=o+a,d=s+a;return"right"===l?i-=t.width:"center"===l&&(i-=t.width/2),"top"===u?r+=c:r-="bottom"===u?t.height+c:t.height/2,"center"===u?"left"===l?i+=c:"right"===l&&(i-=c):"left"===l?i-=d:"right"===l&&(i+=d),{x:i,y:r}}var l=e.helpers;e.defaults.global.tooltips={enabled:!0,custom:null,mode:"nearest",position:"average",intersect:!0,backgroundColor:"rgba(0,0,0,0.8)",titleFontStyle:"bold",titleSpacing:2,titleMarginBottom:6,titleFontColor:"#fff",titleAlign:"left",bodySpacing:2,bodyFontColor:"#fff",bodyAlign:"left",footerFontStyle:"bold",footerSpacing:2,footerMarginTop:6,footerFontColor:"#fff",footerAlign:"left",yPadding:6,xPadding:6,caretPadding:2,caretSize:5,cornerRadius:6,multiKeyBackground:"#fff",displayColors:!0,borderColor:"rgba(0,0,0,0)",borderWidth:0,callbacks:{beforeTitle:l.noop,title:function(e,t){var n="",i=t.labels,r=i?i.length:0;if(e.length>0){var o=e[0];o.xLabel?n=o.xLabel:r>0&&o.index<r&&(n=i[o.index])}return n},afterTitle:l.noop,beforeBody:l.noop,beforeLabel:l.noop,label:function(e,t){var n=t.datasets[e.datasetIndex].label||"";return n&&(n+=": "),n+=e.yLabel},labelColor:function(e,t){var n=t.getDatasetMeta(e.datasetIndex).data[e.index]._view;return{borderColor:n.borderColor,backgroundColor:n.backgroundColor}},afterLabel:l.noop,afterBody:l.noop,beforeFooter:l.noop,footer:l.noop,afterFooter:l.noop}},e.Tooltip=e.Element.extend({initialize:function(){this._model=r(this._options)},getTitle:function(){var e=this,t=e._options.callbacks,i=t.beforeTitle.apply(e,arguments),r=t.title.apply(e,arguments),o=t.afterTitle.apply(e,arguments),a=[];return a=n(a,i),a=n(a,r),a=n(a,o)},getBeforeBody:function(){var e=this._options.callbacks.beforeBody.apply(this,arguments);return l.isArray(e)?e:void 0!==e?[e]:[]},getBody:function(e,t){var i=this,r=i._options.callbacks,o=[];return l.each(e,function(e){var a={before:[],lines:[],after:[]};n(a.before,r.beforeLabel.call(i,e,t)),n(a.lines,r.label.call(i,e,t)),n(a.after,r.afterLabel.call(i,e,t)),o.push(a)}),o},getAfterBody:function(){var e=this._options.callbacks.afterBody.apply(this,arguments);return l.isArray(e)?e:void 0!==e?[e]:[]},getFooter:function(){var e=this,t=e._options.callbacks,i=t.beforeFooter.apply(e,arguments),r=t.footer.apply(e,arguments),o=t.afterFooter.apply(e,arguments),a=[];return a=n(a,i),a=n(a,r),a=n(a,o)},update:function(t){var n,u,c=this,d=c._options,f=c._model,h=c._model=r(d),p=c._active,g=c._data,v={xAlign:f.xAlign,yAlign:f.yAlign},m={x:f.x,y:f.y},b={width:f.width,height:f.height},y={x:f.caretX,y:f.caretY};if(p.length){h.opacity=1;var x=[];y=e.Tooltip.positioners[d.position](p,c._eventPosition);var w=[];for(n=0,u=p.length;n<u;++n)w.push(i(p[n]));d.filter&&(w=w.filter(function(e){return d.filter(e,g)})),d.itemSort&&(w=w.sort(function(e,t){return d.itemSort(e,t,g)})),l.each(w,function(e){x.push(d.callbacks.labelColor.call(c,e,c._chart))}),h.title=c.getTitle(w,g),h.beforeBody=c.getBeforeBody(w,g),h.body=c.getBody(w,g),h.afterBody=c.getAfterBody(w,g),h.footer=c.getFooter(w,g),h.x=Math.round(y.x),h.y=Math.round(y.y),h.caretPadding=d.caretPadding,h.labelColors=x,h.dataPoints=w,m=s(h,b=o(this,h),v=a(this,b))}else h.opacity=0;return h.xAlign=v.xAlign,h.yAlign=v.yAlign,h.x=m.x,h.y=m.y,h.width=b.width,h.height=b.height,h.caretX=y.x,h.caretY=y.y,c._model=h,t&&d.custom&&d.custom.call(c,h),c},drawCaret:function(e,t){var n=this._chart.ctx,i=this._view,r=this.getCaretPosition(e,t,i);n.lineTo(r.x1,r.y1),n.lineTo(r.x2,r.y2),n.lineTo(r.x3,r.y3)},getCaretPosition:function(e,t,n){var i,r,o,a,s,l,u=n.caretSize,c=n.cornerRadius,d=n.xAlign,f=n.yAlign,h=e.x,p=e.y,g=t.width,v=t.height;if("center"===f)s=p+v/2,"left"===d?(i=h,r=i-u,o=i,a=s+u,l=s-u):(i=h+g,r=i+u,o=i,a=s-u,l=s+u);else if("left"===d?(r=h+c+u,i=r-u,o=r+u):"right"===d?(r=h+g-c-u,i=r-u,o=r+u):(r=h+g/2,i=r-u,o=r+u),"top"===f)a=p,s=a-u,l=a;else{s=(a=p+v)+u,l=a;var m=o;o=i,i=m}return{x1:i,x2:r,x3:o,y1:a,y2:s,y3:l}},drawTitle:function(e,n,i,r){var o=n.title;if(o.length){i.textAlign=n._titleAlign,i.textBaseline="top";var a=n.titleFontSize,s=n.titleSpacing;i.fillStyle=t(n.titleFontColor,r),i.font=l.fontString(a,n._titleFontStyle,n._titleFontFamily);var u,c;for(u=0,c=o.length;u<c;++u)i.fillText(o[u],e.x,e.y),e.y+=a+s,u+1===o.length&&(e.y+=n.titleMarginBottom-s)}},drawBody:function(e,n,i,r){var o=n.bodyFontSize,a=n.bodySpacing,s=n.body;i.textAlign=n._bodyAlign,i.textBaseline="top";var u=t(n.bodyFontColor,r);i.fillStyle=u,i.font=l.fontString(o,n._bodyFontStyle,n._bodyFontFamily);var c=0,d=function(t){i.fillText(t,e.x+c,e.y),e.y+=o+a};l.each(n.beforeBody,d);var f=n.displayColors;c=f?o+2:0,l.each(s,function(a,s){l.each(a.before,d),l.each(a.lines,function(a){f&&(i.fillStyle=t(n.legendColorBackground,r),i.fillRect(e.x,e.y,o,o),i.strokeStyle=t(n.labelColors[s].borderColor,r),i.strokeRect(e.x,e.y,o,o),i.fillStyle=t(n.labelColors[s].backgroundColor,r),i.fillRect(e.x+1,e.y+1,o-2,o-2),i.fillStyle=u),d(a)}),l.each(a.after,d)}),c=0,l.each(n.afterBody,d),e.y-=a},drawFooter:function(e,n,i,r){var o=n.footer;o.length&&(e.y+=n.footerMarginTop,i.textAlign=n._footerAlign,i.textBaseline="top",i.fillStyle=t(n.footerFontColor,r),i.font=l.fontString(n.footerFontSize,n._footerFontStyle,n._footerFontFamily),l.each(o,function(t){i.fillText(t,e.x,e.y),e.y+=n.footerFontSize+n.footerSpacing}))},drawBackground:function(e,n,i,r,o){i.fillStyle=t(n.backgroundColor,o),i.strokeStyle=t(n.borderColor,o),i.lineWidth=n.borderWidth;var a=n.xAlign,s=n.yAlign,l=e.x,u=e.y,c=r.width,d=r.height,f=n.cornerRadius;i.beginPath(),i.moveTo(l+f,u),"top"===s&&this.drawCaret(e,r),i.lineTo(l+c-f,u),i.quadraticCurveTo(l+c,u,l+c,u+f),"center"===s&&"right"===a&&this.drawCaret(e,r),i.lineTo(l+c,u+d-f),i.quadraticCurveTo(l+c,u+d,l+c-f,u+d),"bottom"===s&&this.drawCaret(e,r),i.lineTo(l+f,u+d),i.quadraticCurveTo(l,u+d,l,u+d-f),"center"===s&&"left"===a&&this.drawCaret(e,r),i.lineTo(l,u+f),i.quadraticCurveTo(l,u,l+f,u),i.closePath(),i.fill(),n.borderWidth>0&&i.stroke()},draw:function(){var e=this._chart.ctx,t=this._view;if(0!==t.opacity){var n={width:t.width,height:t.height},i={x:t.x,y:t.y},r=Math.abs(t.opacity<.001)?0:t.opacity,o=t.title.length||t.beforeBody.length||t.body.length||t.afterBody.length||t.footer.length;this._options.enabled&&o&&(this.drawBackground(i,t,e,n,r),i.x+=t.xPadding,i.y+=t.yPadding,this.drawTitle(i,t,e,r),this.drawBody(i,t,e,r),this.drawFooter(i,t,e,r))}},handleEvent:function(e){var t=this,n=t._options,i=!1;if(t._lastActive=t._lastActive||[],"mouseout"===e.type?t._active=[]:t._active=t._chart.getElementsAtEventForMode(e,n.mode,n),!(i=!l.arrayEquals(t._active,t._lastActive)))return!1;if(t._lastActive=t._active,n.enabled||n.custom){t._eventPosition={x:e.x,y:e.y};var r=t._model;t.update(!0),t.pivot(),i|=r.x!==t._model.x||r.y!==t._model.y}return i}}),e.Tooltip.positioners={average:function(e){if(!e.length)return!1;var t,n,i=0,r=0,o=0;for(t=0,n=e.length;t<n;++t){var a=e[t];if(a&&a.hasValue()){var s=a.tooltipPosition();i+=s.x,r+=s.y,++o}}return{x:Math.round(i/o),y:Math.round(r/o)}},nearest:function(e,t){var n,i,r,o=t.x,a=t.y,s=Number.POSITIVE_INFINITY;for(i=0,r=e.length;i<r;++i){var u=e[i];if(u&&u.hasValue()){var c=u.getCenterPoint(),d=l.distanceBetweenPoints(t,c);d<s&&(s=d,n=u)}}if(n){var f=n.tooltipPosition();o=f.x,a=f.y}return{x:o,y:a}}}}},{}],35:[function(e,t,n){"use strict";t.exports=function(e){var t=e.helpers,n=e.defaults.global;n.elements.arc={backgroundColor:n.defaultColor,borderColor:"#fff",borderWidth:2},e.elements.Arc=e.Element.extend({inLabelRange:function(e){var t=this._view;return!!t&&Math.pow(e-t.x,2)<Math.pow(t.radius+t.hoverRadius,2)},inRange:function(e,n){var i=this._view;if(i){for(var r=t.getAngleFromPoint(i,{x:e,y:n}),o=r.angle,a=r.distance,s=i.startAngle,l=i.endAngle;l<s;)l+=2*Math.PI;for(;o>l;)o-=2*Math.PI;for(;o<s;)o+=2*Math.PI;var u=o>=s&&o<=l,c=a>=i.innerRadius&&a<=i.outerRadius;return u&&c}return!1},getCenterPoint:function(){var e=this._view,t=(e.startAngle+e.endAngle)/2,n=(e.innerRadius+e.outerRadius)/2;return{x:e.x+Math.cos(t)*n,y:e.y+Math.sin(t)*n}},getArea:function(){var e=this._view;return Math.PI*((e.endAngle-e.startAngle)/(2*Math.PI))*(Math.pow(e.outerRadius,2)-Math.pow(e.innerRadius,2))},tooltipPosition:function(){var e=this._view,t=e.startAngle+(e.endAngle-e.startAngle)/2,n=(e.outerRadius-e.innerRadius)/2+e.innerRadius;return{x:e.x+Math.cos(t)*n,y:e.y+Math.sin(t)*n}},draw:function(){var e=this._chart.ctx,t=this._view,n=t.startAngle,i=t.endAngle;e.beginPath(),e.arc(t.x,t.y,t.outerRadius,n,i),e.arc(t.x,t.y,t.innerRadius,i,n,!0),e.closePath(),e.strokeStyle=t.borderColor,e.lineWidth=t.borderWidth,e.fillStyle=t.backgroundColor,e.fill(),e.lineJoin="bevel",t.borderWidth&&e.stroke()}})}},{}],36:[function(e,t,n){"use strict";t.exports=function(e){var t=e.helpers,n=e.defaults.global;e.defaults.global.elements.line={tension:.4,backgroundColor:n.defaultColor,borderWidth:3,borderColor:n.defaultColor,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",capBezierPoints:!0,fill:!0},e.elements.Line=e.Element.extend({draw:function(){var e,i,r,o,a=this,s=a._view,l=a._chart.ctx,u=s.spanGaps,c=a._children.slice(),d=n.elements.line,f=-1;for(a._loop&&c.length&&c.push(c[0]),l.save(),l.lineCap=s.borderCapStyle||d.borderCapStyle,l.setLineDash&&l.setLineDash(s.borderDash||d.borderDash),l.lineDashOffset=s.borderDashOffset||d.borderDashOffset,l.lineJoin=s.borderJoinStyle||d.borderJoinStyle,l.lineWidth=s.borderWidth||d.borderWidth,l.strokeStyle=s.borderColor||n.defaultColor,l.beginPath(),f=-1,e=0;e<c.length;++e)i=c[e],r=t.previousItem(c,e),o=i._view,0===e?o.skip||(l.moveTo(o.x,o.y),f=e):(r=-1===f?r:c[f],o.skip||(f!==e-1&&!u||-1===f?l.moveTo(o.x,o.y):t.canvas.lineTo(l,r._view,i._view),f=e));l.stroke(),l.restore()}})}},{}],37:[function(e,t,n){"use strict";t.exports=function(e){function t(e){var t=this._view;return!!t&&Math.pow(e-t.x,2)<Math.pow(t.radius+t.hitRadius,2)}var n=e.helpers,i=e.defaults.global,r=i.defaultColor;i.elements.point={radius:3,pointStyle:"circle",backgroundColor:r,borderWidth:1,borderColor:r,hitRadius:1,hoverRadius:4,hoverBorderWidth:1},e.elements.Point=e.Element.extend({inRange:function(e,t){var n=this._view;return!!n&&Math.pow(e-n.x,2)+Math.pow(t-n.y,2)<Math.pow(n.hitRadius+n.radius,2)},inLabelRange:t,inXRange:t,inYRange:function(e){var t=this._view;return!!t&&Math.pow(e-t.y,2)<Math.pow(t.radius+t.hitRadius,2)},getCenterPoint:function(){var e=this._view;return{x:e.x,y:e.y}},getArea:function(){return Math.PI*Math.pow(this._view.radius,2)},tooltipPosition:function(){var e=this._view;return{x:e.x,y:e.y,padding:e.radius+e.borderWidth}},draw:function(t){var o=this._view,a=this._model,s=this._chart.ctx,l=o.pointStyle,u=o.radius,c=o.x,d=o.y,f=e.helpers.color,h=1.01,p=0;o.skip||(s.strokeStyle=o.borderColor||r,s.lineWidth=n.getValueOrDefault(o.borderWidth,i.elements.point.borderWidth),s.fillStyle=o.backgroundColor||r,void 0!==t&&(a.x<t.left||t.right*h<a.x||a.y<t.top||t.bottom*h<a.y)&&(a.x<t.left?p=(c-a.x)/(t.left-a.x):t.right*h<a.x?p=(a.x-c)/(a.x-t.right):a.y<t.top?p=(d-a.y)/(t.top-a.y):t.bottom*h<a.y&&(p=(a.y-d)/(a.y-t.bottom)),p=Math.round(100*p)/100,s.strokeStyle=f(s.strokeStyle).alpha(p).rgbString(),s.fillStyle=f(s.fillStyle).alpha(p).rgbString()),e.canvasHelpers.drawPoint(s,l,u,c,d))}})}},{}],38:[function(e,t,n){"use strict";t.exports=function(e){function t(e){return void 0!==e._view.width}function n(e){var n,i,r,o,a=e._view;if(t(e)){var s=a.width/2;n=a.x-s,i=a.x+s,r=Math.min(a.y,a.base),o=Math.max(a.y,a.base)}else{var l=a.height/2;n=Math.min(a.x,a.base),i=Math.max(a.x,a.base),r=a.y-l,o=a.y+l}return{left:n,top:r,right:i,bottom:o}}var i=e.defaults.global;i.elements.rectangle={backgroundColor:i.defaultColor,borderWidth:0,borderColor:i.defaultColor,borderSkipped:"bottom"},e.elements.Rectangle=e.Element.extend({draw:function(){function e(e){return m[(b+e)%4]}var t,n,i,r,o,a,s,l=this._chart.ctx,u=this._view,c=u.borderWidth;if(u.horizontal?(t=u.base,n=u.x,i=u.y-u.height/2,r=u.y+u.height/2,o=n>t?1:-1,a=1,s=u.borderSkipped||"left"):(t=u.x-u.width/2,n=u.x+u.width/2,i=u.y,r=u.base,o=1,a=r>i?1:-1,s=u.borderSkipped||"bottom"),c){var d=Math.min(Math.abs(t-n),Math.abs(i-r)),f=(c=c>d?d:c)/2,h=t+("left"!==s?f*o:0),p=n+("right"!==s?-f*o:0),g=i+("top"!==s?f*a:0),v=r+("bottom"!==s?-f*a:0);h!==p&&(i=g,r=v),g!==v&&(t=h,n=p)}l.beginPath(),l.fillStyle=u.backgroundColor,l.strokeStyle=u.borderColor,l.lineWidth=c;var m=[[t,r],[t,i],[n,i],[n,r]],b=["bottom","left","top","right"].indexOf(s,0);-1===b&&(b=0);var y=e(0);l.moveTo(y[0],y[1]);for(var x=1;x<4;x++)y=e(x),l.lineTo(y[0],y[1]);l.fill(),c&&l.stroke()},height:function(){var e=this._view;return e.base-e.y},inRange:function(e,t){var i=!1;if(this._view){var r=n(this);i=e>=r.left&&e<=r.right&&t>=r.top&&t<=r.bottom}return i},inLabelRange:function(e,i){var r=this;if(!r._view)return!1;var o=n(r);return t(r)?e>=o.left&&e<=o.right:i>=o.top&&i<=o.bottom},inXRange:function(e){var t=n(this);return e>=t.left&&e<=t.right},inYRange:function(e){var t=n(this);return e>=t.top&&e<=t.bottom},getCenterPoint:function(){var e,n,i=this._view;return t(this)?(e=i.x,n=(i.y+i.base)/2):(e=(i.x+i.base)/2,n=i.y),{x:e,y:n}},getArea:function(){var e=this._view;return e.width*Math.abs(e.y-e.base)},tooltipPosition:function(){var e=this._view;return{x:e.x,y:e.y}}})}},{}],39:[function(e,t,n){"use strict";t.exports=function(e){function t(e,t){var n=l.getStyle(e,t),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?Number(i[1]):void 0}function n(e,n){var i=e.style,r=e.getAttribute("height"),o=e.getAttribute("width");if(e._chartjs={initial:{height:r,width:o,style:{display:i.display,height:i.height,width:i.width}}},i.display=i.display||"block",null===o||""===o){var a=t(e,"width");void 0!==a&&(e.width=a)}if(null===r||""===r)if(""===e.style.height)e.height=e.width/(n.options.aspectRatio||2);else{var s=t(e,"height");void 0!==a&&(e.height=s)}return e}function i(e,t,n,i,r){return{type:e,chart:t,native:r||null,x:void 0!==n?n:null,y:void 0!==i?i:null}}function r(e,t){var n=u[e.type]||e.type,r=l.getRelativePosition(e,t);return i(n,t,r.x,r.y,e)}function o(e){var t=document.createElement("iframe");return t.className="chartjs-hidden-iframe",t.style.cssText="display:block;overflow:hidden;border:0;margin:0;top:0;left:0;bottom:0;right:0;height:100%;width:100%;position:absolute;pointer-events:none;z-index:-1;",t.tabIndex=-1,l.addEvent(t,"load",function(){l.addEvent(t.contentWindow||t,"resize",e),e()}),t}function a(e,t,n){var r=e._chartjs={ticking:!1};r.resizer=o(function(){r.ticking||(r.ticking=!0,l.requestAnimFrame.call(window,function(){if(r.resizer)return r.ticking=!1,t(i("resize",n))}))}),e.insertBefore(r.resizer,e.firstChild)}function s(e){if(e&&e._chartjs){var t=e._chartjs.resizer;t&&(t.parentNode.removeChild(t),e._chartjs.resizer=null),delete e._chartjs}}var l=e.helpers,u={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"};return{acquireContext:function(e,t){"string"==typeof e?e=document.getElementById(e):e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas);var i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(n(e,t),i):null},releaseContext:function(e){var t=e.canvas;if(t._chartjs){var n=t._chartjs.initial;["height","width"].forEach(function(e){var i=n[e];void 0===i||null===i?t.removeAttribute(e):t.setAttribute(e,i)}),l.each(n.style||{},function(e,n){t.style[n]=e}),t.width=t.width,delete t._chartjs}},addEventListener:function(e,t,n){var i=e.canvas;if("resize"!==t){var o=n._chartjs||(n._chartjs={}),s=(o.proxies||(o.proxies={}))[e.id+"_"+t]=function(t){n(r(t,e))};l.addEvent(i,t,s)}else a(i.parentNode,n,e)},removeEventListener:function(e,t,n){var i=e.canvas;if("resize"!==t){var r=((n._chartjs||{}).proxies||{})[e.id+"_"+t];r&&l.removeEvent(i,t,r)}else s(i.parentNode)}}}},{}],40:[function(e,t,n){"use strict";var i=e(39);t.exports=function(e){e.platform={acquireContext:function(){},releaseContext:function(){},addEventListener:function(){},removeEventListener:function(){}},e.helpers.extend(e.platform,i(e))}},{39:39}],41:[function(e,t,n){"use strict";t.exports=function(e){function t(e,t,n){var i,r=e._model||{},o=r.fill;if(void 0===o&&(o=!!r.backgroundColor),!1===o||null===o)return!1;if(!0===o)return"origin";if(i=parseFloat(o,10),isFinite(i)&&Math.floor(i)===i)return"-"!==o[0]&&"+"!==o[0]||(i=t+i),!(i===t||i<0||i>=n)&&i;switch(o){case"bottom":return"start";case"top":return"end";case"zero":return"origin";case"origin":case"start":case"end":return o;default:return!1}}function n(e){var t,n=e.el._model||{},i=e.el._scale||{},r=e.fill,o=null;if(isFinite(r))return null;if("start"===r?o=void 0===n.scaleBottom?i.bottom:n.scaleBottom:"end"===r?o=void 0===n.scaleTop?i.top:n.scaleTop:void 0!==n.scaleZero?o=n.scaleZero:i.getBasePosition?o=i.getBasePosition():i.getBasePixel&&(o=i.getBasePixel()),void 0!==o&&null!==o){if(void 0!==o.x&&void 0!==o.y)return o;if("number"==typeof o&&isFinite(o))return t=i.isHorizontal(),{x:t?o:null,y:t?null:o}}return null}function i(e,t,n){var i,r=e[t].fill,o=[t];if(!n)return r;for(;!1!==r&&-1===o.indexOf(r);){if(!isFinite(r))return r;if(!(i=e[r]))return!1;if(i.visible)return r;o.push(r),r=i.fill}return!1}function r(e){var t=e.fill,n="dataset";return!1===t?null:(isFinite(t)||(n="boundary"),c[n](e))}function o(e){return e&&!e.skip}function a(e,t,n,i,r){var o;if(i&&r){for(e.moveTo(t[0].x,t[0].y),o=1;o<i;++o)u.canvas.lineTo(e,t[o-1],t[o]);for(e.lineTo(n[r-1].x,n[r-1].y),o=r-1;o>0;--o)u.canvas.lineTo(e,n[o],n[o-1],!0)}}function s(e,t,n,i,r,s){var l,u,c,d,f,h,p,g=t.length,v=i.spanGaps,m=[],b=[],y=0,x=0;for(e.beginPath(),l=0,u=g+!!s;l<u;++l)c=l%g,d=t[c]._view,f=n(d,c,i),h=o(d),p=o(f),h&&p?(y=m.push(d),x=b.push(f)):y&&x&&(v?(h&&m.push(d),p&&b.push(f)):(a(e,m,b,y,x),y=x=0,m=[],b=[]));a(e,m,b,y,x),e.closePath(),e.fillStyle=r,e.fill()}e.defaults.global.plugins.filler={propagate:!0};var l=e.defaults,u=e.helpers,c={dataset:function(e){var t=e.fill,n=e.chart,i=n.getDatasetMeta(t),r=i&&n.isDatasetVisible(t)&&i.dataset._children||[];return r.length?function(e,t){return r[t]._view||null}:null},boundary:function(e){var t=e.boundary,n=t?t.x:null,i=t?t.y:null;return function(e){return{x:null===n?e.x:n,y:null===i?e.y:i}}}};return{id:"filler",afterDatasetsUpdate:function(o,a){var s,l,u,c,d=(o.data.datasets||[]).length,f=a.propagate,h=[];for(l=0;l<d;++l)s=o.getDatasetMeta(l),u=s.dataset,c=null,u&&u._model&&u instanceof e.elements.Line&&(c={visible:o.isDatasetVisible(l),fill:t(u,l,d),chart:o,el:u}),s.$filler=c,h.push(c);for(l=0;l<d;++l)(c=h[l])&&(c.fill=i(h,l,f),c.boundary=n(c),c.mapper=r(c))},beforeDatasetDraw:function(e,t){var n=t.meta.$filler;if(n){var i=n.el,r=i._view,o=i._children||[],a=n.mapper,u=r.backgroundColor||l.global.defaultColor;a&&u&&o.length&&s(e.ctx,o,a,r,u,i._loop)}}}}},{}],42:[function(e,t,n){"use strict";t.exports=function(e){function t(e,t){return e.usePointStyle?t*Math.SQRT2:e.boxWidth}function n(t,n){var i=new e.Legend({ctx:t.ctx,options:n,chart:t});r.configure(t,i,n),r.addBox(t,i),t.legend=i}var i=e.helpers,r=e.layoutService,o=i.noop;return e.defaults.global.legend={display:!0,position:"top",fullWidth:!0,reverse:!1,weight:1e3,onClick:function(e,t){var n=t.datasetIndex,i=this.chart,r=i.getDatasetMeta(n);r.hidden=null===r.hidden?!i.data.datasets[n].hidden:null,i.update()},onHover:null,labels:{boxWidth:40,padding:10,generateLabels:function(e){var t=e.data;return i.isArray(t.datasets)?t.datasets.map(function(t,n){return{text:t.label,fillStyle:i.isArray(t.backgroundColor)?t.backgroundColor[0]:t.backgroundColor,hidden:!e.isDatasetVisible(n),lineCap:t.borderCapStyle,lineDash:t.borderDash,lineDashOffset:t.borderDashOffset,lineJoin:t.borderJoinStyle,lineWidth:t.borderWidth,strokeStyle:t.borderColor,pointStyle:t.pointStyle,datasetIndex:n}},this):[]}}},e.Legend=e.Element.extend({initialize:function(e){i.extend(this,e),this.legendHitBoxes=[],this.doughnutMode=!1},beforeUpdate:o,update:function(e,t,n){var i=this;return i.beforeUpdate(),i.maxWidth=e,i.maxHeight=t,i.margins=n,i.beforeSetDimensions(),i.setDimensions(),i.afterSetDimensions(),i.beforeBuildLabels(),i.buildLabels(),i.afterBuildLabels(),i.beforeFit(),i.fit(),i.afterFit(),i.afterUpdate(),i.minSize},afterUpdate:o,beforeSetDimensions:o,setDimensions:function(){var e=this;e.isHorizontal()?(e.width=e.maxWidth,e.left=0,e.right=e.width):(e.height=e.maxHeight,e.top=0,e.bottom=e.height),e.paddingLeft=0,e.paddingTop=0,e.paddingRight=0,e.paddingBottom=0,e.minSize={width:0,height:0}},afterSetDimensions:o,beforeBuildLabels:o,buildLabels:function(){var e=this,t=e.options.labels,n=t.generateLabels.call(e,e.chart);t.filter&&(n=n.filter(function(n){return t.filter(n,e.chart.data)})),e.options.reverse&&n.reverse(),e.legendItems=n},afterBuildLabels:o,beforeFit:o,fit:function(){var n=this,r=n.options,o=r.labels,a=r.display,s=n.ctx,l=e.defaults.global,u=i.getValueOrDefault,c=u(o.fontSize,l.defaultFontSize),d=u(o.fontStyle,l.defaultFontStyle),f=u(o.fontFamily,l.defaultFontFamily),h=i.fontString(c,d,f),p=n.legendHitBoxes=[],g=n.minSize,v=n.isHorizontal();if(v?(g.width=n.maxWidth,g.height=a?10:0):(g.width=a?10:0,g.height=n.maxHeight),a)if(s.font=h,v){var m=n.lineWidths=[0],b=n.legendItems.length?c+o.padding:0;s.textAlign="left",s.textBaseline="top",i.each(n.legendItems,function(e,i){var r=t(o,c)+c/2+s.measureText(e.text).width;m[m.length-1]+r+o.padding>=n.width&&(b+=c+o.padding,m[m.length]=n.left),p[i]={left:0,top:0,width:r,height:c},m[m.length-1]+=r+o.padding}),g.height+=b}else{var y=o.padding,x=n.columnWidths=[],w=o.padding,C=0,S=0,_=c+y;i.each(n.legendItems,function(e,n){var i=t(o,c)+c/2+s.measureText(e.text).width;S+_>g.height&&(w+=C+o.padding,x.push(C),C=0,S=0),C=Math.max(C,i),S+=_,p[n]={left:0,top:0,width:i,height:c}}),w+=C,x.push(C),g.width+=w}n.width=g.width,n.height=g.height},afterFit:o,isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},draw:function(){var n=this,r=n.options,o=r.labels,a=e.defaults.global,s=a.elements.line,l=n.width,u=n.lineWidths;if(r.display){var c,d=n.ctx,f=i.getValueOrDefault,h=f(o.fontColor,a.defaultFontColor),p=f(o.fontSize,a.defaultFontSize),g=f(o.fontStyle,a.defaultFontStyle),v=f(o.fontFamily,a.defaultFontFamily),m=i.fontString(p,g,v);d.textAlign="left",d.textBaseline="top",d.lineWidth=.5,d.strokeStyle=h,d.fillStyle=h,d.font=m;var b=t(o,p),y=n.legendHitBoxes,x=function(t,n,i){if(!(isNaN(b)||b<=0)){d.save(),d.fillStyle=f(i.fillStyle,a.defaultColor),d.lineCap=f(i.lineCap,s.borderCapStyle),d.lineDashOffset=f(i.lineDashOffset,s.borderDashOffset),d.lineJoin=f(i.lineJoin,s.borderJoinStyle),d.lineWidth=f(i.lineWidth,s.borderWidth),d.strokeStyle=f(i.strokeStyle,a.defaultColor);var o=0===f(i.lineWidth,s.borderWidth);if(d.setLineDash&&d.setLineDash(f(i.lineDash,s.borderDash)),r.labels&&r.labels.usePointStyle){var l=p*Math.SQRT2/2,u=l/Math.SQRT2,c=t+u,h=n+u;e.canvasHelpers.drawPoint(d,i.pointStyle,l,c,h)}else o||d.strokeRect(t,n,b,p),d.fillRect(t,n,b,p);d.restore()}},w=function(e,t,n,i){d.fillText(n.text,b+p/2+e,t),n.hidden&&(d.beginPath(),d.lineWidth=2,d.moveTo(b+p/2+e,t+p/2),d.lineTo(b+p/2+e+i,t+p/2),d.stroke())},C=n.isHorizontal();c=C?{x:n.left+(l-u[0])/2,y:n.top+o.padding,line:0}:{x:n.left+o.padding,y:n.top+o.padding,line:0};var S=p+o.padding;i.each(n.legendItems,function(e,t){var i=d.measureText(e.text).width,r=b+p/2+i,a=c.x,s=c.y;C?a+r>=l&&(s=c.y+=S,c.line++,a=c.x=n.left+(l-u[c.line])/2):s+S>n.bottom&&(a=c.x=a+n.columnWidths[c.line]+o.padding,s=c.y=n.top+o.padding,c.line++),x(a,s,e),y[t].left=a,y[t].top=s,w(a,s,e,i),C?c.x+=r+o.padding:c.y+=S})}},handleEvent:function(e){var t=this,n=t.options,i="mouseup"===e.type?"click":e.type,r=!1;if("mousemove"===i){if(!n.onHover)return}else{if("click"!==i)return;if(!n.onClick)return}var o=e.x,a=e.y;if(o>=t.left&&o<=t.right&&a>=t.top&&a<=t.bottom)for(var s=t.legendHitBoxes,l=0;l<s.length;++l){var u=s[l];if(o>=u.left&&o<=u.left+u.width&&a>=u.top&&a<=u.top+u.height){if("click"===i){n.onClick.call(t,e.native,t.legendItems[l]),r=!0;break}if("mousemove"===i){n.onHover.call(t,e.native,t.legendItems[l]),r=!0;break}}}return r}}),{id:"legend",beforeInit:function(e){var t=e.options.legend;t&&n(e,t)},beforeUpdate:function(t){var o=t.options.legend,a=t.legend;o?(o=i.configMerge(e.defaults.global.legend,o),a?(r.configure(t,a,o),a.options=o):n(t,o)):a&&(r.removeBox(t,a),delete t.legend)},afterEvent:function(e,t){var n=e.legend;n&&n.handleEvent(t)}}}},{}],43:[function(e,t,n){"use strict";t.exports=function(e){function t(t,n){var r=new e.Title({ctx:t.ctx,options:n,chart:t});i.configure(t,r,n),i.addBox(t,r),t.titleBlock=r}var n=e.helpers,i=e.layoutService,r=n.noop;return e.defaults.global.title={display:!1,position:"top",fullWidth:!0,weight:2e3,fontStyle:"bold",padding:10,text:""},e.Title=e.Element.extend({initialize:function(e){var t=this;n.extend(t,e),t.legendHitBoxes=[]},beforeUpdate:r,update:function(e,t,n){var i=this;return i.beforeUpdate(),i.maxWidth=e,i.maxHeight=t,i.margins=n,i.beforeSetDimensions(),i.setDimensions(),i.afterSetDimensions(),i.beforeBuildLabels(),i.buildLabels(),i.afterBuildLabels(),i.beforeFit(),i.fit(),i.afterFit(),i.afterUpdate(),i.minSize},afterUpdate:r,beforeSetDimensions:r,setDimensions:function(){var e=this;e.isHorizontal()?(e.width=e.maxWidth,e.left=0,e.right=e.width):(e.height=e.maxHeight,e.top=0,e.bottom=e.height),e.paddingLeft=0,e.paddingTop=0,e.paddingRight=0,e.paddingBottom=0,e.minSize={width:0,height:0}},afterSetDimensions:r,beforeBuildLabels:r,buildLabels:r,afterBuildLabels:r,beforeFit:r,fit:function(){var t=this,i=n.getValueOrDefault,r=t.options,o=e.defaults.global,a=r.display,s=i(r.fontSize,o.defaultFontSize),l=t.minSize;t.isHorizontal()?(l.width=t.maxWidth,l.height=a?s+2*r.padding:0):(l.width=a?s+2*r.padding:0,l.height=t.maxHeight),t.width=l.width,t.height=l.height},afterFit:r,isHorizontal:function(){var e=this.options.position;return"top"===e||"bottom"===e},draw:function(){var t=this,i=t.ctx,r=n.getValueOrDefault,o=t.options,a=e.defaults.global;if(o.display){var s,l,u,c=r(o.fontSize,a.defaultFontSize),d=r(o.fontStyle,a.defaultFontStyle),f=r(o.fontFamily,a.defaultFontFamily),h=n.fontString(c,d,f),p=0,g=t.top,v=t.left,m=t.bottom,b=t.right;i.fillStyle=r(o.fontColor,a.defaultFontColor),i.font=h,t.isHorizontal()?(s=v+(b-v)/2,l=g+(m-g)/2,u=b-v):(s="left"===o.position?v+c/2:b-c/2,l=g+(m-g)/2,u=m-g,p=Math.PI*("left"===o.position?-.5:.5)),i.save(),i.translate(s,l),i.rotate(p),i.textAlign="center",i.textBaseline="middle",i.fillText(o.text,0,0,u),i.restore()}}}),{id:"title",beforeInit:function(e){var n=e.options.title;n&&t(e,n)},beforeUpdate:function(r){var o=r.options.title,a=r.titleBlock;o?(o=n.configMerge(e.defaults.global.title,o),a?(i.configure(r,a,o),a.options=o):t(r,o)):a&&(e.layoutService.removeBox(r,a),delete r.titleBlock)}}}},{}],44:[function(e,t,n){"use strict";t.exports=function(e){var t=e.helpers,n={position:"bottom"},i=e.Scale.extend({getLabels:function(){var e=this.chart.data;return(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels},determineDataLimits:function(){var e=this,n=e.getLabels();e.minIndex=0,e.maxIndex=n.length-1;var i;void 0!==e.options.ticks.min&&(i=t.indexOf(n,e.options.ticks.min),e.minIndex=-1!==i?i:e.minIndex),void 0!==e.options.ticks.max&&(i=t.indexOf(n,e.options.ticks.max),e.maxIndex=-1!==i?i:e.maxIndex),e.min=n[e.minIndex],e.max=n[e.maxIndex]},buildTicks:function(){var e=this,t=e.getLabels();e.ticks=0===e.minIndex&&e.maxIndex===t.length-1?t:t.slice(e.minIndex,e.maxIndex+1)},getLabelForIndex:function(e,t){var n=this,i=n.chart.data,r=n.isHorizontal();return i.yLabels&&!r?n.getRightValue(i.datasets[t].data[e]):n.ticks[e-n.minIndex]},getPixelForValue:function(e,t,n,i){var r,o=this,a=Math.max(o.maxIndex+1-o.minIndex-(o.options.gridLines.offsetGridLines?0:1),1);if(void 0!==e&&null!==e&&(r=o.isHorizontal()?e.x:e.y),void 0!==r||void 0!==e&&isNaN(t)){var s=o.getLabels();e=r||e;var l=s.indexOf(e);t=-1!==l?l:t}if(o.isHorizontal()){var u=o.width/a,c=u*(t-o.minIndex);return(o.options.gridLines.offsetGridLines&&i||o.maxIndex===o.minIndex&&i)&&(c+=u/2),o.left+Math.round(c)}var d=o.height/a,f=d*(t-o.minIndex);return o.options.gridLines.offsetGridLines&&i&&(f+=d/2),o.top+Math.round(f)},getPixelForTick:function(e,t){return this.getPixelForValue(this.ticks[e],e+this.minIndex,null,t)},getValueForPixel:function(e){var t=this,n=Math.max(t.ticks.length-(t.options.gridLines.offsetGridLines?0:1),1),i=t.isHorizontal(),r=(i?t.width:t.height)/n;return e-=i?t.left:t.top,t.options.gridLines.offsetGridLines&&(e-=r/2),e<=0?0:Math.round(e/r)},getBasePixel:function(){return this.bottom}});e.scaleService.registerScaleType("category",i,n)}},{}],45:[function(e,t,n){"use strict";t.exports=function(e){var t=e.helpers,n={position:"left",ticks:{callback:e.Ticks.formatters.linear}},i=e.LinearScaleBase.extend({determineDataLimits:function(){function e(e){return a?e.xAxisID===n.id:e.yAxisID===n.id}var n=this,i=n.options,r=n.chart,o=r.data.datasets,a=n.isHorizontal();n.min=null,n.max=null;var s=i.stacked;if(void 0===s&&t.each(o,function(t,n){if(!s){var i=r.getDatasetMeta(n);r.isDatasetVisible(n)&&e(i)&&void 0!==i.stack&&(s=!0)}}),i.stacked||s){var l={};t.each(o,function(o,a){var s=r.getDatasetMeta(a),u=[s.type,void 0===i.stacked&&void 0===s.stack?a:"",s.stack].join(".");void 0===l[u]&&(l[u]={positiveValues:[],negativeValues:[]});var c=l[u].positiveValues,d=l[u].negativeValues;r.isDatasetVisible(a)&&e(s)&&t.each(o.data,function(e,t){var r=+n.getRightValue(e);isNaN(r)||s.data[t].hidden||(c[t]=c[t]||0,d[t]=d[t]||0,i.relativePoints?c[t]=100:r<0?d[t]+=r:c[t]+=r)})}),t.each(l,function(e){var i=e.positiveValues.concat(e.negativeValues),r=t.min(i),o=t.max(i);n.min=null===n.min?r:Math.min(n.min,r),n.max=null===n.max?o:Math.max(n.max,o)})}else t.each(o,function(i,o){var a=r.getDatasetMeta(o);r.isDatasetVisible(o)&&e(a)&&t.each(i.data,function(e,t){var i=+n.getRightValue(e);isNaN(i)||a.data[t].hidden||(null===n.min?n.min=i:i<n.min&&(n.min=i),null===n.max?n.max=i:i>n.max&&(n.max=i))})});n.min=isFinite(n.min)?n.min:0,n.max=isFinite(n.max)?n.max:1,this.handleTickRangeOptions()},getTickLimit:function(){var n,i=this,r=i.options.ticks;if(i.isHorizontal())n=Math.min(r.maxTicksLimit?r.maxTicksLimit:11,Math.ceil(i.width/50));else{var o=t.getValueOrDefault(r.fontSize,e.defaults.global.defaultFontSize);n=Math.min(r.maxTicksLimit?r.maxTicksLimit:11,Math.ceil(i.height/(2*o)))}return n},handleDirectionalChanges:function(){this.isHorizontal()||this.ticks.reverse()},getLabelForIndex:function(e,t){return+this.getRightValue(this.chart.data.datasets[t].data[e])},getPixelForValue:function(e){var t,n=this,i=n.start,r=+n.getRightValue(e),o=n.end-i;return n.isHorizontal()?(t=n.left+n.width/o*(r-i),Math.round(t)):(t=n.bottom-n.height/o*(r-i),Math.round(t))},getValueForPixel:function(e){var t=this,n=t.isHorizontal(),i=n?t.width:t.height,r=(n?e-t.left:t.bottom-e)/i;return t.start+(t.end-t.start)*r},getPixelForTick:function(e){return this.getPixelForValue(this.ticksAsNumbers[e])}});e.scaleService.registerScaleType("linear",i,n)}},{}],46:[function(e,t,n){"use strict";t.exports=function(e){var t=e.helpers,n=t.noop;e.LinearScaleBase=e.Scale.extend({handleTickRangeOptions:function(){var e=this,n=e.options.ticks;if(n.beginAtZero){var i=t.sign(e.min),r=t.sign(e.max);i<0&&r<0?e.max=0:i>0&&r>0&&(e.min=0)}void 0!==n.min?e.min=n.min:void 0!==n.suggestedMin&&(null===e.min?e.min=n.suggestedMin:e.min=Math.min(e.min,n.suggestedMin)),void 0!==n.max?e.max=n.max:void 0!==n.suggestedMax&&(null===e.max?e.max=n.suggestedMax:e.max=Math.max(e.max,n.suggestedMax)),e.min===e.max&&(e.max++,n.beginAtZero||e.min--)},getTickLimit:n,handleDirectionalChanges:n,buildTicks:function(){var n=this,i=n.options.ticks,r=n.getTickLimit(),o={maxTicks:r=Math.max(2,r),min:i.min,max:i.max,stepSize:t.getValueOrDefault(i.fixedStepSize,i.stepSize)},a=n.ticks=e.Ticks.generators.linear(o,n);n.handleDirectionalChanges(),n.max=t.max(a),n.min=t.min(a),i.reverse?(a.reverse(),n.start=n.max,n.end=n.min):(n.start=n.min,n.end=n.max)},convertTicksToLabels:function(){var t=this;t.ticksAsNumbers=t.ticks.slice(),t.zeroLineIndex=t.ticks.indexOf(0),e.Scale.prototype.convertTicksToLabels.call(t)}})}},{}],47:[function(e,t,n){"use strict";t.exports=function(e){var t=e.helpers,n={position:"left",ticks:{callback:e.Ticks.formatters.logarithmic}},i=e.Scale.extend({determineDataLimits:function(){function e(e){return l?e.xAxisID===n.id:e.yAxisID===n.id}var n=this,i=n.options,r=i.ticks,o=n.chart,a=o.data.datasets,s=t.getValueOrDefault,l=n.isHorizontal();n.min=null,n.max=null,n.minNotZero=null;var u=i.stacked;if(void 0===u&&t.each(a,function(t,n){if(!u){var i=o.getDatasetMeta(n);o.isDatasetVisible(n)&&e(i)&&void 0!==i.stack&&(u=!0)}}),i.stacked||u){var c={};t.each(a,function(r,a){var s=o.getDatasetMeta(a),l=[s.type,void 0===i.stacked&&void 0===s.stack?a:"",s.stack].join(".");o.isDatasetVisible(a)&&e(s)&&(void 0===c[l]&&(c[l]=[]),t.each(r.data,function(e,t){var r=c[l],o=+n.getRightValue(e);isNaN(o)||s.data[t].hidden||(r[t]=r[t]||0,i.relativePoints?r[t]=100:r[t]+=o)}))}),t.each(c,function(e){var i=t.min(e),r=t.max(e);n.min=null===n.min?i:Math.min(n.min,i),n.max=null===n.max?r:Math.max(n.max,r)})}else t.each(a,function(i,r){var a=o.getDatasetMeta(r);o.isDatasetVisible(r)&&e(a)&&t.each(i.data,function(e,t){var i=+n.getRightValue(e);isNaN(i)||a.data[t].hidden||(null===n.min?n.min=i:i<n.min&&(n.min=i),null===n.max?n.max=i:i>n.max&&(n.max=i),0!==i&&(null===n.minNotZero||i<n.minNotZero)&&(n.minNotZero=i))})});n.min=s(r.min,n.min),n.max=s(r.max,n.max),n.min===n.max&&(0!==n.min&&null!==n.min?(n.min=Math.pow(10,Math.floor(t.log10(n.min))-1),n.max=Math.pow(10,Math.floor(t.log10(n.max))+1)):(n.min=1,n.max=10))},buildTicks:function(){var n=this,i=n.options.ticks,r={min:i.min,max:i.max},o=n.ticks=e.Ticks.generators.logarithmic(r,n);n.isHorizontal()||o.reverse(),n.max=t.max(o),n.min=t.min(o),i.reverse?(o.reverse(),n.start=n.max,n.end=n.min):(n.start=n.min,n.end=n.max)},convertTicksToLabels:function(){this.tickValues=this.ticks.slice(),e.Scale.prototype.convertTicksToLabels.call(this)},getLabelForIndex:function(e,t){return+this.getRightValue(this.chart.data.datasets[t].data[e])},getPixelForTick:function(e){return this.getPixelForValue(this.tickValues[e])},getPixelForValue:function(e){var n,i,r,o=this,a=o.start,s=+o.getRightValue(e),l=o.options.ticks;return o.isHorizontal()?(r=t.log10(o.end)-t.log10(a),0===s?i=o.left:(n=o.width,i=o.left+n/r*(t.log10(s)-t.log10(a)))):(n=o.height,0!==a||l.reverse?0===o.end&&l.reverse?(r=t.log10(o.start)-t.log10(o.minNotZero),i=s===o.end?o.top:s===o.minNotZero?o.top+.02*n:o.top+.02*n+.98*n/r*(t.log10(s)-t.log10(o.minNotZero))):0===s?i=l.reverse?o.top:o.bottom:(r=t.log10(o.end)-t.log10(a),n=o.height,i=o.bottom-n/r*(t.log10(s)-t.log10(a))):(r=t.log10(o.end)-t.log10(o.minNotZero),i=s===a?o.bottom:s===o.minNotZero?o.bottom-.02*n:o.bottom-.02*n-.98*n/r*(t.log10(s)-t.log10(o.minNotZero)))),i},getValueForPixel:function(e){var n,i,r=this,o=t.log10(r.end)-t.log10(r.start);return r.isHorizontal()?(i=r.width,n=r.start*Math.pow(10,(e-r.left)*o/i)):(i=r.height,n=Math.pow(10,(r.bottom-e)*o/i)/r.start),n}});e.scaleService.registerScaleType("logarithmic",i,n)}},{}],48:[function(e,t,n){"use strict";t.exports=function(e){function t(e){var t=e.options;return t.angleLines.display||t.pointLabels.display?e.chart.data.labels.length:0}function n(e){var t=e.options.pointLabels,n=h.getValueOrDefault(t.fontSize,p.defaultFontSize),i=h.getValueOrDefault(t.fontStyle,p.defaultFontStyle),r=h.getValueOrDefault(t.fontFamily,p.defaultFontFamily);return{size:n,style:i,family:r,font:h.fontString(n,i,r)}}function i(e,t,n){return h.isArray(n)?{w:h.longestText(e,e.font,n),h:n.length*t+1.5*(n.length-1)*t}:{w:e.measureText(n).width,h:t}}function r(e,t,n,i,r){return e===i||e===r?{start:t-n/2,end:t+n/2}:e<i||e>r?{start:t-n-5,end:t}:{start:t,end:t+n+5}}function o(e){var o,a,s,l=n(e),u=Math.min(e.height/2,e.width/2),c={r:e.width,l:0,t:e.height,b:0},d={};e.ctx.font=l.font,e._pointLabelSizes=[];var f=t(e);for(o=0;o<f;o++){s=e.getPointPosition(o,u),a=i(e.ctx,l.size,e.pointLabels[o]||""),e._pointLabelSizes[o]=a;var p=e.getIndexAngle(o),g=h.toDegrees(p)%360,v=r(g,s.x,a.w,0,180),m=r(g,s.y,a.h,90,270);v.start<c.l&&(c.l=v.start,d.l=p),v.end>c.r&&(c.r=v.end,d.r=p),m.start<c.t&&(c.t=m.start,d.t=p),m.end>c.b&&(c.b=m.end,d.b=p)}e.setReductions(u,c,d)}function a(e){var t=Math.min(e.height/2,e.width/2);e.drawingArea=Math.round(t),e.setCenterPoint(0,0,0,0)}function s(e){return 0===e||180===e?"center":e<180?"left":"right"}function l(e,t,n,i){if(h.isArray(t))for(var r=n.y,o=1.5*i,a=0;a<t.length;++a)e.fillText(t[a],n.x,r),r+=o;else e.fillText(t,n.x,n.y)}function u(e,t,n){90===e||270===e?n.y-=t.h/2:(e>270||e<90)&&(n.y-=t.h)}function c(e){var i=e.ctx,r=h.getValueOrDefault,o=e.options,a=o.angleLines,c=o.pointLabels;i.lineWidth=a.lineWidth,i.strokeStyle=a.color;var d=e.getDistanceFromCenterForValue(o.reverse?e.min:e.max),f=n(e);i.textBaseline="top";for(var g=t(e)-1;g>=0;g--){if(a.display){var v=e.getPointPosition(g,d);i.beginPath(),i.moveTo(e.xCenter,e.yCenter),i.lineTo(v.x,v.y),i.stroke(),i.closePath()}if(c.display){var m=e.getPointPosition(g,d+5),b=r(c.fontColor,p.defaultFontColor);i.font=f.font,i.fillStyle=b;var y=e.getIndexAngle(g),x=h.toDegrees(y);i.textAlign=s(x),u(x,e._pointLabelSizes[g],m),l(i,e.pointLabels[g]||"",m,f.size)}}}function d(e,n,i,r){var o=e.ctx;if(o.strokeStyle=h.getValueAtIndexOrDefault(n.color,r-1),o.lineWidth=h.getValueAtIndexOrDefault(n.lineWidth,r-1),e.options.gridLines.circular)o.beginPath(),o.arc(e.xCenter,e.yCenter,i,0,2*Math.PI),o.closePath(),o.stroke();else{var a=t(e);if(0===a)return;o.beginPath();var s=e.getPointPosition(0,i);o.moveTo(s.x,s.y);for(var l=1;l<a;l++)s=e.getPointPosition(l,i),o.lineTo(s.x,s.y);o.closePath(),o.stroke()}}function f(e){return h.isNumber(e)?e:0}var h=e.helpers,p=e.defaults.global,g={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1},gridLines:{circular:!1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2,callback:e.Ticks.formatters.linear},pointLabels:{display:!0,fontSize:10,callback:function(e){return e}}},v=e.LinearScaleBase.extend({setDimensions:function(){var e=this,t=e.options,n=t.ticks;e.width=e.maxWidth,e.height=e.maxHeight,e.xCenter=Math.round(e.width/2),e.yCenter=Math.round(e.height/2);var i=h.min([e.height,e.width]),r=h.getValueOrDefault(n.fontSize,p.defaultFontSize);e.drawingArea=t.display?i/2-(r/2+n.backdropPaddingY):i/2},determineDataLimits:function(){var e=this,t=e.chart,n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;h.each(t.data.datasets,function(r,o){if(t.isDatasetVisible(o)){var a=t.getDatasetMeta(o);h.each(r.data,function(t,r){var o=+e.getRightValue(t);isNaN(o)||a.data[r].hidden||(n=Math.min(o,n),i=Math.max(o,i))})}}),e.min=n===Number.POSITIVE_INFINITY?0:n,e.max=i===Number.NEGATIVE_INFINITY?0:i,e.handleTickRangeOptions()},getTickLimit:function(){var e=this.options.ticks,t=h.getValueOrDefault(e.fontSize,p.defaultFontSize);return Math.min(e.maxTicksLimit?e.maxTicksLimit:11,Math.ceil(this.drawingArea/(1.5*t)))},convertTicksToLabels:function(){var t=this;e.LinearScaleBase.prototype.convertTicksToLabels.call(t),t.pointLabels=t.chart.data.labels.map(t.options.pointLabels.callback,t)},getLabelForIndex:function(e,t){return+this.getRightValue(this.chart.data.datasets[t].data[e])},fit:function(){this.options.pointLabels.display?o(this):a(this)},setReductions:function(e,t,n){var i=this,r=t.l/Math.sin(n.l),o=Math.max(t.r-i.width,0)/Math.sin(n.r),a=-t.t/Math.cos(n.t),s=-Math.max(t.b-i.height,0)/Math.cos(n.b);r=f(r),o=f(o),a=f(a),s=f(s),i.drawingArea=Math.min(Math.round(e-(r+o)/2),Math.round(e-(a+s)/2)),i.setCenterPoint(r,o,a,s)},setCenterPoint:function(e,t,n,i){var r=this,o=r.width-t-r.drawingArea,a=e+r.drawingArea,s=n+r.drawingArea,l=r.height-i-r.drawingArea;r.xCenter=Math.round((a+o)/2+r.left),r.yCenter=Math.round((s+l)/2+r.top)},getIndexAngle:function(e){return e*(2*Math.PI/t(this))+(this.chart.options&&this.chart.options.startAngle?this.chart.options.startAngle:0)*Math.PI*2/360},getDistanceFromCenterForValue:function(e){var t=this;if(null===e)return 0;var n=t.drawingArea/(t.max-t.min);return t.options.reverse?(t.max-e)*n:(e-t.min)*n},getPointPosition:function(e,t){var n=this,i=n.getIndexAngle(e)-Math.PI/2;return{x:Math.round(Math.cos(i)*t)+n.xCenter,y:Math.round(Math.sin(i)*t)+n.yCenter}},getPointPositionForValue:function(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))},getBasePosition:function(){var e=this,t=e.min,n=e.max;return e.getPointPositionForValue(0,e.beginAtZero?0:t<0&&n<0?n:t>0&&n>0?t:0)},draw:function(){var e=this,t=e.options,n=t.gridLines,i=t.ticks,r=h.getValueOrDefault;if(t.display){var o=e.ctx,a=r(i.fontSize,p.defaultFontSize),s=r(i.fontStyle,p.defaultFontStyle),l=r(i.fontFamily,p.defaultFontFamily),u=h.fontString(a,s,l);h.each(e.ticks,function(s,l){if(l>0||t.reverse){var c=e.getDistanceFromCenterForValue(e.ticksAsNumbers[l]),f=e.yCenter-c;if(n.display&&0!==l&&d(e,n,c,l),i.display){var h=r(i.fontColor,p.defaultFontColor);if(o.font=u,i.showLabelBackdrop){var g=o.measureText(s).width;o.fillStyle=i.backdropColor,o.fillRect(e.xCenter-g/2-i.backdropPaddingX,f-a/2-i.backdropPaddingY,g+2*i.backdropPaddingX,a+2*i.backdropPaddingY)}o.textAlign="center",o.textBaseline="middle",o.fillStyle=h,o.fillText(s,e.xCenter,f)}}}),(t.angleLines.display||t.pointLabels.display)&&c(e)}}});e.scaleService.registerScaleType("radialLinear",v,g)}},{}],49:[function(e,t,n){"use strict";var i=e(1);i="function"==typeof i?i:window.moment,t.exports=function(e){function t(e,t){var n=e.options.time;if("string"==typeof n.parser)return i(t,n.parser);if("function"==typeof n.parser)return n.parser(t);if("function"==typeof t.getMonth||"number"==typeof t)return i(t);if(t.isValid&&t.isValid())return t;var r=n.format;return"string"!=typeof r&&r.call?(console.warn("options.time.format is deprecated and replaced by options.time.parser."),r(t)):i(t,r)}function n(e,t,n,i){for(var r,o=Object.keys(s),a=o.length,l=o.indexOf(e);l<a;l++){r=o[l];var u=s[r],c=u.steps&&u.steps[u.steps.length-1]||u.maxStep;if(void 0===c||Math.ceil((n-t)/(c*u.size))<=i)break}return r}function r(e,t,n,i){var r=s[n],o=r.size,a=Math.ceil((t-e)/o),l=1,u=t-e;if(r.steps)for(var c=r.steps.length,d=0;d<c&&a>i;d++)l=r.steps[d],a=Math.ceil(u/(o*l));else for(;a>i&&i>0;)++l,a=Math.ceil(u/(o*l));return l}function o(e,t,n){var r=[];if(e.maxTicks){var o=e.stepSize;r.push(void 0!==e.min?e.min:n.min);for(var a=i(n.min);a.add(o,e.unit).valueOf()<n.max;)r.push(a.valueOf());var s=e.max||n.max;r[r.length-1]!==s&&r.push(s)}return r}var a=e.helpers,s={millisecond:{size:1,steps:[1,2,5,10,20,50,100,250,500]},second:{size:1e3,steps:[1,2,5,10,30]},minute:{size:6e4,steps:[1,2,5,10,30]},hour:{size:36e5,steps:[1,2,3,6,12]},day:{size:864e5,steps:[1,2,5]},week:{size:6048e5,maxStep:4},month:{size:2628e6,maxStep:3},quarter:{size:7884e6,maxStep:4},year:{size:3154e7,maxStep:!1}},l={position:"bottom",time:{parser:!1,format:!1,unit:!1,round:!1,displayFormat:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm:ss a",hour:"MMM D, hA",day:"ll",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"}},ticks:{autoSkip:!1}};e.Ticks.generators.time=function(e,t){var n,r,a=e.isoWeekday;return"week"===e.unit&&!1!==a?(n=i(t.min).startOf("isoWeek").isoWeekday(a).valueOf(),r=i(t.max).startOf("isoWeek").isoWeekday(a),t.max-r>0&&r.add(1,"week"),r=r.valueOf()):(n=i(t.min).startOf(e.unit).valueOf(),r=i(t.max).startOf(e.unit),t.max-r>0&&r.add(1,e.unit),r=r.valueOf()),o(e,0,{min:n,max:r})};var u=e.Scale.extend({initialize:function(){if(!i)throw new Error("Chart.js - Moment.js could not be found! You must include it before Chart.js to use the time scale. Download at https://momentjs.com");e.Scale.prototype.initialize.call(this)},determineDataLimits:function(){var e,n=this,i=n.options.time,r=Number.MAX_SAFE_INTEGER,o=Number.MIN_SAFE_INTEGER,s=n.chart.data,l={labels:[],datasets:[]};a.each(s.labels,function(a,s){var u=t(n,a);u.isValid()&&(i.round&&u.startOf(i.round),e=u.valueOf(),r=Math.min(e,r),o=Math.max(e,o),l.labels[s]=e)}),a.each(s.datasets,function(s,u){var c=[];"object"==typeof s.data[0]&&null!==s.data[0]&&n.chart.isDatasetVisible(u)?a.each(s.data,function(a,s){var l=t(n,n.getRightValue(a));l.isValid()&&(i.round&&l.startOf(i.round),e=l.valueOf(),r=Math.min(e,r),o=Math.max(e,o),c[s]=e)}):c=l.labels.slice(),l.datasets[u]=c}),n.dataMin=r,n.dataMax=o,n._parsedData=l},buildTicks:function(){var i,o,s=this,l=s.options.time,u=s.dataMin,c=s.dataMax;if(l.min){var d=t(s,l.min);l.round&&d.round(l.round),i=d.valueOf()}l.max&&(o=t(s,l.max).valueOf());var f=s.getLabelCapacity(i||u),h=l.unit||n(l.minUnit,i||u,o||c,f);s.displayFormat=l.displayFormats[h];var p=l.stepSize||r(i||u,o||c,h,f);s.ticks=e.Ticks.generators.time({maxTicks:f,min:i,max:o,stepSize:p,unit:h,isoWeekday:l.isoWeekday},{min:u,max:c}),s.max=a.max(s.ticks),s.min=a.min(s.ticks)},getLabelForIndex:function(e,n){var i=this,r=i.chart.data.labels&&e<i.chart.data.labels.length?i.chart.data.labels[e]:"",o=i.chart.data.datasets[n].data[e];return null!==o&&"object"==typeof o&&(r=i.getRightValue(o)),i.options.time.tooltipFormat&&(r=t(i,r).format(i.options.time.tooltipFormat)),r},tickFormatFunction:function(e,t,n){var i=e.format(this.displayFormat),r=this.options.ticks,o=a.getValueOrDefault(r.callback,r.userCallback);return o?o(i,t,n):i},convertTicksToLabels:function(){var e=this;e.ticksAsTimestamps=e.ticks,e.ticks=e.ticks.map(function(e){return i(e)}).map(e.tickFormatFunction,e)},getPixelForOffset:function(e){var t=this,n=t.max-t.min,i=n?(e-t.min)/n:0;if(t.isHorizontal()){var r=t.width*i;return t.left+Math.round(r)}var o=t.height*i;return t.top+Math.round(o)},getPixelForValue:function(e,n,i){var r=this,o=null;if(void 0!==n&&void 0!==i&&(o=r._parsedData.datasets[i][n]),null===o&&(e&&e.isValid||(e=t(r,r.getRightValue(e))),e&&e.isValid&&e.isValid()&&(o=e.valueOf())),null!==o)return r.getPixelForOffset(o)},getPixelForTick:function(e){return this.getPixelForOffset(this.ticksAsTimestamps[e])},getValueForPixel:function(e){var t=this,n=t.isHorizontal()?t.width:t.height,r=(e-(t.isHorizontal()?t.left:t.top))/n;return i(t.min+r*(t.max-t.min))},getLabelWidth:function(t){var n=this,i=n.options.ticks,r=n.ctx.measureText(t).width,o=Math.cos(a.toRadians(i.maxRotation)),s=Math.sin(a.toRadians(i.maxRotation));return r*o+a.getValueOrDefault(i.fontSize,e.defaults.global.defaultFontSize)*s},getLabelCapacity:function(e){var t=this;t.displayFormat=t.options.time.displayFormats.millisecond;var n=t.tickFormatFunction(i(e),0,[]),r=t.getLabelWidth(n);return(t.isHorizontal()?t.width:t.height)/r}});e.scaleService.registerScaleType("time",u,l)}},{1:1}]},{},[7])(7)}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("d3-geo"),require("d3-array")):"function"==typeof define&&define.amd?define(["exports","d3-geo","d3-array"],t):t(e.d3=e.d3||{},e.d3,e.d3)}(this,function(e,t,n){"use strict";function i(e){return e?e/Math.sin(e):1}function r(e){return e>1?Vt:e<-1?-Vt:Math.asin(e)}function o(e){return e>1?0:e<-1?Bt:Math.acos(e)}function a(e){return e>0?Math.sqrt(e):0}function s(e){return((e=Dt(2*e))-1)/(e+1)}function l(e){return(Dt(e)-Dt(-e))/2}function u(e){return(Dt(e)+Dt(-e))/2}function c(e){return Rt(e+a(e*e+1))}function d(e){return Rt(e+a(e*e-1))}function f(e){function t(e,t){var n=Pt(e),r=Pt(t),o=jt(t),a=r*n,s=-((1-a?Rt((1+a)/2)/(1-a):-.5)+i/(1+a));return[s*r*jt(e),s*o]}var n=zt(e/2),i=2*Rt(Pt(e/2))/(n*n);return t.invert=function(t,n){var o,s=a(t*t+n*n),l=-e/2,u=50;if(!s)return[0,0];do{var c=l/2,d=Pt(c),f=jt(c),h=zt(c),p=Rt(1/d);l-=o=(2/h*p-i*h-s)/(-p/(f*f)+1-i/(2*d*d))}while(Tt(o)>qt&&--u>0);var g=jt(l);return[At(t*g,s*Pt(l)),r(n*g/s)]},t}function h(e,t){var n=Pt(t),r=i(o(n*Pt(e/=2)));return[2*n*jt(e)*r,jt(t)*r]}function p(e){function t(e,t){var s=Pt(t),l=Pt(e/=2);return[(1+s)*jt(e),(r*t>-At(l,o)-.001?0:10*-r)+a+jt(t)*i-(1+s)*n*l]}var n=jt(e),i=Pt(e),r=e>=0?1:-1,o=zt(r*e),a=(1+n-i)/2;return t.invert=function(e,t){var s=0,l=0,u=50;do{var c=Pt(s),d=jt(s),f=Pt(l),h=jt(l),p=1+f,g=p*d-e,v=a+h*i-p*n*c-t,m=p*c/2,b=-d*h,y=n*p*d/2,x=i*f+n*c*h,w=b*y-x*m,C=(v*b-g*x)/w/2,S=(g*y-v*m)/w;s-=C,l-=S}while((Tt(C)>qt||Tt(S)>qt)&&--u>0);return r*l>-At(Pt(s),o)-.001?[2*s,l]:null},t}function g(e,t){var n=zt(t/2),i=a(1-n*n),r=1+i*Pt(e/=2),o=jt(e)*i/r,s=n/r,l=o*o,u=s*s;return[4/3*o*(3+l-3*u),4/3*s*(3+3*l-u)]}function v(e,t){var n=Tt(t);return n<Wt?[e,Rt(zt(Wt+t/2))]:[e*Pt(n)*(2*Gt-1/jt(n)),Ot(t)*(2*Gt*(n-Wt)-Rt(zt(n/2)))]}function m(e){function n(e,n){var o=t.geoAzimuthalEquidistantRaw(e,n);if(Tt(e)>Vt){var s=At(o[1],o[0]),l=a(o[0]*o[0]+o[1]*o[1]),u=i*Nt((s-Vt)/i)+Vt,c=At(jt(s-=u),2-Pt(s));s=u+r(Bt/l*jt(c))-c,o[0]=l*Pt(s),o[1]=l*jt(s)}return o}var i=2*Bt/e;return n.invert=function(e,n){var r=a(e*e+n*n);if(r>Vt){var s=At(n,e),l=i*Nt((s-Vt)/i)+Vt,u=s>l?-1:1,c=r*Pt(l-s),d=1/zt(u*o((c-Bt)/a(Bt*(Bt-2*c)+r*r)));s=l+2*Mt((d+u*a(d*d-3))/3),e=r*Pt(s),n=r*jt(s)}return t.geoAzimuthalEquidistantRaw.invert(e,n)},n}function b(e,t){var n,i=e*jt(t),r=30;do{t-=n=(t+jt(t)-i)/(1+Pt(t))}while(Tt(n)>qt&&--r>0);return t/2}function y(e,t,n){function i(i,r){return[e*i*Pt(r=b(n,r)),t*jt(r)]}return i.invert=function(i,o){return o=r(o/t),[i/(e*Pt(o)),r((2*o+jt(2*o))/n)]},i}function x(e,t){var n=b(Bt,t);return[en*e/(1/Pt(t)+tn/Pt(n)),(t+Gt*jt(n))/en]}function w(e,t){return[e*Pt(t),t]}function C(e){function t(t,i){var r=n+e-i,o=r?t*Pt(i)/r:r;return[r*jt(o),n-r*Pt(o)]}if(!e)return w;var n=1/zt(e);return t.invert=function(t,i){var r=a(t*t+(i=n-i)*i),o=n+e-r;return[r/Pt(o)*At(t,i),o]},t}function S(e){function t(t,n){var i=Vt-n,r=i?t*e*jt(i)/i:i;return[i*jt(r)/e,Vt-i*Pt(r)]}return t.invert=function(t,n){var i=t*e,r=Vt-n,o=a(i*i+r*r),s=At(i,r);return[(o?o/jt(o):1)*s/e,Vt-o]},t}function _(e,t,n,i,s,l){var u,c=Pt(l);if(Tt(e)>1||Tt(l)>1)u=o(n*s+t*i*c);else{var d=jt(e/2),f=jt(l/2);u=2*r(a(d*d+t*i*f*f))}return Tt(u)>qt?[u,At(i*jt(l),t*s-n*i*c)]:[0,0]}function k(e,t,n){return o((e*e+t*t-n*n)/(2*e*t))}function T(e){return e-2*Bt*Et((e+Bt)/(2*Bt))}function M(e,t,n){for(var i,r=[[e[0],e[1],jt(e[1]),Pt(e[1])],[t[0],t[1],jt(t[1]),Pt(t[1])],[n[0],n[1],jt(n[1]),Pt(n[1])]],o=r[2],a=0;a<3;++a,o=i)i=r[a],o.v=_(i[1]-o[1],o[3],o[2],i[3],i[2],i[0]-o[0]),o.point=[0,0];var s=k(r[0].v[0],r[2].v[0],r[1].v[0]),l=k(r[0].v[0],r[1].v[0],r[2].v[0]),u=Bt-s;r[2].point[1]=0,r[0].point[0]=-(r[1].point[0]=r[0].v[0]/2);var c=[r[2].point[0]=r[0].point[0]+r[2].v[0]*Pt(s),2*(r[0].point[1]=r[1].point[1]=r[2].v[0]*jt(s))];return function(e,t){var n,i=jt(t),o=Pt(t),a=new Array(3);for(n=0;n<3;++n){var s=r[n];if(a[n]=_(t-s[1],s[3],s[2],o,i,e-s[0]),!a[n][0])return s.point;a[n][1]=T(a[n][1]-s.v[1])}var d=c.slice();for(n=0;n<3;++n){var f=2==n?0:n+1,h=k(r[n].v[0],a[n][0],a[f][0]);a[n][1]<0&&(h=-h),n?1==n?(h=l-h,d[0]-=a[n][0]*Pt(h),d[1]-=a[n][0]*jt(h)):(h=u-h,d[0]+=a[n][0]*Pt(h),d[1]+=a[n][0]*jt(h)):(d[0]+=a[n][0]*Pt(h),d[1]-=a[n][0]*jt(h))}return d[0]/=3,d[1]/=3,d}}function A(e){return e[0]*=Jt,e[1]*=Jt,e}function P(e,n,i){var r=t.geoCentroid({type:"MultiPoint",coordinates:[e,n,i]}),o=[-r[0],-r[1]],a=t.geoRotation(o),s=t.geoProjection(M(A(a(e)),A(a(n)),A(a(i)))).rotate(o),l=s.center;return delete s.rotate,s.center=function(e){return arguments.length?l(a(e)):a.invert(l())},s.clipAngle(90)}function D(e,t){var n=a(1-jt(t));return[2/Yt*e*n,Yt*(1-n)]}function E(e){function t(e,t){return[e,(e?e/jt(e):1)*(jt(t)*Pt(e)-n*Pt(t))]}var n=zt(e);return t.invert=n?function(e,t){e&&(t*=jt(e)/e);var i=Pt(e);return[e,2*At(a(i*i+n*n-t*t)-i,n-t)]}:function(e,t){return[e,r(e?t*zt(e)/e:t)]},t}function R(e,t){return[on*e*(2*Pt(2*t/3)-1)/Yt,on*Yt*jt(t/3)]}function I(e){function t(e,t){return[e*n,jt(t)/n]}var n=Pt(e);return t.invert=function(e,t){return[e/n,r(t*n)]},t}function F(e){function t(e,t){return[e*n,(1+n)*zt(t/2)]}var n=Pt(e);return t.invert=function(e,t){return[e/n,2*Mt(t/(1+n))]},t}function L(e,t){var n=a(8/(3*Bt));return[n*e*(1-Tt(t)/Bt),n*t]}function N(e,t){var n=a(4-3*jt(Tt(t)));return[2/a(6*Bt)*e*n,Ot(t)*a(2*Bt/3)*(2-n)]}function O(e,t){var n=a(Bt*(4+Bt));return[2/n*e*(1+a(1-4*t*t/(Bt*Bt))),4/n*t]}function j(e,t){var n=(2+Vt)*jt(t);t/=2;for(var i=0,r=1/0;i<10&&Tt(r)>qt;i++){var o=Pt(t);t-=r=(t+jt(t)*(o+2)-n)/(2*o*(1+o))}return[2/a(Bt*(4+Bt))*e*(1+Pt(t)),2*a(Bt/(4+Bt))*jt(t)]}function z(e,t){return[e*(1+Pt(t))/a(2+Bt),2*t/a(2+Bt)]}function q(e,t){for(var n=(1+Vt)*jt(t),i=0,r=1/0;i<10&&Tt(r)>qt;i++)t-=r=(t+jt(t)-n)/(1+Pt(t));return n=a(2+Bt),[e*(1+Pt(t))/n,2*t/n]}function H(e,t){var n=jt(e/=2),i=Pt(e),r=a(Pt(t)),o=Pt(t/=2),s=jt(t)/(o+Gt*i*r),l=a(2/(1+s*s)),u=a((Gt*o+(i+n)*r)/(Gt*o+(i-n)*r));return[an*(l*(u-1/u)-2*Rt(u)),an*(l*s*(u+1/u)-2*Mt(s))]}function B(e,t){var n=zt(t/2);return[e*sn*a(1-n*n),(1+sn)*n]}function V(e,t){var n=t/2,i=Pt(n);return[2*e/Yt*Pt(t)*i*i,Yt*zt(n)]}function W(e){return[e[0]/2,r(zt(e[1]/2*Jt))*$t]}function U(e){return[2*e[0],2*Mt(jt(e[1]*Jt))*$t]}function G(e,n){function i(n,i){var s=t.geoAzimuthalEquidistantRaw(n,i),l=s[0],u=s[1],c=l*l+u*u;if(c>o){var d=a(c),f=At(u,l),h=r*Nt(f/r),p=f-h,g=e*Pt(p),v=(e*jt(p)-p*jt(g))/(Vt-g),m=Y(p,v),b=(Bt-e)/X(m,g,Bt);l=d;var y,x=50;do{l-=y=(e+X(m,g,l)*b-d)/(m(l)*b)}while(Tt(y)>qt&&--x>0);u=p*jt(l),l<Vt&&(u-=v*(l-Vt));var w=jt(h),C=Pt(h);s[0]=l*C-u*w,s[1]=l*w+u*C}return s}var r=2*Bt/n,o=e*e;return i.invert=function(n,i){var s=n*n+i*i;if(s>o){var l=a(s),u=At(i,n),c=r*Nt(u/r),d=u-c;n=l*Pt(d),i=l*jt(d);for(var f=n-Vt,h=jt(n),p=i/h,g=n<Vt?1/0:0,v=10;;){var m=e*jt(p),b=e*Pt(p),y=jt(b),x=Vt-b,w=(m-p*y)/x,C=Y(p,w);if(Tt(g)<Ht||!--v)break;p-=g=(p*h-w*f-i)/(h-2*f*(x*(b+p*m*Pt(b)-y)-m*(m-p*y))/(x*x))}n=(l=e+X(C,b,n)*(Bt-e)/X(C,b,Bt))*Pt(u=c+p),i=l*jt(u)}return t.geoAzimuthalEquidistantRaw.invert(n,i)},i}function Y(e,t){return function(n){var i=e*Pt(n);return n<Vt&&(i-=t),a(1+i*i)}}function X(e,t,n){for(var i=(n-t)/50,r=e(t)+e(n),o=1,a=t;o<50;++o)r+=2*e(a+=i);return.5*r*i}function $(e,t){var n=e*e,i=t*t;return[e*(1-.162388*i)*(.87-952426e-9*n*n),t*(1+i/12)]}function J(e,t){var n=Ot(e),i=Ot(t),o=Pt(t),a=Pt(e)*o,s=jt(e)*o,l=jt(i*t);e=Tt(At(s,l)),t=r(a),Tt(e-Vt)>qt&&(e%=Vt);var u=Q(e>Bt/4?Vt-e:e,t);return e>Bt/4&&(l=u[0],u[0]=-u[1],u[1]=-l),u[0]*=n,u[1]*=-i,u}function Q(e,t){if(t===Vt)return[0,0];var n,i,o=jt(t),s=o*o,l=s*s,u=1+l,c=1+3*l,d=1-l,f=r(1/a(u)),h=d+s*u*f,p=(1-o)/h,g=a(p),v=p*u,m=a(v),b=g*d;if(0===e)return[0,-(b+s*m)];var y,x=Pt(t),w=1/x,C=2*o*x,S=(-h*x-(-3*s+f*c)*C*(1-o))/(h*h),_=-w*C,k=-w*(s*u*S+p*c*C),T=-2*w*(d*(.5*S/g)-2*s*g*C),M=4*e/Bt;if(e>.222*Bt||t<Bt/4&&e>.175*Bt){if(n=(b+s*a(v*(1+l)-b*b))/(1+l),e>Bt/4)return[n,n];var A=n,P=.5*n;n=.5*(P+A),i=50;do{var D=n*(T+_*a(v-n*n))+k*r(n/m)-M;if(!D)break;D<0?P=n:A=n,n=.5*(P+A)}while(Tt(A-P)>qt&&--i>0)}else{n=qt,i=25;do{var E=n*n,R=a(v-E),I=T+_*R,F=n*I+k*r(n/m)-M,L=I+(k-_*E)/R;n-=y=R?F/L:0}while(Tt(y)>qt&&--i>0)}return[n,-b-s*a(v-n*n)]}function Z(e,t){for(var n=0,i=1,o=.5,s=50;;){var l=o*o,u=a(o),c=r(1/a(1+l)),d=1-l+o*(1+l)*c,f=(1-u)/d,h=a(f),p=f*(1+l),g=h*(1-l),v=a(p-e*e),m=t+g+o*v;if(Tt(i-n)<Ht||0==--s||0===m)break;m>0?n=o:i=o,o=.5*(n+i)}if(!s)return null;var b=r(u),y=Pt(b),x=1/y,w=2*u*y,C=(-d*y-(-3*o+c*(1+3*l))*w*(1-u))/(d*d);return[Bt/4*(e*(-2*x*(.5*C/h*(1-l)-2*o*h*w)+-x*w*v)+-x*(o*(1+l)*C+f*(1+3*l)*w)*r(e/a(p))),b]}function K(e,t,n){var i,r,o;return e?(i=ee(e,n),t?(r=ee(t,1-n),o=r[1]*r[1]+n*i[0]*i[0]*r[0]*r[0],[[i[0]*r[2]/o,i[1]*i[2]*r[0]*r[1]/o],[i[1]*r[1]/o,-i[0]*i[2]*r[0]*r[2]/o],[i[2]*r[1]*r[2]/o,-n*i[0]*i[1]*r[0]/o]]):[[i[0],0],[i[1],0],[i[2],0]]):(r=ee(t,1-n),[[0,r[0]/r[1]],[1/r[1],0],[r[2]/r[1],0]])}function ee(e,t){var n,i,o,c,d;if(t<qt)return c=jt(e),i=Pt(e),n=t*(e-c*i)/4,[c-n*i,i+n*c,1-t*c*c/2,e-n];if(t>=1-qt)return n=(1-t)/4,i=u(e),c=s(e),o=1/i,d=i*l(e),[c+n*(d-e)/(i*i),o-n*c*o*(d-e),o+n*c*o*(d+e),2*Mt(Dt(e))-Vt+n*(d-e)/i];var f=[1,0,0,0,0,0,0,0,0],h=[a(t),0,0,0,0,0,0,0,0],p=0;for(i=a(1-t),d=1;Tt(h[p]/f[p])>qt&&p<8;)n=f[p++],h[p]=(n-i)/2,f[p]=(n+i)/2,i=a(n*i),d*=2;o=d*f[p]*e;do{o=(r(c=h[p]*jt(i=o)/f[p])+o)/2}while(--p);return[jt(o),c=Pt(o),c/Pt(o-i),o]}function te(e,t,n){var i=Tt(e),r=l(Tt(t));if(i){var o=1/jt(i),s=1/(zt(i)*zt(i)),u=-(s+n*(r*r*o*o)-1+n),c=(-u+a(u*u-(n-1)*s*4))/2;return[ne(Mt(1/a(c)),n)*Ot(e),ne(Mt(a((c/s-1)/n)),1-n)*Ot(t)]}return[0,ne(Mt(r),1-n)*Ot(t)]}function ne(e,t){if(!t)return e;if(1===t)return Rt(zt(e/2+Wt));for(var n=1,i=a(1-t),r=a(t),o=0;Tt(r)>qt;o++){if(e%Bt){var s=Mt(i*zt(e)/n);s<0&&(s+=Bt),e+=s+~~(e/Bt)*Bt}else e+=e;r=(n+i)/2,i=a(n*i),r=((n=r)-i)/2}return e/(Lt(2,o)*n)}function ie(e,t){var n=(Gt-1)/(Gt+1),i=a(1-n*n),r=ne(Vt,i*i),o=Rt(zt(Bt/4+Tt(t)/2)),s=Dt(-1*o)/a(n),l=re(s*Pt(-1*e),s*jt(-1*e)),u=te(l[0],l[1],i*i);return[-u[1],(t>=0?1:-1)*(.5*r-u[0])]}function re(e,t){var n=e*e,i=t+1,r=1-n-t*t;return[.5*((e>=0?Vt:-Vt)-At(r,2*e)),-.25*Rt(r*r+4*n)+.5*Rt(i*i+n)]}function oe(e,t){var n=t[0]*t[0]+t[1]*t[1];return[(e[0]*t[0]+e[1]*t[1])/n,(e[1]*t[0]-e[0]*t[1])/n]}function ae(e,n){function i(i,r){var o=t.geoAzimuthalEqualAreaRaw(i/n,r);return o[0]*=e,o}return arguments.length<2&&(n=e),1===n?t.geoAzimuthalEqualAreaRaw:n===1/0?se:(i.invert=function(i,r){var o=t.geoAzimuthalEqualAreaRaw.invert(i/e,r);return o[0]*=n,o},i)}function se(e,t){return[e*Pt(t)/Pt(t/=2),2*jt(t)]}function le(e){function t(e,t){var a=r(e,t);e=a[0],t=a[1];var s=jt(t),l=Pt(t),u=Pt(e),c=o(n*s+i*l*u),d=jt(c),f=Tt(d)>qt?c/d:1;return[f*i*jt(e),(Tt(e)>Vt?f:-f)*(n*l-i*s*u)]}var n=jt(e),i=Pt(e),r=ue(e);return r.invert=ue(-e),t.invert=function(e,t){var i=a(e*e+t*t),o=-jt(i),s=Pt(i),l=i*s,u=-t*o,c=i*n,d=a(l*l+u*u-c*c),f=At(l*c+u*d,u*c-l*d),h=(i>Vt?-1:1)*At(e*o,i*Pt(f)*s+t*jt(f)*o);return r.invert(h,f)},t}function ue(e){var t=jt(e),n=Pt(e);return function(e,i){var o=Pt(i),a=Pt(e)*o,s=jt(e)*o,l=jt(i);return[At(s,a*n-l*t),r(l*n+a*t)]}}function ce(e){function t(t,c){var d,f=Tt(c);if(f>n){var h=Ft(e-1,It(0,Et((t+Bt)/s)));(d=D(t+=Bt*(e-1)/e-h*s,f))[0]=d[0]*Xt/i-Xt*(e-1)/(2*e)+h*Xt/e,d[1]=r+4*(d[1]-o)*a/Xt,c<0&&(d[1]=-d[1])}else d=gn(t,c);return d[0]*=l,d[1]/=u,d}var n=pn*Jt,i=D(Bt,n)[0]-D(-Bt,n)[0],r=gn(0,n)[1],o=D(0,n)[1],a=Yt-o,s=Xt/e,l=4/Xt,u=r+a*a*4/Xt;return t.invert=function(t,n){t/=l;var c=Tt(n*=u);if(c>r){var d=Ft(e-1,It(0,Et((t+Bt)/s)));t=(t+Bt*(e-1)/e-d*s)*i/Xt;var f=D.invert(t,.25*(c-r)*Xt/a+o);return f[0]-=Bt*(e-1)/e-d*s,n<0&&(f[1]=-f[1]),f}return gn.invert(t,n)},t}function de(e){return{type:"Polygon",coordinates:[n.range(-180,180+e/2,e).map(function(e,t){return[e,1&t?90-1e-6:pn]}).concat(n.range(180,-180-e/2,-e).map(function(e,t){return[e,1&t?1e-6-90:-pn]}))]}}function fe(e){function t(t,r){var o,f,h=1-jt(r);if(h&&h<2){var p,g=Vt-r,v=25;do{var m=jt(g),b=Pt(g),y=s+At(m,i-b),x=1+d-2*i*b;g-=p=(g-c*s-i*m+x*y-.5*h*n)/(2*i*m*y)}while(Tt(p)>Ht&&--v>0);o=l*a(x),f=t*y/Bt}else o=l*(e+h),f=t*s/Bt;return[o*jt(f),u-o*Pt(f)]}var n,i=1+e,s=r(jt(1/i)),l=2*a(Bt/(n=Bt+4*s*i)),u=.5*l*(i+a(e*(2+e))),c=e*e,d=i*i;return t.invert=function(e,t){var f=e*e+(t-=u)*t,h=(1+d-f/(l*l))/(2*i),p=o(h),g=jt(p),v=s+At(g,i-h);return[r(e/a(f))*Bt/v,r(1-2*(p-c*s-i*g+(1+d-2*i*h)*v)/n)]},t}function he(e,t){return t>-vn?(e=Kt(e,t),e[1]+=mn,e):w(e,t)}function pe(e,t){return Tt(t)>vn?(e=Kt(e,t),e[1]-=t>0?mn:-mn,e):w(e,t)}function ge(e,t){return Tt(e[0]-t[0])<qt&&Tt(e[1]-t[1])<qt}function ve(e,t){for(var n,i,r,o=-1,a=e.length,s=e[0],l=[];++o<a;){i=((n=e[o])[0]-s[0])/t,r=(n[1]-s[1])/t;for(var u=0;u<t;++u)l.push([s[0]+u*i,s[1]+u*r]);s=n}return l.push(n),l}function me(e){var t,i,r,o,a,s,l,u=[],c=e[0].length;for(l=0;l<c;++l)i=(t=e[0][l])[0][0],r=t[0][1],o=t[1][1],a=t[2][0],s=t[2][1],u.push(ve([[i+qt,r+qt],[i+qt,o-qt],[a-qt,o-qt],[a-qt,s+qt]],30));for(l=e[1].length-1;l>=0;--l)i=(t=e[1][l])[0][0],r=t[0][1],o=t[1][1],a=t[2][0],s=t[2][1],u.push(ve([[a-qt,s-qt],[a-qt,o+qt],[i+qt,o+qt],[i+qt,r-qt]],30));return{type:"Polygon",coordinates:[n.merge(u)]}}function be(e,t){return[3/Xt*e*a(Bt*Bt/3-t*t),t]}function ye(e){function t(t,n){if(Tt(Tt(n)-Vt)<qt)return[0,n<0?-2:2];var i=jt(n),r=Lt((1+i)/(1-i),e/2),o=.5*(r+1/r)+Pt(t*=e);return[2*jt(t)/o,(r-1/r)/o]}return t.invert=function(t,n){var i=Tt(n);if(Tt(i-2)<qt)return t?null:[0,Ot(n)*Vt];if(i>2)return null;var o=(t/=2)*t,a=(n/=2)*n,s=2*n/(1+o+a);return s=Lt((1+s)/(1-s),1/e),[At(2*t,1-o-a)/e,r((s-1)/(s+1))]},t}function xe(e,t){return[e*(1+a(Pt(t)))/2,t/(Pt(t/2)*Pt(e/6))]}function we(e,t){var n=e*e,i=t*t;return[e*(.975534+i*(-.0143059*n-.119161+-.0547009*i)),t*(1.00384+n*(.0802894+-.02855*i+199025e-9*n)+i*(.0998909+-.0491032*i))]}function Ce(e,t){return[jt(e)/Pt(t),zt(t)*Pt(e)]}function Se(e){function t(t,r){var o=r-e,a=Tt(o)<qt?t*n:Tt(a=Wt+r/2)<qt||Tt(Tt(a)-Vt)<qt?0:t*o/Rt(zt(a)/i);return[a,o]}var n=Pt(e),i=zt(Wt+e/2);return t.invert=function(t,r){var o,a=r+e;return[Tt(r)<qt?t/n:Tt(o=Wt+a/2)<qt||Tt(Tt(o)-Vt)<qt?0:t*Rt(zt(o)/i)/r,a]},t}function _e(e,t){return[e,1.25*Rt(zt(Wt+.4*t))]}function ke(e){function t(t,i){for(var r,o=Pt(i),a=2/(1+o*Pt(t)),s=a*o*jt(t),l=a*jt(i),u=n,c=e[u],d=c[0],f=c[1];--u>=0;)d=(c=e[u])[0]+s*(r=d)-l*f,f=c[1]+s*f+l*r;return d=s*(r=d)-l*f,f=s*f+l*r,[d,f]}var n=e.length-1;return t.invert=function(t,i){var o=20,s=t,l=i;do{for(var u,c=n,d=e[c],f=d[0],h=d[1],p=0,g=0;--c>=0;)p=f+s*(u=p)-l*g,g=h+s*g+l*u,f=(d=e[c])[0]+s*(u=f)-l*h,h=d[1]+s*h+l*u;var v,m,b=(p=f+s*(u=p)-l*g)*p+(g=h+s*g+l*u)*g;s-=v=((f=s*(u=f)-l*h-t)*p+(h=s*h+l*u-i)*g)/b,l-=m=(h*p-f*g)/b}while(Tt(v)+Tt(m)>qt*qt&&--o>0);if(o){var y=a(s*s+l*l),x=2*Mt(.5*y),w=jt(x);return[At(s*w,y*Pt(x)),y?r(l*w/y):0]}},t}function Te(e,n){var i=t.geoProjection(ke(e)).rotate(n).clipAngle(90),r=t.geoRotation(n),o=i.center;return delete i.rotate,i.center=function(e){return arguments.length?o(r(e)):r.invert(o())},i}function Me(e,t){var n=r(7*jt(t)/(3*En));return[En*e*(2*Pt(2*n/3)-1)/Rn,9*jt(n/3)/Rn]}function Ae(e,t){for(var n,i=(1+Ut)*jt(t),r=t,o=0;o<25&&(r-=n=(jt(r/2)+jt(r)-i)/(.5*Pt(r/2)+Pt(r)),!(Tt(n)<qt));o++);return[e*(1+2*Pt(r)/Pt(r/2))/(3*Gt),2*a(3)*jt(r/2)/a(2+Gt)]}function Pe(e,t){for(var n,i=a(6/(4+Bt)),r=(1+Bt/4)*jt(t),o=t/2,s=0;s<25&&(o-=n=(o/2+jt(o)-r)/(.5+Pt(o)),!(Tt(n)<qt));s++);return[i*(.5+Pt(o))*e/1.5,i*o]}function De(e,t){var n=t*t,i=n*n;return[e*(.8707-.131979*n+i*(i*(.003971*n-.001529*i)-.013791)),t*(1.007226+n*(.015085+i*(.028874*n-.044475-.005916*i)))]}function Ee(e,t){var n=t*t,i=n*n,r=n*i;return[e*(.84719-.13063*n+r*r*(.05494*n-.04515-.02326*i+.00331*r)),t*(1.01183+i*i*(.01926*n-.02625-.00396*i))]}function Re(e,t){return[e*(1+Pt(t))/2,2*(t-zt(t/2))]}function Ie(e,t){var n=t*t;return[e,t*(In+n*n*(Fn+n*(Ln+Nn*n)))]}function Fe(e,t){if(Tt(t)<qt)return[e,0];var n=zt(t),i=e*jt(t);return[jt(i)/n,t+(1-Pt(i))/n]}function Le(e){var t=1/(e[0]*e[4]-e[1]*e[3]);return[t*e[4],-t*e[1],t*(e[1]*e[5]-e[2]*e[4]),-t*e[3],t*e[0],t*(e[2]*e[3]-e[0]*e[5])]}function Ne(e,t){return[e[0]*t[0]+e[1]*t[3],e[0]*t[1]+e[1]*t[4],e[0]*t[2]+e[1]*t[5]+e[2],e[3]*t[0]+e[4]*t[3],e[3]*t[1]+e[4]*t[4],e[3]*t[2]+e[4]*t[5]+e[5]]}function Oe(e,t){return[e[0]-t[0],e[1]-t[1]]}function je(e){return a(e[0]*e[0]+e[1]*e[1])}function ze(e,t){return At(e[0]*t[1]-e[1]*t[0],e[0]*t[0]+e[1]*t[1])}function qe(e,n,i){var r,o,a=n.edges,s=a.length,l={type:"MultiPoint",coordinates:n.face},u=n.face.filter(function(e){return 90!==Tt(e[1])}),c=t.geoBounds({type:"MultiPoint",coordinates:u}),d=!1,f=-1,h=c[1][0]-c[0][0],p=180===h||360===h?[(c[0][0]+c[1][0])/2,(c[0][1]+c[1][1])/2]:t.geoCentroid(l);if(i)for(;++f<s&&a[f]!==i;);++f;for(var g=0;g<s;++g)o=a[(g+f)%s],Array.isArray(o)?(d||(e.point((r=t.geoInterpolate(o[0],p)(qt))[0],r[1]),d=!0),e.point((r=t.geoInterpolate(o[1],p)(qt))[0],r[1])):(d=!1,o!==i&&qe(e,o,n))}function He(e,t){return e&&t&&e[0]===t[0]&&e[1]===t[1]}function Be(e,t){for(var n,i,r=e.length,o=null,a=0;a<r;++a){n=e[a];for(var s=t.length;--s>=0;)if(i=t[s],n[0]===i[0]&&n[1]===i[1]){if(o)return[o,n];o=n}}}function Ve(e){for(var t=e.length,n=[],i=e[t-1],r=0;r<t;++r)n.push([i,i=e[r]]);return n}function We(e){return e.project.invert||e.children&&e.children.some(We)}function Ue(e,t){var n=D(e,t);return[n[0]*Un,n[1]]}function Ge(e,t){for(var n=0,i=e.length,r=0;n<i;++n)r+=e[n]*t[n];return r}function Ye(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function Xe(e){return[At(e[1],e[0])*$t,r(It(-1,Ft(1,e[2])))*$t]}function $e(e){var t=e[0]*Jt,n=e[1]*Jt,i=Pt(n);return[i*Pt(t),i*jt(t),jt(n)]}function Je(e,t){return{type:"FeatureCollection",features:e.features.map(function(e){return Qe(e,t)})}}function Qe(e,t){return{type:"Feature",id:e.id,properties:e.properties,geometry:Ke(e.geometry,t)}}function Ze(e,t){return{type:"GeometryCollection",geometries:e.geometries.map(function(e){return Ke(e,t)})}}function Ke(e,n){if(!e)return null;if("GeometryCollection"===e.type)return Ze(e,n);var i;switch(e.type){case"Point":case"MultiPoint":i=Qn;break;case"LineString":case"MultiLineString":i=Zn;break;case"Polygon":case"MultiPolygon":case"Sphere":i=Kn;break;default:return null}return t.geoStream(e,n(i)),i.result()}function et(e){function t(t,i){var r=n?zt(t*n/2)/n:t/2;if(!i)return[2*r,-e];var o=2*Mt(r*jt(i)),a=1/zt(i);return[jt(o)*a,i+(1-Pt(o))*a-e]}var n=jt(e);return t.invert=function(t,i){if(Tt(i+=e)<qt)return[n?2*Mt(n*t/2)/n:t,0];var a,s=t*t+i*i,l=0,u=10;do{var c=zt(l),d=1/Pt(l),f=s-2*i*l+l*l;l-=a=(c*f+2*(l-i))/(2+f*d*d+2*(l-i)*c)}while(Tt(a)>qt&&--u>0);var h=t*(c=zt(l)),p=zt(Tt(i)<Tt(l+1/c)?.5*r(h):.5*o(h)+Bt/4)/jt(l);return[n?2*Mt(n*p)/n:2*p,l]},t}function tt(e,t){var n,i=Ft(18,36*Tt(t)/Bt),r=Et(i),o=i-r,a=(n=ni[r])[0],s=n[1],l=(n=ni[++r])[0],u=n[1],c=(n=ni[Ft(19,++r)])[0],d=n[1];return[e*(l+o*(c-a)/2+o*o*(c-2*l+a)/2),(t>0?Vt:-Vt)*(u+o*(d-s)/2+o*o*(d-2*u+s)/2)]}function nt(e){function t(t,n){var i=Pt(n),r=(e-1)/(e-i*Pt(t));return[r*i*jt(t),r*jt(n)]}return t.invert=function(t,n){var i=t*t+n*n,o=a(i),s=(e-a(1-i*(e+1)/(e-1)))/((e-1)/o+o/(e-1));return[At(t*s,o*a(1-s*s)),o?r(n*s/o):0]},t}function it(e,t){function n(t,n){var a=i(t,n),s=a[1],l=s*o/(e-1)+r;return[a[0]*r/l,s/l]}var i=nt(e);if(!t)return i;var r=Pt(t),o=jt(t);return n.invert=function(t,n){var a=(e-1)/(e-1-n*o);return i.invert(a*t,a*n*r)},n}function rt(e){return e.length>0}function ot(e){return Math.floor(e*ii)/ii}function at(e){return e===li||e===ci?[0,e]:[ri,ot(e)]}function st(e){var t=e[0],n=e[1],i=!1;return t<=oi?(t=ri,i=!0):t>=si&&(t=ai,i=!0),n<=ui?(n=li,i=!0):n>=di&&(n=ci,i=!0),i?[t,n]:e}function lt(e){return e.map(st)}function ut(e,t,n){for(var i=0,r=e.length;i<r;++i){var o=e[i].slice();n.push({index:-1,polygon:t,ring:o});for(var a=0,s=o.length;a<s;++a){var l=o[a],u=l[0],c=l[1];if(u<=oi||u>=si||c<=ui||c>=di){o[a]=st(l);for(var d=a+1;d<s;++d){var f=o[d],h=f[0],p=f[1];if(h>oi&&h<si&&p>ui&&p<di)break}if(d===a+1)continue;if(a){var g={index:-1,polygon:t,ring:o.slice(0,a+1)};g.ring[g.ring.length-1]=at(c),n[n.length-1]=g}else n.pop();if(d>=s)break;n.push({index:-1,polygon:t,ring:o=o.slice(d-1)}),o[0]=at(o[0][1]),a=-1,s=o.length}}}}function ct(e){var t,n,i,r,o,a,s=e.length,l={},u={};for(t=0;t<s;++t)i=(n=e[t]).ring[0],o=n.ring[n.ring.length-1],i[0]!==o[0]||i[1]!==o[1]?(n.index=t,l[i]=u[o]=n):(n.polygon.push(n.ring),e[t]=null);for(t=0;t<s;++t)if(n=e[t]){if(i=n.ring[0],o=n.ring[n.ring.length-1],r=u[i],a=l[o],delete l[i],delete u[o],i[0]===o[0]&&i[1]===o[1]){n.polygon.push(n.ring);continue}r?(delete u[i],delete l[r.ring[0]],r.ring.pop(),e[r.index]=null,n={index:-1,polygon:r.polygon,ring:r.ring.concat(n.ring)},r===a?n.polygon.push(n.ring):(n.index=s++,e.push(l[n.ring[0]]=u[n.ring[n.ring.length-1]]=n))):a?(delete l[o],delete u[a.ring[a.ring.length-1]],n.ring.pop(),n={index:s++,polygon:a.polygon,ring:n.ring.concat(a.ring)},e[a.index]=null,e.push(l[n.ring[0]]=u[n.ring[n.ring.length-1]]=n)):(n.ring.push(n.ring[0]),n.polygon.push(n.ring))}}function dt(e){var t={type:"Feature",geometry:ft(e.geometry)};return null!=e.id&&(t.id=e.id),null!=e.bbox&&(t.bbox=e.bbox),null!=e.properties&&(t.properties=e.properties),t}function ft(e){if(null==e)return e;var t,n,i,r;switch(e.type){case"GeometryCollection":t={type:"GeometryCollection",geometries:e.geometries.map(ft)};break;case"Point":t={type:"Point",coordinates:st(e.coordinates)};break;case"MultiPoint":case"LineString":t={type:e.type,coordinates:lt(e.coordinates)};break;case"MultiLineString":t={type:"MultiLineString",coordinates:e.coordinates.map(lt)};break;case"Polygon":var o=[];ut(e.coordinates,o,n=[]),ct(n),t={type:"Polygon",coordinates:o};break;case"MultiPolygon":n=[],i=-1,r=e.coordinates.length;for(var a=new Array(r);++i<r;)ut(e.coordinates[i],a[i]=[],n);ct(n),t={type:"MultiPolygon",coordinates:a.filter(rt)};break;default:return e}return null!=e.bbox&&(t.bbox=e.bbox),t}function ht(e,t){var n=zt(t/2),i=jt(Wt*n);return[e*(.74482-.34588*i*i),1.70711*n]}function pt(e){function n(e,n){var r=t.geoGnomonicRaw(e,n);return r[0]*=i,r}var i=Pt(e);return n.invert=function(e,n){return t.geoGnomonicRaw.invert(e/i,n)},n}function gt(e,t){return fi(pt,e,t)}function vt(e){function n(t,n){var l=o(Pt(n)*Pt(t-i)),u=o(Pt(n)*Pt(t-r));return l*=l,u*=u,[(l-u)/(2*e),(n<0?-1:1)*a(4*s*u-(s-l+u)*(s-l+u))/(2*e)]}if(!(e*=2))return t.geoAzimuthalEquidistantRaw;var i=-e/2,r=-i,s=e*e,l=zt(r),u=.5/jt(r);return n.invert=function(e,t){var n,s,c=t*t,d=Pt(a(c+(n=e+i)*n)),f=Pt(a(c+(n=e+r)*n));return[At(s=d-f,n=(d+f)*l),(t<0?-1:1)*o(a(n*n+s*s)*u)]},n}function mt(e,t){return fi(vt,e,t)}function bt(e,t){if(Tt(t)<qt)return[e,0];var n=Tt(t/Vt),i=r(n);if(Tt(e)<qt||Tt(Tt(t)-Vt)<qt)return[0,Ot(t)*Bt*zt(i/2)];var o=Pt(i),s=Tt(Bt/e-e/Bt)/2,l=s*s,u=o/(n+o-1),c=u*(2/n-1),d=c*c,f=d+l,h=u-d,p=l+u;return[Ot(e)*Bt*(s*h+a(l*h*h-f*(u*u-d)))/f,Ot(t)*Bt*(c*p-s*a((l+1)*f-p*p))/f]}function yt(e,t){if(Tt(t)<qt)return[e,0];var n=Tt(t/Vt),i=r(n);if(Tt(e)<qt||Tt(Tt(t)-Vt)<qt)return[0,Ot(t)*Bt*zt(i/2)];var o=Pt(i),s=Tt(Bt/e-e/Bt)/2,l=s*s,u=o*(a(1+l)-s*o)/(1+l*n*n);return[Ot(e)*Bt*u,Ot(t)*Bt*a(1-u*(2*s+u))]}function xt(e,t){if(Tt(t)<qt)return[e,0];var n=t/Vt,i=r(n);if(Tt(e)<qt||Tt(Tt(t)-Vt)<qt)return[0,Bt*zt(i/2)];var o=(Bt/e-e/Bt)/2,s=n/(1+Pt(i));return[Bt*(Ot(e)*a(o*o+1-s*s)-o),Bt*s]}function wt(e,t){if(!t)return[e,0];var n=Tt(t);if(!e||n===Vt)return[0,t];var i=n/Vt,r=i*i,o=(8*i-r*(r+2)-5)/(2*r*(i-1)),s=o*o,l=i*o,u=r+s+2*l,c=i+3*o,d=e/Vt,f=d+1/d,h=Ot(Tt(e)-Vt)*a(f*f-4),p=h*h,g=(h*(u+s-1)+2*a(u*(r+s*p-1)+(1-r)*(r*(c*c+4*s)+12*l*s+4*s*s)))/(4*u+p);return[Ot(e)*Vt*g,Ot(t)*Vt*a(1+h*Tt(g)-g*g)]}function Ct(e,t){return[e*a(1-3*t*t/(Bt*Bt)),t]}function St(e,t){var n=.90631*jt(t),i=a(1-n*n),r=a(2/(1+i*Pt(e/=3)));return[2.66723*i*r*jt(e),1.24104*n*r]}function _t(e,t){var n=Pt(t),i=Pt(e)*n,r=1-i,o=Pt(e=At(jt(e)*n,-jt(t))),s=jt(e);return n=a(1-i*i),[s*n-o*r,-o*n-s*r]}function kt(e,t){var n=h(e,t);return[(n[0]+e/Vt)/2,(n[1]+t)/2]}var Tt=Math.abs,Mt=Math.atan,At=Math.atan2,Pt=Math.cos,Dt=Math.exp,Et=Math.floor,Rt=Math.log,It=Math.max,Ft=Math.min,Lt=Math.pow,Nt=Math.round,Ot=Math.sign||function(e){return e>0?1:e<0?-1:0},jt=Math.sin,zt=Math.tan,qt=1e-6,Ht=1e-12,Bt=Math.PI,Vt=Bt/2,Wt=Bt/4,Ut=Math.SQRT1_2,Gt=a(2),Yt=a(Bt),Xt=2*Bt,$t=180/Bt,Jt=Bt/180;h.invert=function(e,t){if(!(e*e+4*t*t>Bt*Bt+qt)){var n=e,i=t,r=25;do{var s,l=jt(n),u=jt(n/2),c=Pt(n/2),d=jt(i),f=Pt(i),h=jt(2*i),p=d*d,g=f*f,v=u*u,m=1-g*c*c,b=m?o(f*c)*a(s=1/m):s=0,y=2*b*f*u-e,x=b*d-t,w=s*(g*v+b*f*c*p),C=s*(.5*l*h-2*b*d*u),S=.25*s*(h*u-b*d*g*l),_=s*(p*c+b*v*f),k=C*S-_*w;if(!k)break;var T=(x*C-y*_)/k,M=(y*S-x*w)/k;n-=T,i-=M}while((Tt(T)>qt||Tt(M)>qt)&&--r>0);return[n,i]}},g.invert=function(e,t){if(e*=3/8,t*=3/8,!e&&Tt(t)>1)return null;var n=1+e*e+t*t,i=a((n-a(n*n-4*t*t))/2),o=r(i)/3,s=i?d(Tt(t/i))/3:c(Tt(e))/3,f=Pt(o),h=u(s),p=h*h-f*f;return[2*Ot(e)*At(l(s)*f,.25-p),2*Ot(t)*At(h*jt(o),.25+p)]};var Qt=a(8),Zt=Rt(1+Gt);v.invert=function(e,t){if((i=Tt(t))<Zt)return[e,2*Mt(Dt(t))-Vt];var n,i,r=Wt,o=25;do{var a=Pt(r/2),s=zt(r/2);r-=n=(Qt*(r-Wt)-Rt(s)-i)/(Qt-a*a/(2*s))}while(Tt(n)>Ht&&--o>0);return[e/(Pt(r)*(Qt-1/jt(r))),Ot(t)*r]};var Kt=y(Gt/Vt,Gt,Bt),en=2.00276,tn=1.11072;x.invert=function(e,t){var n,i,r=en*t,o=t<0?-Wt:Wt,a=25;do{i=r-Gt*jt(o),o-=n=(jt(2*o)+2*o-Bt*jt(i))/(2*Pt(2*o)+2+Bt*Pt(i)*Gt*Pt(o))}while(Tt(n)>qt&&--a>0);return i=r-Gt*jt(o),[e*(1/Pt(i)+tn/Pt(o))/en,i]};var nn=function(e){var n=0,i=t.geoProjectionMutator(e),r=i(n);return r.parallel=function(e){return arguments.length?i(n=e*Jt):n*$t},r};w.invert=function(e,t){return[e/Pt(t),t]};var rn=y(1,4/Bt,Bt);D.invert=function(e,t){var n=(n=t/Yt-1)*n;return[n>0?e*a(Bt/n)/2:0,r(1-n)]};var on=a(3);R.invert=function(e,t){var n=3*r(t/(on*Yt));return[Yt*e/(on*(2*Pt(2*n/3)-1)),n]},L.invert=function(e,t){var n=a(8/(3*Bt)),i=t/n;return[e/(n*(1-Tt(i)/Bt)),i]},N.invert=function(e,t){var n=2-Tt(t)/a(2*Bt/3);return[e*a(6*Bt)/(2*n),Ot(t)*r((4-n*n)/3)]},O.invert=function(e,t){var n=a(Bt*(4+Bt))/2;return[e*n/(1+a(1-t*t*(4+Bt)/(4*Bt))),t*n/2]},j.invert=function(e,t){var n=t*a((4+Bt)/Bt)/2,i=r(n),o=Pt(i);return[e/(2/a(Bt*(4+Bt))*(1+o)),r((i+n*(o+2))/(2+Vt))]},z.invert=function(e,t){var n=a(2+Bt),i=t*n/2;return[n*e/(1+Pt(i)),i]},q.invert=function(e,t){var n=1+Vt,i=a(n/2);return[2*e*i/(1+Pt(t*=i)),r((t+jt(t))/n)]};var an=3+2*Gt;H.invert=function(e,t){if(!(n=g.invert(e/1.2,1.065*t)))return null;var n,i=n[0],r=n[1],o=20;e/=an,t/=an;do{var s=i/2,l=r/2,u=jt(s),c=Pt(s),d=jt(l),f=Pt(l),h=Pt(r),p=a(h),v=d/(f+Gt*c*p),m=v*v,b=a(2/(1+m)),y=(Gt*f+(c+u)*p)/(Gt*f+(c-u)*p),x=a(y),w=x-1/x,C=x+1/x,S=b*w-2*Rt(x)-e,_=b*v*C-2*Mt(v)-t,k=d&&Ut*p*u*m/d,T=(Gt*c*f+p)/(2*(f+Gt*c*p)*(f+Gt*c*p)*p),M=-.5*v*b*b*b,A=M*k,P=M*T,D=(D=2*f+Gt*p*(c-u))*D*x,E=(Gt*c*f*p+h)/D,R=-Gt*u*d/(p*D),I=w*A-2*E/x+b*(E+E/y),F=w*P-2*R/x+b*(R+R/y),L=v*C*A-2*k/(1+m)+b*C*k+b*v*(E-E/y),N=v*C*P-2*T/(1+m)+b*C*T+b*v*(R-R/y),O=F*L-N*I;if(!O)break;var j=(_*F-S*N)/O,z=(S*L-_*I)/O;i-=j,r=It(-Vt,Ft(Vt,r-z))}while((Tt(j)>qt||Tt(z)>qt)&&--o>0);return Tt(Tt(r)-Vt)<qt?[0,r]:o&&[i,r]};var sn=Pt(35*Jt);B.invert=function(e,t){var n=t/(1+sn);return[e&&e/(sn*a(1-n*n)),2*Mt(n)]},V.invert=function(e,t){var n=Mt(t/Yt),i=Pt(n),r=2*n;return[e*Yt/2/(Pt(r)*i*i),r]};var ln=function(e,t,n,i,o,s,l,u){function c(a,c){if(!c)return[e*a/Bt,0];var d=c*c,f=e+d*(t+d*(n+d*i)),h=c*(o-1+d*(s-u+d*l)),p=(f*f+h*h)/(2*h),g=a*r(f/p)/Bt;return[p*jt(g),c*(1+d*u)+p*(1-Pt(g))]}return arguments.length<8&&(u=0),c.invert=function(c,d){var f,h,p=Bt*c/e,g=d,v=50;do{var m=g*g,b=e+m*(t+m*(n+m*i)),y=g*(o-1+m*(s-u+m*l)),x=b*b+y*y,w=2*y,C=x/w,S=C*C,_=r(b/C)/Bt,k=p*_,T=b*b,M=(2*t+m*(4*n+6*m*i))*g,A=o+m*(3*s+5*m*l),P=(2*(b*M+y*(A-1))*w-x*(2*(A-1)))/(w*w),D=Pt(k),E=jt(k),R=C*D,I=C*E,F=p/Bt*(1/a(1-T/S))*(M*C-b*P)/S,L=I-c,N=g*(1+m*u)+C-R-d,O=P*E+R*F,j=R*_,z=1+P-(P*D-I*F),q=I*_,H=O*q-z*j;if(!H)break;p-=f=(N*O-L*z)/H,g-=h=(L*q-N*j)/H}while((Tt(f)>qt||Tt(h)>qt)&&--v>0);return[p,g]},c},un=ln(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555),cn=ln(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742),dn=ln(5/6*Bt,-.62636,-.0344,0,1.3493,-.05524,0,.045);$.invert=function(e,t){var n,i=e,r=t,o=50;do{var a=r*r;r-=n=(r*(1+a/12)-t)/(1+a/4)}while(Tt(n)>qt&&--o>0);o=50,e/=1-.162388*a;do{var s=(s=i*i)*s;i-=n=(i*(.87-952426e-9*s)-e)/(.87-.00476213*s)}while(Tt(n)>qt&&--o>0);return[i,r]};var fn=ln(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762),hn=function(e){function t(t,i){var r=t>0?-.5:.5,o=e(t+r*Bt,i);return o[0]-=r*n,o}var n=e(Vt,0)[0]-e(-Vt,0)[0];return e.invert&&(t.invert=function(t,i){var r=t>0?-.5:.5,o=e.invert(t+r*n,i),a=o[0]-r*Bt;return a<-Bt?a+=2*Bt:a>Bt&&(a-=2*Bt),o[0]=a,o}),t};J.invert=function(e,t){Tt(e)>1&&(e=2*Ot(e)-e),Tt(t)>1&&(t=2*Ot(t)-t);var n=Ot(e),i=Ot(t),o=-n*e,a=-i*t,s=a/o<1,l=Z(s?a:o,s?o:a),u=l[0],c=l[1],d=Pt(c);return s&&(u=-Vt-u),[n*(At(jt(u)*d,-jt(c))+Bt),i*r(Pt(u)*d)]},ie.invert=function(e,t){var n=(Gt-1)/(Gt+1),i=a(1-n*n),r=K(.5*ne(Vt,i*i)-t,-e,i*i),o=oe(r[0],r[1]);return[At(o[1],o[0])/-1,2*Mt(Dt(-.5*Rt(n*o[0]*o[0]+n*o[1]*o[1])))-Vt]},se.invert=function(e,t){var n=2*r(t/2);return[e*Pt(n/2)/Pt(n),n]};var pn=41+48/36+37/3600,gn=I(0),vn=.7109889596207567,mn=.0528035274542;he.invert=function(e,t){return t>-vn?Kt.invert(e,t-mn):w.invert(e,t)},pe.invert=function(e,t){return Tt(t)>vn?Kt.invert(e,t+(t>0?mn:-mn)):w.invert(e,t)};var bn=function(e,n){function i(t,i){for(var r=i<0?-1:1,o=n[+(i<0)],a=0,s=o.length-1;a<s&&t>o[a][2][0];++a);var l=e(t-o[a][1][0],i);return l[0]+=e(o[a][1][0],r*i>r*o[a][0][1]?o[a][0][1]:i)[0],l}var r,o;e.invert&&(i.invert=function(t,r){for(var a=o[+(r<0)],s=n[+(r<0)],l=0,u=a.length;l<u;++l){var c=a[l];if(c[0][0]<=t&&t<c[1][0]&&c[0][1]<=r&&r<c[1][1]){var d=e.invert(t-e(s[l][1][0],0)[0],r);return d[0]+=s[l][1][0],ge(i(d[0],d[1]),[t,r])?d:null}}});var a=t.geoProjection(i),s=a.stream;return a.stream=function(e){var n=a.rotate(),i=s(e),o=(a.rotate([0,0]),s(e));return a.rotate(n),i.sphere=function(){t.geoStream(r,o)},i},a.lobes=function(t){return arguments.length?(r=me(t),n=t.map(function(e){return e.map(function(e){return[[e[0][0]*Jt,e[0][1]*Jt],[e[1][0]*Jt,e[1][1]*Jt],[e[2][0]*Jt,e[2][1]*Jt]]})}),o=n.map(function(t){return t.map(function(t){var n,i=e(t[0][0],t[0][1])[0],r=e(t[2][0],t[2][1])[0],o=e(t[1][0],t[0][1])[1],a=e(t[1][0],t[1][1])[1];return o>a&&(n=o,o=a,a=n),[[i,o],[r,a]]})}),a):n.map(function(e){return e.map(function(e){return[[e[0][0]*$t,e[0][1]*$t],[e[1][0]*$t,e[1][1]*$t],[e[2][0]*$t,e[2][1]*$t]]})})},null!=n&&a.lobes(n),a},yn=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]],xn=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]],wn=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]],Cn=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]],Sn=[[[[-180,35],[-30,90],[0,35]],[[0,35],[30,90],[180,35]]],[[[-180,-10],[-102,-90],[-65,-10]],[[-65,-10],[5,-90],[77,-10]],[[77,-10],[103,-90],[180,-10]]]],_n=[[[[-180,0],[-110,90],[-40,0]],[[-40,0],[0,90],[40,0]],[[40,0],[110,90],[180,0]]],[[[-180,0],[-110,-90],[-40,0]],[[-40,0],[0,-90],[40,0]],[[40,0],[110,-90],[180,0]]]];be.invert=function(e,t){return[Xt/3*e/a(Bt*Bt/3-t*t),t]};var kn=Bt/Gt;xe.invert=function(e,t){var n=Tt(e),i=Tt(t),r=qt,s=Vt;i<kn?s*=i/kn:r+=6*o(kn/i);for(var l=0;l<25;l++){var u=jt(s),c=a(Pt(s)),d=jt(s/2),f=Pt(s/2),h=jt(r/6),p=Pt(r/6),g=.5*r*(1+c)-n,v=s/(f*p)-i,m=c?-.25*r*u/c:0,b=.5*(1+c),y=(1+.5*s*d/f)/(f*p),x=s/f*(h/6)/(p*p),w=m*x-y*b,C=(g*x-v*b)/w,S=(v*m-g*y)/w;if(s-=C,r-=S,Tt(C)<qt&&Tt(S)<qt)break}return[e<0?-r:r,t<0?-s:s]},we.invert=function(e,t){var n=Ot(e)*Bt,i=t/2,r=50;do{var o=n*n,a=i*i,s=n*i,l=n*(.975534+a*(-.0143059*o-.119161+-.0547009*a))-e,u=i*(1.00384+o*(.0802894+-.02855*a+199025e-9*o)+a*(.0998909+-.0491032*a))-t,c=.975534-a*(.119161+3*o*.0143059+.0547009*a),d=-s*(.238322+.2188036*a+.0286118*o),f=s*(.1605788+7961e-7*o+-.0571*a),h=1.00384+o*(.0802894+199025e-9*o)+a*(3*(.0998909-.02855*o)-.245516*a),p=d*f-h*c,g=(u*d-l*h)/p,v=(l*f-u*c)/p;n-=g,i-=v}while((Tt(g)>qt||Tt(v)>qt)&&--r>0);return r&&[n,i]},Ce.invert=function(e,t){var n=e*e,i=t*t,s=i+1,l=e?Ut*a((s-a(n*n+2*n*(i-1)+s*s))/n+1):1/a(s);return[r(e*l),Ot(t)*o(l)]},_e.invert=function(e,t){return[e,2.5*Mt(Dt(.8*t))-.625*Bt]};var Tn=[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],Mn=[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],An=[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7388e-7,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],Pn=[[.9245,0],[0,0],[.01943,0]],Dn=[[.721316,0],[0,0],[-.00881625,-.00617325]],En=a(6),Rn=a(7);Me.invert=function(e,t){var n=3*r(t*Rn/9);return[e*Rn/(En*(2*Pt(2*n/3)-1)),r(3*jt(n)*En/7)]},Ae.invert=function(e,t){var n=t*a(2+Gt)/(2*a(3)),i=2*r(n);return[3*Gt*e/(1+2*Pt(i)/Pt(i/2)),r((n+jt(i))/(1+Ut))]},Pe.invert=function(e,t){var n=a(6/(4+Bt)),i=t/n;return Tt(Tt(i)-Vt)<qt&&(i=i<0?-Vt:Vt),[1.5*e/(n*(.5+Pt(i))),r((i/2+jt(i))/(1+Bt/4))]},De.invert=function(e,t){var n,i=t,r=25;do{var o=i*i,a=o*o;i-=n=(i*(1.007226+o*(.015085+a*(.028874*o-.044475-.005916*a)))-t)/(1.007226+o*(.045255+a*(.259866*o-.311325-.005916*11*a)))}while(Tt(n)>qt&&--r>0);return[e/(.8707+(o=i*i)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),i]},Ee.invert=function(e,t){var n,i,r,o,a=t,s=25;do{a-=n=(a*(1.01183+(r=(i=a*a)*i)*r*(.01926*i-.02625-.00396*r))-t)/(1.01183+r*r*(.21186*i-.23625+-.05148*r))}while(Tt(n)>Ht&&--s>0);return i=a*a,r=i*i,o=i*r,[e/(.84719-.13063*i+o*o*(.05494*i-.04515-.02326*r+.00331*o)),a]},Re.invert=function(e,t){for(var n=t/2,i=0,r=1/0;i<10&&Tt(r)>qt;++i){var o=Pt(t/2);t-=r=(t-zt(t/2)-n)/(1-.5/(o*o))}return[2*e/(1+Pt(t)),t]};var In=1.0148,Fn=.23185,Ln=-.14499,Nn=.02406,On=In,jn=5*Fn,zn=7*Ln,qn=9*Nn;Ie.invert=function(e,t){t>1.790857183?t=1.790857183:t<-1.790857183&&(t=-1.790857183);var n,i=t;do{var r=i*i;i-=n=(i*(In+r*r*(Fn+r*(Ln+Nn*r)))-t)/(On+r*r*(jn+r*(zn+qn*r)))}while(Tt(n)>qt);return[e,i]},Fe.invert=function(e,t){if(Tt(t)<qt)return[e,0];var n,i=e*e+t*t,a=.5*t,s=10;do{var l=zt(a),u=1/Pt(a),c=i-2*t*a+a*a;a-=n=(l*c+2*(a-t))/(2+c*u*u+2*(a-t)*l)}while(Tt(n)>qt&&--s>0);return l=zt(a),[(Tt(t)<Tt(a+1/l)?r(e*l):Ot(e)*(o(Tt(e*l))+Vt))/jt(a),a]};var Hn=function(e,t){var n=Oe(e[1],e[0]),i=Oe(t[1],t[0]),r=ze(n,i),o=je(n)/je(i);return Ne([1,0,e[0][0],0,1,e[0][1]],Ne([o,0,0,0,o,0],Ne([Pt(r),jt(r),0,-jt(r),Pt(r),0],[1,0,-t[0][0],0,1,-t[0][1]])))},Bn=function(e,n,i){function r(e,t){if(e.edges=Ve(e.face),t.face){var n=e.shared=Be(e.face,t.face),i=Hn(n.map(t.project),n.map(e.project));e.transform=t.transform?Ne(t.transform,i):i;for(var o=t.edges,a=0,s=o.length;a<s;++a)He(n[0],o[a][1])&&He(n[1],o[a][0])&&(o[a]=e),He(n[0],o[a][0])&&He(n[1],o[a][1])&&(o[a]=e);for(a=0,s=(o=e.edges).length;a<s;++a)He(n[0],o[a][0])&&He(n[1],o[a][1])&&(o[a]=t),He(n[0],o[a][1])&&He(n[1],o[a][0])&&(o[a]=t)}else e.transform=t.transform;return e.children&&e.children.forEach(function(t){r(t,e)}),e}function o(e,t){var i,r=n(e,t),o=r.project([e*$t,t*$t]);return(i=r.transform)?[i[0]*o[0]+i[1]*o[1]+i[2],-(i[3]*o[0]+i[4]*o[1]+i[5])]:(o[1]=-o[1],o)}function a(e,t){var n=e.project.invert,i=e.transform,r=t;if(i&&(r=[(i=Le(i))[0]*r[0]+i[1]*r[1]+i[2],i[3]*r[0]+i[4]*r[1]+i[5]]),n&&e===s(o=n(r)))return o;for(var o,l=e.children,u=0,c=l&&l.length;u<c;++u)if(o=a(l[u],t))return o}function s(e){return n(e[0]*Jt,e[1]*Jt)}r(e,{transform:[Pt(i=null==i?-Bt/6:i),jt(i),0,-jt(i),Pt(i),0]}),We(e)&&(o.invert=function(t,n){var i=a(e,[t,-n]);return i&&(i[0]*=Jt,i[1]*=Jt,i)});var l=t.geoProjection(o),u=l.stream;return l.stream=function(t){var n=l.rotate(),i=u(t),r=(l.rotate([0,0]),u(t));return l.rotate(n),i.sphere=function(){r.polygonStart(),r.lineStart(),qe(r,e),r.lineEnd(),r.polygonEnd()},i},l},Vn=[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]],Wn=[[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map(function(e){return e.map(function(e){return Vn[e]})}),Un=2/a(3);Ue.invert=function(e,t){return D.invert(e/Un,t)};var Gn=function(){},Yn=function(e){if((t=e.length)<4)return!1;for(var t,n=0,i=e[t-1][1]*e[0][0]-e[t-1][0]*e[0][1];++n<t;)i+=e[n-1][1]*e[n][0]-e[n-1][0]*e[n][1];return i<=0},Xn=function(e,t){for(var n=t[0],i=t[1],r=!1,o=0,a=e.length,s=a-1;o<a;s=o++){var l=e[o],u=l[0],c=l[1],d=e[s],f=d[0],h=d[1];c>i^h>i&&n<(f-u)*(i-c)/(h-c)+u&&(r=!r)}return r},$n=[],Jn=[],Qn={point:function(e,t){$n.push([e,t])},result:function(){var e=$n.length?$n.length<2?{type:"Point",coordinates:$n[0]}:{type:"MultiPoint",coordinates:$n}:null;return $n=[],e}},Zn={lineStart:Gn,point:function(e,t){$n.push([e,t])},lineEnd:function(){$n.length&&(Jn.push($n),$n=[])},result:function(){var e=Jn.length?Jn.length<2?{type:"LineString",coordinates:Jn[0]}:{type:"MultiLineString",coordinates:Jn}:null;return Jn=[],e}},Kn={polygonStart:Gn,lineStart:Gn,point:function(e,t){$n.push([e,t])},lineEnd:function(){var e=$n.length;if(e){do{$n.push($n[0].slice())}while(++e<4);Jn.push($n),$n=[]}},polygonEnd:Gn,result:function(){if(!Jn.length)return null;var e=[],t=[];return Jn.forEach(function(n){Yn(n)?e.push([n]):t.push(n)}),t.forEach(function(t){var n=t[0];e.some(function(e){if(Xn(e[0],n))return e.push(t),!0})||e.push([t])}),Jn=[],e.length?e.length>1?{type:"MultiPolygon",coordinates:e}:{type:"Polygon",coordinates:e[0]}:null}},ei=function(e){function n(t,n){var r=Tt(t)<Vt,o=e(r?t:t>0?t-Bt:t+Bt,n),a=(o[0]-o[1])*Ut,s=(o[0]+o[1])*Ut;if(r)return[a,s];var l=i*Ut,u=a>0^s>0?-1:1;return[u*a-Ot(s)*l,u*s-Ot(a)*l]}var i=e(Vt,0)[0]-e(-Vt,0)[0];return e.invert&&(n.invert=function(t,n){var r=(t+n)*Ut,o=(n-t)*Ut,a=Tt(r)<.5*i&&Tt(o)<.5*i;if(!a){var s=i*Ut,l=r>0^o>0?-1:1,u=-l*t+(o>0?1:-1)*s,c=-l*n+(r>0?1:-1)*s;r=(-u-c)*Ut,o=(u-c)*Ut}var d=e.invert(r,o);return a||(d[0]+=r>0?Bt:-Bt),d}),t.geoProjection(n).rotate([-90,-90,45]).clipAngle(179.999)},ti=function(){return ei(ie).scale(111.48)},ni=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];ni.forEach(function(e){e[1]*=1.0144}),tt.invert=function(e,t){var n=t/Vt,i=90*n,r=Ft(18,Tt(i/5)),o=It(0,Et(r));do{var a=ni[o][1],s=ni[o+1][1],l=ni[Ft(19,o+2)][1],u=l-a,c=l-2*s+a,d=2*(Tt(n)-s)/u,f=c/u,h=d*(1-f*d*(1-2*f*d));if(h>=0||1===o){i=(t>=0?5:-5)*(h+r);var p,g=50;do{h=(r=Ft(18,Tt(i)/5))-(o=Et(r)),a=ni[o][1],s=ni[o+1][1],l=ni[Ft(19,o+2)][1],i-=(p=(t>=0?Vt:-Vt)*(s+h*(l-a)/2+h*h*(l-2*s+a)/2)-t)*$t}while(Tt(p)>Ht&&--g>0);break}}while(--o>=0);var v=ni[o][0],m=ni[o+1][0],b=ni[Ft(19,o+2)][0];return[e/(m+h*(b-v)/2+h*h*(b-2*m+v)/2),i*Jt]};var ii=1e4,ri=-180,oi=ri+1e-4,ai=180,si=ai-1e-4,li=-90,ui=li+1e-4,ci=90,di=ci-1e-4;ht.invert=function(e,t){var n=t/1.70711,i=jt(Wt*n);return[e/(.74482-.34588*i*i),2*Mt(n)]};var fi=function(e,n,i){var o=t.geoInterpolate(n,i),a=o(.5),s=t.geoRotation([-a[0],-a[1]])(n),l=o.distance/2,u=-r(jt(s[1]*Jt)/jt(l)),c=[-a[0],-a[1],-(s[0]>0?Bt-u:u)*$t],d=t.geoProjection(e(l)).rotate(c),f=t.geoRotation(c),h=d.center;return delete d.rotate,d.center=function(e){return arguments.length?h(f(e)):f.invert(h())},d.clipAngle(90)};bt.invert=function(e,t){if(Tt(t)<qt)return[e,0];if(Tt(e)<qt)return[0,Vt*jt(2*Mt(t/Bt))];var n=(e/=Bt)*e,i=(t/=Bt)*t,r=n+i,s=r*r,l=-Tt(t)*(1+r),u=l-2*i+n,c=-2*l+1+2*i+s,d=i/c+(2*u*u*u/(c*c*c)-9*l*u/(c*c))/27,f=(l-u*u/(3*c))/c,h=2*a(-f/3),p=o(3*d/(f*h))/3;return[Bt*(r-1+a(1+2*(n-i)+s))/(2*e),Ot(t)*Bt*(-h*Pt(p+Bt/3)-u/(3*c))]},yt.invert=function(e,t){if(!e)return[0,Vt*jt(2*Mt(t/Bt))];var n=Tt(e/Bt),i=(1-n*n-(t/=Bt)*t)/(2*n),r=a(i*i+1);return[Ot(e)*Bt*(r-i),Ot(t)*Vt*jt(2*At(a((1-2*i*n)*(i+r)-n),a(r+i+n)))]},xt.invert=function(e,t){if(!t)return[e,0];var n=t/Bt,i=(Bt*Bt*(1-n*n)-e*e)/(2*Bt*e);return[e?Bt*(Ot(e)*a(i*i+1)-i):0,Vt*jt(2*Mt(n))]},wt.invert=function(e,t){var n;if(!e||!t)return[e,t];t/=Bt;var i=Ot(e)*e/Vt,r=(i*i-1+4*t*t)/Tt(i),o=r*r,s=2*t,l=50;do{var u=s*s,c=(8*s-u*(u+2)-5)/(2*u*(s-1)),d=(3*s-u*s-10)/(2*u*s),f=c*c,h=s*c,p=s+c,g=p*p,v=s+3*c,m=-2*p*(4*h*f+(1-4*u+3*u*u)*(1+d)+f*(14*u-6-o+(8*u-8-2*o)*d)+h*(12*u-8+(10*u-10-o)*d)),b=a(g*(u+f*o-1)+(1-u)*(u*(v*v+4*f)+f*(12*h+4*f)));s-=n=(r*(g+f-1)+2*b-i*(4*g+o))/(r*(2*c*d+2*p*(1+d))+m/b-8*p*(r*(-1+f+g)+2*b)*(1+d)/(o+4*g))}while(n>qt&&--l>0);return[Ot(e)*(a(r*r+4)+r)*Bt/4,Vt*s]};var hi=4*Bt+3*a(3),pi=2*a(2*Bt*a(3)/hi),gi=y(pi*a(3)/Bt,pi,hi/6);Ct.invert=function(e,t){return[e/a(1-3*t*t/(Bt*Bt)),t]},St.invert=function(e,t){var n=e/2.66723,i=t/1.24104,o=a(n*n+i*i),s=2*r(o/2);return[3*At(e*zt(s),2.66723*o),o&&r(t*jt(s)/(1.24104*.90631*o))]},_t.invert=function(e,t){var n=(e*e+t*t)/-2,i=a(-n*(2+n)),o=t*n+e*i,s=e*n-t*i,l=a(s*s+o*o);return[At(i*o,l*(1+n)),l?-r(i*s/l):0]},kt.invert=function(e,t){var n=e,i=t,r=25;do{var s,l=Pt(i),u=jt(i),c=jt(2*i),d=u*u,f=l*l,h=jt(n),p=Pt(n/2),g=jt(n/2),v=g*g,m=1-f*p*p,b=m?o(l*p)*a(s=1/m):s=0,y=.5*(2*b*l*g+n/Vt)-e,x=.5*(b*u+i)-t,w=.5*s*(f*v+b*l*p*d)+.5/Vt,C=s*(h*c/4-b*u*g),S=.125*s*(c*g-b*u*f*h),_=.5*s*(d*p+b*v*l)+.5,k=C*S-_*w,T=(x*C-y*_)/k,M=(y*S-x*w)/k;n-=T,i-=M}while((Tt(T)>qt||Tt(M)>qt)&&--r>0);return[n,i]},e.geoAiry=function(){var e=Vt,n=t.geoProjectionMutator(f),i=n(e);return i.radius=function(t){return arguments.length?n(e=t*Jt):e*$t},i.scale(179.976).clipAngle(147)},e.geoAiryRaw=f,e.geoAitoff=function(){return t.geoProjection(h).scale(152.63)},e.geoAitoffRaw=h,e.geoArmadillo=function(){var e=20*Jt,n=e>=0?1:-1,i=zt(n*e),r=t.geoProjectionMutator(p),o=r(e),a=o.stream;return o.parallel=function(t){return arguments.length?(i=zt((n=(e=t*Jt)>=0?1:-1)*e),r(e)):e*$t},o.stream=function(t){var r=o.rotate(),s=a(t),l=(o.rotate([0,0]),a(t));return o.rotate(r),s.sphere=function(){l.polygonStart(),l.lineStart();for(var t=-180*n;n*t<180;t+=90*n)l.point(t,90*n);for(;n*(t-=e)>=-180;)l.point(t,n*-At(Pt(t*Jt/2),i)*$t);l.lineEnd(),l.polygonEnd()},s},o.scale(218.695).center([0,28.0974])},e.geoArmadilloRaw=p,e.geoAugust=function(){return t.geoProjection(g).scale(66.1603)},e.geoAugustRaw=g,e.geoBaker=function(){return t.geoProjection(v).scale(112.314)},e.geoBakerRaw=v,e.geoBerghaus=function(){var e=5,n=t.geoProjectionMutator(m),i=n(e),o=i.stream,a=-Pt(.01*Jt),s=jt(.01*Jt);return i.lobes=function(t){return arguments.length?n(e=+t):e},i.stream=function(t){var n=i.rotate(),l=o(t),u=(i.rotate([0,0]),o(t));return i.rotate(n),l.sphere=function(){u.polygonStart(),u.lineStart();for(var t=0,n=360/e,i=2*Bt/e,o=90-180/e,l=Vt;t<e;++t,o-=n,l-=i)u.point(At(s*Pt(l),a)*$t,r(s*jt(l))*$t),o<-90?(u.point(-90,-180-o-.01),u.point(-90,-180-o+.01)):(u.point(90,o+.01),u.point(90,o-.01));u.lineEnd(),u.polygonEnd()},l},i.scale(87.8076).center([0,17.1875]).clipAngle(179.999)},e.geoBerghausRaw=m,e.geoBoggs=function(){return t.geoProjection(x).scale(160.857)},e.geoBoggsRaw=x,e.geoBonne=function(){return nn(C).scale(123.082).center([0,26.1441]).parallel(45)},e.geoBonneRaw=C,e.geoBottomley=function(){var e=.5,n=t.geoProjectionMutator(S),i=n(e);return i.fraction=function(t){return arguments.length?n(e=+t):e},i.scale(158.837)},e.geoBottomleyRaw=S,e.geoBromley=function(){return t.geoProjection(rn).scale(152.63)},e.geoBromleyRaw=rn,e.geoChamberlin=P,e.geoChamberlinRaw=M,e.geoChamberlinAfrica=function(){return P([0,22],[45,22],[22.5,-22]).scale(380).center([22.5,2])},e.geoCollignon=function(){return t.geoProjection(D).scale(95.6464).center([0,30])},e.geoCollignonRaw=D,e.geoCraig=function(){return nn(E).scale(249.828).clipAngle(90)},e.geoCraigRaw=E,e.geoCraster=function(){return t.geoProjection(R).scale(156.19)},e.geoCrasterRaw=R,e.geoCylindricalEqualArea=function(){return nn(I).parallel(38.58).scale(195.044)},e.geoCylindricalEqualAreaRaw=I,e.geoCylindricalStereographic=function(){return nn(F).scale(124.75)},e.geoCylindricalStereographicRaw=F,e.geoEckert1=function(){return t.geoProjection(L).scale(165.664)},e.geoEckert1Raw=L,e.geoEckert2=function(){return t.geoProjection(N).scale(165.664)},e.geoEckert2Raw=N,e.geoEckert3=function(){return t.geoProjection(O).scale(180.739)},e.geoEckert3Raw=O,e.geoEckert4=function(){return t.geoProjection(j).scale(180.739)},e.geoEckert4Raw=j,e.geoEckert5=function(){return t.geoProjection(z).scale(173.044)},e.geoEckert5Raw=z,e.geoEckert6=function(){return t.geoProjection(q).scale(173.044)},e.geoEckert6Raw=q,e.geoEisenlohr=function(){return t.geoProjection(H).scale(62.5271)},e.geoEisenlohrRaw=H,e.geoFahey=function(){return t.geoProjection(B).scale(137.152)},e.geoFaheyRaw=B,e.geoFoucaut=function(){return t.geoProjection(V).scale(135.264)},e.geoFoucautRaw=V,e.geoGilbert=function(e){function n(e){return o(W(e))}function i(e){n[e]=function(t){return arguments.length?(o[e](t),n):o[e]()}}null==e&&(e=t.geoOrthographic);var o=e(),a=t.geoEquirectangular().scale($t).precision(0).clipAngle(null).translate([0,0]);return o.invert&&(n.invert=function(e){return U(o.invert(e))}),n.stream=function(e){var t=o.stream(e),n=a.stream({point:function(e,n){t.point(e/2,r(zt(-n/2*Jt))*$t)},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}});return n.sphere=t.sphere,n},n.rotate=function(e){return arguments.length?(a.rotate(e),n):a.rotate()},n.center=function(e){return arguments.length?(o.center(W(e)),n):U(o.center())},i("clipAngle"),i("clipExtent"),i("scale"),i("translate"),i("precision"),n.scale(249.5)},e.geoGingery=function(){var e=6,n=30*Jt,i=Pt(n),o=jt(n),a=t.geoProjectionMutator(G),s=a(n,e),l=s.stream,u=-Pt(.01*Jt),c=jt(.01*Jt);return s.radius=function(t){return arguments.length?(i=Pt(n=t*Jt),o=jt(n),a(n,e)):n*$t},s.lobes=function(t){return arguments.length?a(n,e=+t):e},s.stream=function(t){var n=s.rotate(),a=l(t),d=(s.rotate([0,0]),l(t));return s.rotate(n),a.sphere=function(){d.polygonStart(),d.lineStart();for(var t=0,n=2*Bt/e,a=0;t<e;++t,a-=n)d.point(At(c*Pt(a),u)*$t,r(c*jt(a))*$t),d.point(At(o*Pt(a-n/2),i)*$t,r(o*jt(a-n/2))*$t);d.lineEnd(),d.polygonEnd()},a},s.rotate([90,-40]).scale(91.7095).clipAngle(179.999)},e.geoGingeryRaw=G,e.geoGinzburg4=function(){return t.geoProjection(un).scale(149.995)},e.geoGinzburg4Raw=un,e.geoGinzburg5=function(){return t.geoProjection(cn).scale(153.93)},e.geoGinzburg5Raw=cn,e.geoGinzburg6=function(){return t.geoProjection(dn).scale(130.945)},e.geoGinzburg6Raw=dn,e.geoGinzburg8=function(){return t.geoProjection($).scale(131.747)},e.geoGinzburg8Raw=$,e.geoGinzburg9=function(){return t.geoProjection(fn).scale(131.087)},e.geoGinzburg9Raw=fn,e.geoGringorten=function(){return t.geoProjection(hn(J)).scale(239.75)},e.geoGringortenRaw=J,e.geoGuyou=function(){return t.geoProjection(hn(ie)).scale(151.496)},e.geoGuyouRaw=ie,e.geoHammer=function(){var e=2,n=t.geoProjectionMutator(ae),i=n(e);return i.coefficient=function(t){return arguments.length?n(e=+t):e},i.scale(169.529)},e.geoHammerRaw=ae,e.geoHammerRetroazimuthal=function(){var e=0,n=t.geoProjectionMutator(le),i=n(e),r=i.rotate,o=i.stream,a=t.geoCircle();return i.parallel=function(t){if(!arguments.length)return e*$t;var r=i.rotate();return n(e=t*Jt).rotate(r)},i.rotate=function(t){return arguments.length?(r.call(i,[t[0],t[1]-e*$t]),a.center([-t[0],-t[1]]),i):(t=r.call(i),t[1]+=e*$t,t)},i.stream=function(e){return e=o(e),e.sphere=function(){e.polygonStart();var t,n=a.radius(89.99)().coordinates[0],i=n.length-1,r=-1;for(e.lineStart();++r<i;)e.point((t=n[r])[0],t[1]);for(e.lineEnd(),i=(n=a.radius(90.01)().coordinates[0]).length-1,e.lineStart();--r>=0;)e.point((t=n[r])[0],t[1]);e.lineEnd(),e.polygonEnd()},e},i.scale(79.4187).parallel(45).clipAngle(179.999)},e.geoHammerRetroazimuthalRaw=le,e.geoHealpix=function(){var e=4,n=t.geoProjectionMutator(ce),i=n(e),r=i.stream;return i.lobes=function(t){return arguments.length?n(e=+t):e},i.stream=function(n){var o=i.rotate(),a=r(n),s=(i.rotate([0,0]),r(n));return i.rotate(o),a.sphere=function(){t.geoStream(de(180/e),s)},a},i.scale(239.75)},e.geoHealpixRaw=ce,e.geoHill=function(){var e=1,n=t.geoProjectionMutator(fe),i=n(e);return i.ratio=function(t){return arguments.length?n(e=+t):e},i.scale(167.774).center([0,18.67])},e.geoHillRaw=fe,e.geoHomolosine=function(){return t.geoProjection(pe).scale(152.63)},e.geoHomolosineRaw=pe,e.geoInterrupt=bn,e.geoInterruptedBoggs=function(){return bn(x,yn).scale(160.857)},e.geoInterruptedHomolosine=function(){return bn(pe,xn).scale(152.63)},e.geoInterruptedMollweide=function(){return bn(Kt,wn).scale(169.529)},e.geoInterruptedMollweideHemispheres=function(){return bn(Kt,Cn).scale(169.529).rotate([20,0])},e.geoInterruptedSinuMollweide=function(){return bn(he,Sn).rotate([-20,-55]).scale(164.263).center([0,-5.4036])},e.geoInterruptedSinusoidal=function(){return bn(w,_n).scale(152.63).rotate([-20,0])},e.geoKavrayskiy7=function(){return t.geoProjection(be).scale(158.837)},e.geoKavrayskiy7Raw=be,e.geoLagrange=function(){var e=.5,n=t.geoProjectionMutator(ye),i=n(e);return i.spacing=function(t){return arguments.length?n(e=+t):e},i.scale(124.75)},e.geoLagrangeRaw=ye,e.geoLarrivee=function(){return t.geoProjection(xe).scale(97.2672)},e.geoLarriveeRaw=xe,e.geoLaskowski=function(){return t.geoProjection(we).scale(139.98)},e.geoLaskowskiRaw=we,e.geoLittrow=function(){return t.geoProjection(Ce).scale(144.049).clipAngle(89.999)},e.geoLittrowRaw=Ce,e.geoLoximuthal=function(){return nn(Se).parallel(40).scale(158.837)},e.geoLoximuthalRaw=Se,e.geoMiller=function(){return t.geoProjection(_e).scale(108.318)},e.geoMillerRaw=_e,e.geoModifiedStereographic=Te,e.geoModifiedStereographicRaw=ke,e.geoModifiedStereographicAlaska=function(){return Te(Tn,[152,-64]).scale(1500).center([-160.908,62.4864]).clipAngle(25)},e.geoModifiedStereographicGs48=function(){return Te(Mn,[95,-38]).scale(1e3).clipAngle(55).center([-96.5563,38.8675])},e.geoModifiedStereographicGs50=function(){return Te(An,[120,-45]).scale(359.513).clipAngle(55).center([-117.474,53.0628])},e.geoModifiedStereographicMiller=function(){return Te(Pn,[-20,-18]).scale(209.091).center([20,16.7214]).clipAngle(82)},e.geoModifiedStereographicLee=function(){return Te(Dn,[165,10]).scale(250).clipAngle(130).center([-165,-10])},e.geoMollweide=function(){return t.geoProjection(Kt).scale(169.529)},e.geoMollweideRaw=Kt,e.geoMtFlatPolarParabolic=function(){return t.geoProjection(Me).scale(164.859)},e.geoMtFlatPolarParabolicRaw=Me,e.geoMtFlatPolarQuartic=function(){return t.geoProjection(Ae).scale(188.209)},e.geoMtFlatPolarQuarticRaw=Ae,e.geoMtFlatPolarSinusoidal=function(){return t.geoProjection(Pe).scale(166.518)},e.geoMtFlatPolarSinusoidalRaw=Pe,e.geoNaturalEarth=function(){return t.geoProjection(De).scale(175.295)},e.geoNaturalEarthRaw=De,e.geoNaturalEarth2=function(){return t.geoProjection(Ee).scale(175.295)},e.geoNaturalEarth2Raw=Ee,e.geoNellHammer=function(){return t.geoProjection(Re).scale(152.63)},e.geoNellHammerRaw=Re,e.geoPatterson=function(){return t.geoProjection(Ie).scale(139.319)},e.geoPattersonRaw=Ie,e.geoPolyconic=function(){return t.geoProjection(Fe).scale(103.74)},e.geoPolyconicRaw=Fe,e.geoPolyhedral=Bn,e.geoPolyhedralButterfly=function(e){e=e||function(e){var n=t.geoCentroid({type:"MultiPoint",coordinates:e});return t.geoGnomonic().scale(1).translate([0,0]).rotate([-n[0],-n[1]])};var n=Wn.map(function(t){return{face:t,project:e(t)}});return[-1,0,0,1,0,1,4,5].forEach(function(e,t){var i=n[e];i&&(i.children||(i.children=[])).push(n[t])}),Bn(n[0],function(e,t){return n[e<-Bt/2?t<0?6:4:e<0?t<0?2:0:e<Bt/2?t<0?3:1:t<0?7:5]}).scale(101.858).center([0,45])},e.geoPolyhedralCollignon=function(e){e=e||function(e){var n=t.geoCentroid({type:"MultiPoint",coordinates:e});return t.geoProjection(Ue).translate([0,0]).scale(1).rotate(n[1]>0?[-n[0],0]:[180-n[0],180])};var n=Wn.map(function(t){return{face:t,project:e(t)}});return[-1,0,0,1,0,1,4,5].forEach(function(e,t){var i=n[e];i&&(i.children||(i.children=[])).push(n[t])}),Bn(n[0],function(e,t){return n[e<-Bt/2?t<0?6:4:e<0?t<0?2:0:e<Bt/2?t<0?3:1:t<0?7:5]}).scale(121.906).center([0,48.5904])},e.geoPolyhedralWaterman=function(e){e=e||function(e){var n=6===e.length?t.geoCentroid({type:"MultiPoint",coordinates:e}):e[0];return t.geoGnomonic().scale(1).translate([0,0]).rotate([-n[0],-n[1]])};var n=Wn.map(function(e){for(var t,n=e.map($e),i=n.length,r=n[i-1],o=[],a=0;a<i;++a)t=n[a],o.push(Xe([.9486832980505138*r[0]+.31622776601683794*t[0],.9486832980505138*r[1]+.31622776601683794*t[1],.9486832980505138*r[2]+.31622776601683794*t[2]]),Xe([.9486832980505138*t[0]+.31622776601683794*r[0],.9486832980505138*t[1]+.31622776601683794*r[1],.9486832980505138*t[2]+.31622776601683794*r[2]])),r=t;return o}),i=[],r=[-1,0,0,1,0,1,4,5];n.forEach(function(e,t){for(var o=Wn[t],a=o.length,s=i[t]=[],l=0;l<a;++l)n.push([o[l],e[(2*l+2)%(2*a)],e[(2*l+1)%(2*a)]]),r.push(t),s.push(Ye($e(e[(2*l+2)%(2*a)]),$e(e[(2*l+1)%(2*a)])))});var o=n.map(function(t){return{project:e(t),face:t}});return r.forEach(function(e,t){var n=o[e];n&&(n.children||(n.children=[])).push(o[t])}),Bn(o[0],function(e,t){var n=Pt(t),r=[n*Pt(e),n*jt(e),jt(t)],a=e<-Bt/2?t<0?6:4:e<0?t<0?2:0:e<Bt/2?t<0?3:1:t<0?7:5,s=i[a];return o[Ge(s[0],r)<0?8+3*a:Ge(s[1],r)<0?8+3*a+1:Ge(s[2],r)<0?8+3*a+2:a]}).scale(110.625).center([0,45])},e.geoProject=function(e,t){var n,i=t.stream;if(!i)throw new Error("invalid projection");switch(e&&e.type){case"Feature":n=Qe;break;case"FeatureCollection":n=Je;break;default:n=Ke}return n(e,i)},e.geoGringortenQuincuncial=function(){return ei(J).scale(176.423)},e.geoPeirceQuincuncial=ti,e.geoPierceQuincuncial=ti,e.geoQuantize=function(e,t){function n(e){var n=e.length,i=2,r=new Array(n);for(r[0]=+e[0].toFixed(t),r[1]=+e[1].toFixed(t);i<n;)r[i]=e[i],++i;return r}function i(e){return e.map(n)}function r(e){return e.map(i)}function o(e){if(null==e)return e;var t;switch(e.type){case"GeometryCollection":t={type:"GeometryCollection",geometries:e.geometries.map(o)};break;case"Point":t={type:"Point",coordinates:n(e.coordinates)};break;case"MultiPoint":case"LineString":t={type:e.type,coordinates:i(e.coordinates)};break;case"MultiLineString":case"Polygon":t={type:e.type,coordinates:r(e.coordinates)};break;case"MultiPolygon":t={type:"MultiPolygon",coordinates:e.coordinates.map(r)};break;default:return e}return null!=e.bbox&&(t.bbox=e.bbox),t}function a(e){var t={type:"Feature",properties:e.properties,geometry:o(e.geometry)};return null!=e.id&&(t.id=e.id),null!=e.bbox&&(t.bbox=e.bbox),t}if(!(0<=(t=+t)&&t<=20))throw new Error("invalid digits");if(null!=e)switch(e.type){case"Feature":return a(e);case"FeatureCollection":var s={type:"FeatureCollection",features:e.features.map(a)};return null!=e.bbox&&(s.bbox=e.bbox),s;default:return o(e)}return e},e.geoQuincuncial=ei,e.geoRectangularPolyconic=function(){return nn(et).scale(131.215)},e.geoRectangularPolyconicRaw=et,e.geoRobinson=function(){return t.geoProjection(tt).scale(152.63)},e.geoRobinsonRaw=tt,e.geoSatellite=function(){var e=2,n=0,i=t.geoProjectionMutator(it),r=i(e,n);return r.distance=function(t){return arguments.length?i(e=+t,n):e},r.tilt=function(t){return arguments.length?i(e,n=t*Jt):n*$t},r.scale(432.147).clipAngle(o(1/e)*$t-1e-6)},e.geoSatelliteRaw=it,e.geoSinuMollweide=function(){return t.geoProjection(he).rotate([-20,-55]).scale(164.263).center([0,-5.4036])},e.geoSinuMollweideRaw=he,e.geoSinusoidal=function(){return t.geoProjection(w).scale(152.63)},e.geoSinusoidalRaw=w,e.geoStitch=function(e){if(null==e)return e;switch(e.type){case"Feature":return dt(e);case"FeatureCollection":var t={type:"FeatureCollection",features:e.features.map(dt)};return null!=e.bbox&&(t.bbox=e.bbox),t;default:return ft(e)}},e.geoTimes=function(){return t.geoProjection(ht).scale(146.153)},e.geoTimesRaw=ht,e.geoTwoPointAzimuthal=gt,e.geoTwoPointAzimuthalRaw=pt,e.geoTwoPointAzimuthalUsa=function(){return gt([-158,21.5],[-77,39]).clipAngle(60).scale(400)},e.geoTwoPointEquidistant=mt,e.geoTwoPointEquidistantRaw=vt,e.geoTwoPointEquidistantUsa=function(){return mt([-158,21.5],[-77,39]).clipAngle(130).scale(122.571)},e.geoVanDerGrinten=function(){return t.geoProjection(bt).scale(79.4183)},e.geoVanDerGrintenRaw=bt,e.geoVanDerGrinten2=function(){return t.geoProjection(yt).scale(79.4183)},e.geoVanDerGrinten2Raw=yt,e.geoVanDerGrinten3=function(){return t.geoProjection(xt).scale(79.4183)},e.geoVanDerGrinten3Raw=xt,e.geoVanDerGrinten4=function(){return t.geoProjection(wt).scale(127.16)},e.geoVanDerGrinten4Raw=wt,e.geoWagner4=function(){return t.geoProjection(gi).scale(176.84)},e.geoWagner4Raw=gi,e.geoWagner6=function(){return t.geoProjection(Ct).scale(152.63)},e.geoWagner6Raw=Ct,e.geoWagner7=function(){return t.geoProjection(St).scale(172.632)},e.geoWagner7Raw=St,e.geoWiechel=function(){return t.geoProjection(_t).rotate([0,-90,45]).scale(124.75).clipAngle(179.999)},e.geoWiechelRaw=_t,e.geoWinkel3=function(){return t.geoProjection(kt).scale(158.837)},e.geoWinkel3Raw=kt,Object.defineProperty(e,"__esModule",{value:!0})}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.d3=e.d3||{})}(this,function(e){"use strict";function t(e){return function(t,n){return uu(e(t),n)}}function n(e,t){return[e,t]}function i(e,t,n){var i=(t-e)/Math.max(0,n),r=Math.floor(Math.log(i)/Math.LN10),o=i/Math.pow(10,r);return r>=0?(o>=_u?10:o>=ku?5:o>=Tu?2:1)*Math.pow(10,r):-Math.pow(10,-r)/(o>=_u?10:o>=ku?5:o>=Tu?2:1)}function r(e,t,n){var i=Math.abs(t-e)/Math.max(0,n),r=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),o=i/r;return o>=_u?r*=10:o>=ku?r*=5:o>=Tu&&(r*=2),t<e?-r:r}function o(e){return e.length}function a(e){return"translate("+(e+.5)+",0)"}function s(e){return"translate(0,"+(e+.5)+")"}function l(e){return function(t){return+e(t)}}function u(e){var t=Math.max(0,e.bandwidth()-1)/2;return e.round()&&(t=Math.round(t)),function(n){return+e(n)+t}}function c(){return!this.__axis}function d(e,t){function n(n){var a=null==r?t.ticks?t.ticks.apply(t,i):t.domain():r,s=null==o?t.tickFormat?t.tickFormat.apply(t,i):Fu:o,m=Math.max(d,0)+h,b=t.range(),y=+b[0]+.5,x=+b[b.length-1]+.5,w=(t.bandwidth?u:l)(t.copy()),C=n.selection?n.selection():n,S=C.selectAll(".domain").data([null]),_=C.selectAll(".tick").data(a,t).order(),k=_.exit(),T=_.enter().append("g").attr("class","tick"),M=_.select("line"),A=_.select("text");S=S.merge(S.enter().insert("path",".tick").attr("class","domain").attr("stroke","#000")),_=_.merge(T),M=M.merge(T.append("line").attr("stroke","#000").attr(g+"2",p*d)),A=A.merge(T.append("text").attr("fill","#000").attr(g,p*m).attr("dy",e===Lu?"0em":e===Ou?"0.71em":"0.32em")),n!==C&&(S=S.transition(n),_=_.transition(n),M=M.transition(n),A=A.transition(n),k=k.transition(n).attr("opacity",zu).attr("transform",function(e){return isFinite(e=w(e))?v(e):this.getAttribute("transform")}),T.attr("opacity",zu).attr("transform",function(e){var t=this.parentNode.__axis;return v(t&&isFinite(t=t(e))?t:w(e))})),k.remove(),S.attr("d",e===ju||e==Nu?"M"+p*f+","+y+"H0.5V"+x+"H"+p*f:"M"+y+","+p*f+"V0.5H"+x+"V"+p*f),_.attr("opacity",1).attr("transform",function(e){return v(w(e))}),M.attr(g+"2",p*d),A.attr(g,p*m).text(s),C.filter(c).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===Nu?"start":e===ju?"end":"middle"),C.each(function(){this.__axis=w})}var i=[],r=null,o=null,d=6,f=6,h=3,p=e===Lu||e===ju?-1:1,g=e===ju||e===Nu?"x":"y",v=e===Lu||e===Ou?a:s;return n.scale=function(e){return arguments.length?(t=e,n):t},n.ticks=function(){return i=Iu.call(arguments),n},n.tickArguments=function(e){return arguments.length?(i=null==e?[]:Iu.call(e),n):i.slice()},n.tickValues=function(e){return arguments.length?(r=null==e?null:Iu.call(e),n):r&&r.slice()},n.tickFormat=function(e){return arguments.length?(o=e,n):o},n.tickSize=function(e){return arguments.length?(d=f=+e,n):d},n.tickSizeInner=function(e){return arguments.length?(d=+e,n):d},n.tickSizeOuter=function(e){return arguments.length?(f=+e,n):f},n.tickPadding=function(e){return arguments.length?(h=+e,n):h},n}function f(){for(var e,t=0,n=arguments.length,i={};t<n;++t){if(!(e=arguments[t]+"")||e in i)throw new Error("illegal type: "+e);i[e]=[]}return new h(i)}function h(e){this._=e}function p(e,t){return e.trim().split(/^|\s+/).map(function(e){var n="",i=e.indexOf(".");if(i>=0&&(n=e.slice(i+1),e=e.slice(0,i)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}})}function g(e,t){for(var n,i=0,r=e.length;i<r;++i)if((n=e[i]).name===t)return n.value}function v(e,t,n){for(var i=0,r=e.length;i<r;++i)if(e[i].name===t){e[i]=qu,e=e.slice(0,i).concat(e.slice(i+1));break}return null!=n&&e.push({name:t,value:n}),e}function m(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Hu&&t.documentElement.namespaceURI===Hu?t.createElement(e):t.createElementNS(n,e)}}function b(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function y(){return new x}function x(){this._="@"+(++Uu).toString(36)}function w(e,t,n){return e=C(e,t,n),function(t){var n=t.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||e.call(this,t)}}function C(t,n,i){return function(r){var o=e.event;e.event=r;try{t.call(this,this.__data__,n,i)}finally{e.event=o}}}function S(e){return e.trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}})}function _(e){return function(){var t=this.__on;if(t){for(var n,i=0,r=-1,o=t.length;i<o;++i)n=t[i],e.type&&n.type!==e.type||n.name!==e.name?t[++r]=n:this.removeEventListener(n.type,n.listener,n.capture);++r?t.length=r:delete this.__on}}}function k(e,t,n){var i=Ju.hasOwnProperty(e.type)?w:C;return function(r,o,a){var s,l=this.__on,u=i(t,o,a);if(l)for(var c=0,d=l.length;c<d;++c)if((s=l[c]).type===e.type&&s.name===e.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=u,s.capture=n),void(s.value=t);this.addEventListener(e.type,u,n),s={type:e.type,name:e.name,value:t,listener:u,capture:n},l?l.push(s):this.__on=[s]}}function T(t,n,i,r){var o=e.event;t.sourceEvent=e.event,e.event=t;try{return n.apply(i,r)}finally{e.event=o}}function M(){}function A(){return[]}function P(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function D(e,t,n,i,r,o){for(var a,s=0,l=t.length,u=o.length;s<u;++s)(a=t[s])?(a.__data__=o[s],i[s]=a):n[s]=new P(e,o[s]);for(;s<l;++s)(a=t[s])&&(r[s]=a)}function E(e,t,n,i,r,o,a){var s,l,u,c={},d=t.length,f=o.length,h=new Array(d);for(s=0;s<d;++s)(l=t[s])&&(h[s]=u=rc+a.call(l,l.__data__,s,t),u in c?r[s]=l:c[u]=l);for(s=0;s<f;++s)(l=c[u=rc+a.call(e,o[s],s,o)])?(i[s]=l,l.__data__=o[s],c[u]=null):n[s]=new P(e,o[s]);for(s=0;s<d;++s)(l=t[s])&&c[h[s]]===l&&(r[s]=l)}function R(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function I(e){return function(){this.removeAttribute(e)}}function F(e){return function(){this.removeAttributeNS(e.space,e.local)}}function L(e,t){return function(){this.setAttribute(e,t)}}function N(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function O(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function j(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function z(e){return function(){this.style.removeProperty(e)}}function q(e,t,n){return function(){this.style.setProperty(e,t,n)}}function H(e,t,n){return function(){var i=t.apply(this,arguments);null==i?this.style.removeProperty(e):this.style.setProperty(e,i,n)}}function B(e,t){return e.style.getPropertyValue(t)||oc(e).getComputedStyle(e,null).getPropertyValue(t)}function V(e){return function(){delete this[e]}}function W(e,t){return function(){this[e]=t}}function U(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function G(e){return e.trim().split(/^|\s+/)}function Y(e){return e.classList||new X(e)}function X(e){this._node=e,this._names=G(e.getAttribute("class")||"")}function $(e,t){for(var n=Y(e),i=-1,r=t.length;++i<r;)n.add(t[i])}function J(e,t){for(var n=Y(e),i=-1,r=t.length;++i<r;)n.remove(t[i])}function Q(e){return function(){$(this,e)}}function Z(e){return function(){J(this,e)}}function K(e,t){return function(){(t.apply(this,arguments)?$:J)(this,e)}}function ee(){this.textContent=""}function te(e){return function(){this.textContent=e}}function ne(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function ie(){this.innerHTML=""}function re(e){return function(){this.innerHTML=e}}function oe(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function ae(){this.nextSibling&&this.parentNode.appendChild(this)}function se(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function le(){return null}function ue(){var e=this.parentNode;e&&e.removeChild(this)}function ce(e,t,n){var i=oc(e),r=i.CustomEvent;"function"==typeof r?r=new r(t,n):(r=i.document.createEvent("Event"),n?(r.initEvent(t,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(t,!1,!1)),e.dispatchEvent(r)}function de(e,t){return function(){return ce(this,e,t)}}function fe(e,t){return function(){return ce(this,e,t.apply(this,arguments))}}function he(e,t){this._groups=e,this._parents=t}function pe(){return new he([[document.documentElement]],ac)}function ge(){e.event.stopImmediatePropagation()}function ve(e,t){var n=e.document.documentElement,i=sc(e).on("dragstart.drag",null);t&&(i.on("click.drag",uc,!0),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function me(e,t,n,i,r,o,a,s,l,u){this.target=e,this.type=t,this.subject=n,this.identifier=i,this.active=r,this.x=o,this.y=a,this.dx=s,this.dy=l,this._=u}function be(){return!e.event.button}function ye(){return this.parentNode}function xe(t){return null==t?{x:e.event.x,y:e.event.y}:t}function we(){return"ontouchstart"in this}function Ce(e,t){var n=Object.create(e.prototype);for(var i in t)n[i]=t[i];return n}function Se(){}function _e(e){var t;return e=(e+"").trim().toLowerCase(),(t=vc.exec(e))?(t=parseInt(t[1],16),new Pe(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1)):(t=mc.exec(e))?ke(parseInt(t[1],16)):(t=bc.exec(e))?new Pe(t[1],t[2],t[3],1):(t=yc.exec(e))?new Pe(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=xc.exec(e))?Te(t[1],t[2],t[3],t[4]):(t=wc.exec(e))?Te(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Cc.exec(e))?De(t[1],t[2]/100,t[3]/100,1):(t=Sc.exec(e))?De(t[1],t[2]/100,t[3]/100,t[4]):_c.hasOwnProperty(e)?ke(_c[e]):"transparent"===e?new Pe(NaN,NaN,NaN,0):null}function ke(e){return new Pe(e>>16&255,e>>8&255,255&e,1)}function Te(e,t,n,i){return i<=0&&(e=t=n=NaN),new Pe(e,t,n,i)}function Me(e){return e instanceof Se||(e=_e(e)),e?(e=e.rgb(),new Pe(e.r,e.g,e.b,e.opacity)):new Pe}function Ae(e,t,n,i){return 1===arguments.length?Me(e):new Pe(e,t,n,null==i?1:i)}function Pe(e,t,n,i){this.r=+e,this.g=+t,this.b=+n,this.opacity=+i}function De(e,t,n,i){return i<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Ie(e,t,n,i)}function Ee(e){if(e instanceof Ie)return new Ie(e.h,e.s,e.l,e.opacity);if(e instanceof Se||(e=_e(e)),!e)return new Ie;if(e instanceof Ie)return e;var t=(e=e.rgb()).r/255,n=e.g/255,i=e.b/255,r=Math.min(t,n,i),o=Math.max(t,n,i),a=NaN,s=o-r,l=(o+r)/2;return s?(a=t===o?(n-i)/s+6*(n<i):n===o?(i-t)/s+2:(t-n)/s+4,s/=l<.5?o+r:2-o-r,a*=60):s=l>0&&l<1?0:a,new Ie(a,s,l,e.opacity)}function Re(e,t,n,i){return 1===arguments.length?Ee(e):new Ie(e,t,n,null==i?1:i)}function Ie(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}function Fe(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function Le(e){if(e instanceof Oe)return new Oe(e.l,e.a,e.b,e.opacity);if(e instanceof We){var t=e.h*kc;return new Oe(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}e instanceof Pe||(e=Me(e));var n=He(e.r),i=He(e.g),r=He(e.b),o=je((.4124564*n+.3575761*i+.1804375*r)/Mc),a=je((.2126729*n+.7151522*i+.072175*r)/Ac);return new Oe(116*a-16,500*(o-a),200*(a-je((.0193339*n+.119192*i+.9503041*r)/Pc)),e.opacity)}function Ne(e,t,n,i){return 1===arguments.length?Le(e):new Oe(e,t,n,null==i?1:i)}function Oe(e,t,n,i){this.l=+e,this.a=+t,this.b=+n,this.opacity=+i}function je(e){return e>Ic?Math.pow(e,1/3):e/Rc+Dc}function ze(e){return e>Ec?e*e*e:Rc*(e-Dc)}function qe(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function He(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Be(e){if(e instanceof We)return new We(e.h,e.c,e.l,e.opacity);e instanceof Oe||(e=Le(e));var t=Math.atan2(e.b,e.a)*Tc;return new We(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function Ve(e,t,n,i){return 1===arguments.length?Be(e):new We(e,t,n,null==i?1:i)}function We(e,t,n,i){this.h=+e,this.c=+t,this.l=+n,this.opacity=+i}function Ue(e){if(e instanceof Ye)return new Ye(e.h,e.s,e.l,e.opacity);e instanceof Pe||(e=Me(e));var t=e.r/255,n=e.g/255,i=e.b/255,r=(qc*i+jc*t-zc*n)/(qc+jc-zc),o=i-r,a=(Oc*(n-r)-Lc*o)/Nc,s=Math.sqrt(a*a+o*o)/(Oc*r*(1-r)),l=s?Math.atan2(a,o)*Tc-120:NaN;return new Ye(l<0?l+360:l,s,r,e.opacity)}function Ge(e,t,n,i){return 1===arguments.length?Ue(e):new Ye(e,t,n,null==i?1:i)}function Ye(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}function Xe(e,t,n,i,r){var o=e*e,a=o*e;return((1-3*e+3*o-a)*t+(4-6*o+3*a)*n+(1+3*e+3*o-3*a)*i+a*r)/6}function $e(e,t){return function(n){return e+n*t}}function Je(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(i){return Math.pow(e+i*t,n)}}function Qe(e,t){var n=t-e;return n?$e(e,n>180||n<-180?n-360*Math.round(n/360):n):$c(isNaN(e)?t:e)}function Ze(e){return 1==(e=+e)?Ke:function(t,n){return n-t?Je(t,n,e):$c(isNaN(t)?n:t)}}function Ke(e,t){var n=t-e;return n?$e(e,n):$c(isNaN(e)?t:e)}function et(e){return function(t){var n,i,r=t.length,o=new Array(r),a=new Array(r),s=new Array(r);for(n=0;n<r;++n)i=Ae(t[n]),o[n]=i.r||0,a[n]=i.g||0,s[n]=i.b||0;return o=e(o),a=e(a),s=e(s),i.opacity=1,function(e){return i.r=o(e),i.g=a(e),i.b=s(e),i+""}}}function tt(e){return function(){return e}}function nt(e){return function(t){return e(t)+""}}function it(e,t,n,i){function r(e){return e.length?e.pop()+" ":""}function o(e,i,r,o,a,s){if(e!==r||i!==o){var l=a.push("translate(",null,t,null,n);s.push({i:l-4,x:td(e,r)},{i:l-2,x:td(i,o)})}else(r||o)&&a.push("translate("+r+t+o+n)}function a(e,t,n,o){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),o.push({i:n.push(r(n)+"rotate(",null,i)-2,x:td(e,t)})):t&&n.push(r(n)+"rotate("+t+i)}function s(e,t,n,o){e!==t?o.push({i:n.push(r(n)+"skewX(",null,i)-2,x:td(e,t)}):t&&n.push(r(n)+"skewX("+t+i)}function l(e,t,n,i,o,a){if(e!==n||t!==i){var s=o.push(r(o)+"scale(",null,",",null,")");a.push({i:s-4,x:td(e,n)},{i:s-2,x:td(t,i)})}else 1===n&&1===i||o.push(r(o)+"scale("+n+","+i+")")}return function(t,n){var i=[],r=[];return t=e(t),n=e(n),o(t.translateX,t.translateY,n.translateX,n.translateY,i,r),a(t.rotate,n.rotate,i,r),s(t.skewX,n.skewX,i,r),l(t.scaleX,t.scaleY,n.scaleX,n.scaleY,i,r),t=n=null,function(e){for(var t,n=-1,o=r.length;++n<o;)i[(t=r[n]).i]=t.x(e);return i.join("")}}}function rt(e){return((e=Math.exp(e))+1/e)/2}function ot(e){return((e=Math.exp(e))-1/e)/2}function at(e){return((e=Math.exp(2*e))-1)/(e+1)}function st(e){return function(t,n){var i=e((t=Re(t)).h,(n=Re(n)).h),r=Ke(t.s,n.s),o=Ke(t.l,n.l),a=Ke(t.opacity,n.opacity);return function(e){return t.h=i(e),t.s=r(e),t.l=o(e),t.opacity=a(e),t+""}}}function lt(e){return function(t,n){var i=e((t=Ve(t)).h,(n=Ve(n)).h),r=Ke(t.c,n.c),o=Ke(t.l,n.l),a=Ke(t.opacity,n.opacity);return function(e){return t.h=i(e),t.c=r(e),t.l=o(e),t.opacity=a(e),t+""}}}function ut(e){return function t(n){function i(t,i){var r=e((t=Ge(t)).h,(i=Ge(i)).h),o=Ke(t.s,i.s),a=Ke(t.l,i.l),s=Ke(t.opacity,i.opacity);return function(e){return t.h=r(e),t.s=o(e),t.l=a(Math.pow(e,n)),t.opacity=s(e),t+""}}return n=+n,i.gamma=t,i}(1)}function ct(){return Td||(Pd(dt),Td=Ad.now()+Md)}function dt(){Td=0}function ft(){this._call=this._time=this._next=null}function ht(e,t,n){var i=new ft;return i.restart(e,t,n),i}function pt(){ct(),++wd;for(var e,t=Uc;t;)(e=Td-t._time)>=0&&t._call.call(null,e),t=t._next;--wd}function gt(){Td=(kd=Ad.now())+Md,wd=Cd=0;try{pt()}finally{wd=0,mt(),Td=0}}function vt(){var e=Ad.now(),t=e-kd;t>_d&&(Md-=t,kd=e)}function mt(){for(var e,t,n=Uc,i=1/0;n;)n._call?(i>n._time&&(i=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:Uc=t);Gc=e,bt(i)}function bt(e){if(!wd){Cd&&(Cd=clearTimeout(Cd));var t=e-Td;t>24?(e<1/0&&(Cd=setTimeout(gt,t)),Sd&&(Sd=clearInterval(Sd))):(Sd||(kd=Td,Sd=setInterval(vt,_d)),wd=1,Pd(gt))}}function yt(e,t){var n=e.__transition;if(!n||!(n=n[t])||n.state>Id)throw new Error("too late");return n}function xt(e,t){var n=e.__transition;if(!n||!(n=n[t])||n.state>Ld)throw new Error("too late");return n}function wt(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("too late");return n}function Ct(e,t,n){function i(l){var u,c,d,f;if(n.state!==Fd)return o();for(u in s)if((f=s[u]).name===n.name){if(f.state===Nd)return Dd(i);f.state===Od?(f.state=zd,f.timer.stop(),f.on.call("interrupt",e,e.__data__,f.index,f.group),delete s[u]):+u<t&&(f.state=zd,f.timer.stop(),delete s[u])}if(Dd(function(){n.state===Nd&&(n.state=Od,n.timer.restart(r,n.delay,n.time),r(l))}),n.state=Ld,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Ld){for(n.state=Nd,a=new Array(d=n.tween.length),u=0,c=-1;u<d;++u)(f=n.tween[u].value.call(e,e.__data__,n.index,n.group))&&(a[++c]=f);a.length=c+1}}function r(t){for(var i=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(o),n.state=jd,1),r=-1,s=a.length;++r<s;)a[r].call(null,i);n.state===jd&&(n.on.call("end",e,e.__data__,n.index,n.group),o())}function o(){n.state=zd,n.timer.stop(),delete s[t];for(var i in s)return;delete e.__transition}var a,s=e.__transition;s[t]=n,n.timer=ht(function(e){n.state=Fd,n.timer.restart(i,n.delay,n.time),n.delay<=e&&i(e-n.delay)},0,n.time)}function St(e,t){var n,i;return function(){var r=xt(this,e),o=r.tween;if(o!==n)for(var a=0,s=(i=n=o).length;a<s;++a)if(i[a].name===t){(i=i.slice()).splice(a,1);break}r.tween=i}}function _t(e,t,n){var i,r;if("function"!=typeof n)throw new Error;return function(){var o=xt(this,e),a=o.tween;if(a!==i){r=(i=a).slice();for(var s={name:t,value:n},l=0,u=r.length;l<u;++l)if(r[l].name===t){r[l]=s;break}l===u&&r.push(s)}o.tween=r}}function kt(e,t,n){var i=e._id;return e.each(function(){var e=xt(this,i);(e.value||(e.value={}))[t]=n.apply(this,arguments)}),function(e){return wt(e,i).value[t]}}function Tt(e){return function(){this.removeAttribute(e)}}function Mt(e){return function(){this.removeAttributeNS(e.space,e.local)}}function At(e,t,n){var i,r;return function(){var o=this.getAttribute(e);return o===n?null:o===i?r:r=t(i=o,n)}}function Pt(e,t,n){var i,r;return function(){var o=this.getAttributeNS(e.space,e.local);return o===n?null:o===i?r:r=t(i=o,n)}}function Dt(e,t,n){var i,r,o;return function(){var a,s=n(this);if(null!=s)return(a=this.getAttribute(e))===s?null:a===i&&s===r?o:o=t(i=a,r=s);this.removeAttribute(e)}}function Et(e,t,n){var i,r,o;return function(){var a,s=n(this);if(null!=s)return(a=this.getAttributeNS(e.space,e.local))===s?null:a===i&&s===r?o:o=t(i=a,r=s);this.removeAttributeNS(e.space,e.local)}}function Rt(e,t){function n(){var n=this,i=t.apply(n,arguments);return i&&function(t){n.setAttributeNS(e.space,e.local,i(t))}}return n._value=t,n}function It(e,t){function n(){var n=this,i=t.apply(n,arguments);return i&&function(t){n.setAttribute(e,i(t))}}return n._value=t,n}function Ft(e,t){return function(){yt(this,e).delay=+t.apply(this,arguments)}}function Lt(e,t){return t=+t,function(){yt(this,e).delay=t}}function Nt(e,t){return function(){xt(this,e).duration=+t.apply(this,arguments)}}function Ot(e,t){return t=+t,function(){xt(this,e).duration=t}}function jt(e,t){if("function"!=typeof t)throw new Error;return function(){xt(this,e).ease=t}}function zt(e){return(e+"").trim().split(/^|\s+/).every(function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e})}function qt(e,t,n){var i,r,o=zt(t)?yt:xt;return function(){var a=o(this,e),s=a.on;s!==i&&(r=(i=s).copy()).on(t,n),a.on=r}}function Ht(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function Bt(e,t){var n,i,r;return function(){var o=B(this,e),a=(this.style.removeProperty(e),B(this,e));return o===a?null:o===n&&a===i?r:r=t(n=o,i=a)}}function Vt(e){return function(){this.style.removeProperty(e)}}function Wt(e,t,n){var i,r;return function(){var o=B(this,e);return o===n?null:o===i?r:r=t(i=o,n)}}function Ut(e,t,n){var i,r,o;return function(){var a=B(this,e),s=n(this);return null==s&&(this.style.removeProperty(e),s=B(this,e)),a===s?null:a===i&&s===r?o:o=t(i=a,r=s)}}function Gt(e,t,n){function i(){var i=this,r=t.apply(i,arguments);return r&&function(t){i.style.setProperty(e,r(t),n)}}return i._value=t,i}function Yt(e){return function(){this.textContent=e}}function Xt(e){return function(){var t=e(this);this.textContent=null==t?"":t}}function $t(e,t,n,i){this._groups=e,this._parents=t,this._name=n,this._id=i}function Jt(e){return pe().transition(e)}function Qt(){return++Wd}function Zt(e){return((e*=2)<=1?e*e:--e*(2-e)+1)/2}function Kt(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}function en(e){return(1-Math.cos($d*e))/2}function tn(e){return((e*=2)<=1?Math.pow(2,10*e-10):2-Math.pow(2,10-10*e))/2}function nn(e){return((e*=2)<=1?1-Math.sqrt(1-e*e):Math.sqrt(1-(e-=2)*e)+1)/2}function rn(e){return(e=+e)<Qd?sf*e*e:e<Kd?sf*(e-=Zd)*e+ef:e<nf?sf*(e-=tf)*e+rf:sf*(e-=of)*e+af}function on(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))return gf.time=ct(),gf;return n}function an(){e.event.stopImmediatePropagation()}function sn(e){return{type:e}}function ln(){return!e.event.button}function un(){var e=this.ownerSVGElement||this;return[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function cn(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function dn(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}function fn(t){function n(e){var n=e.property("__brush",s).selectAll(".overlay").data([sn("overlay")]);n.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Mf.overlay).merge(n).each(function(){var e=cn(this).extent;sc(this).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1])}),e.selectAll(".selection").data([sn("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Mf.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var r=e.selectAll(".handle").data(t.handles,function(e){return e.type});r.exit().remove(),r.enter().append("rect").attr("class",function(e){return"handle handle--"+e.type}).attr("cursor",function(e){return Mf[e.type]}),e.each(i).attr("fill","none").attr("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush touchstart.brush",a)}function i(){var e=sc(this),t=cn(this).selection;t?(e.selectAll(".selection").style("display",null).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1]),e.selectAll(".handle").style("display",null).attr("x",function(e){return"e"===e.type[e.type.length-1]?t[1][0]-h/2:t[0][0]-h/2}).attr("y",function(e){return"s"===e.type[0]?t[1][1]-h/2:t[0][1]-h/2}).attr("width",function(e){return"n"===e.type||"s"===e.type?t[1][0]-t[0][0]+h:h}).attr("height",function(e){return"e"===e.type||"w"===e.type?t[1][1]-t[0][1]+h:h})):e.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function r(e,t){return e.__brush.emitter||new o(e,t)}function o(e,t){this.that=e,this.args=t,this.state=e.__brush,this.active=0}function a(){function n(){var e=Ku(C);!F||x||w||(Math.abs(e[0]-N[0])>Math.abs(e[1]-N[1])?w=!0:x=!0),N=e,y=!0,yf(),o()}function o(){var e;switch(m=N[0]-L[0],b=N[1]-L[1],_){case wf:case xf:k&&(m=Math.max(D-s,Math.min(R-h,m)),u=s+m,p=h+m),T&&(b=Math.max(E-d,Math.min(I-g,b)),f=d+b,v=g+b);break;case Cf:k<0?(m=Math.max(D-s,Math.min(R-s,m)),u=s+m,p=h):k>0&&(m=Math.max(D-h,Math.min(R-h,m)),u=s,p=h+m),T<0?(b=Math.max(E-d,Math.min(I-d,b)),f=d+b,v=g):T>0&&(b=Math.max(E-g,Math.min(I-g,b)),f=d,v=g+b);break;case Sf:k&&(u=Math.max(D,Math.min(R,s-m*k)),p=Math.max(D,Math.min(R,h+m*k))),T&&(f=Math.max(E,Math.min(I,d-b*T)),v=Math.max(E,Math.min(I,g+b*T)))}p<u&&(k*=-1,e=s,s=h,h=e,e=u,u=p,p=e,S in Af&&z.attr("cursor",Mf[S=Af[S]])),v<f&&(T*=-1,e=d,d=g,g=e,e=f,f=v,v=e,S in Pf&&z.attr("cursor",Mf[S=Pf[S]])),M.selection&&(P=M.selection),x&&(u=P[0][0],p=P[1][0]),w&&(f=P[0][1],v=P[1][1]),P[0][0]===u&&P[0][1]===f&&P[1][0]===p&&P[1][1]===v||(M.selection=[[u,f],[p,v]],i.call(C),O.brush())}function a(){if(an(),e.event.touches){if(e.event.touches.length)return;l&&clearTimeout(l),l=setTimeout(function(){l=null},500),j.on("touchmove.brush touchend.brush touchcancel.brush",null)}else ve(e.event.view,y),q.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);j.attr("pointer-events","all"),z.attr("cursor",Mf.overlay),M.selection&&(P=M.selection),dn(P)&&(M.selection=null,i.call(C)),O.end()}if(e.event.touches){if(e.event.changedTouches.length<e.event.touches.length)return yf()}else if(l)return;if(c.apply(this,arguments)){var s,u,d,f,h,p,g,v,m,b,y,x,w,C=this,S=e.event.target.__data__.type,_="selection"===(e.event.metaKey?S="overlay":S)?xf:e.event.altKey?Sf:Cf,k=t===kf?null:Df[S],T=t===_f?null:Ef[S],M=cn(C),A=M.extent,P=M.selection,D=A[0][0],E=A[0][1],R=A[1][0],I=A[1][1],F=k&&T&&e.event.shiftKey,L=Ku(C),N=L,O=r(C,arguments).beforestart();"overlay"===S?M.selection=P=[[s=t===kf?D:L[0],d=t===_f?E:L[1]],[h=t===kf?R:s,g=t===_f?I:d]]:(s=P[0][0],d=P[0][1],h=P[1][0],g=P[1][1]),u=s,f=d,p=h,v=g;var j=sc(C).attr("pointer-events","none"),z=j.selectAll(".overlay").attr("cursor",Mf[S]);if(e.event.touches)j.on("touchmove.brush",n,!0).on("touchend.brush touchcancel.brush",a,!0);else{var q=sc(e.event.view).on("keydown.brush",function(){switch(e.event.keyCode){case 16:F=k&&T;break;case 18:_===Cf&&(k&&(h=p-m*k,s=u+m*k),T&&(g=v-b*T,d=f+b*T),_=Sf,o());break;case 32:_!==Cf&&_!==Sf||(k<0?h=p-m:k>0&&(s=u-m),T<0?g=v-b:T>0&&(d=f-b),_=wf,z.attr("cursor",Mf.selection),o());break;default:return}yf()},!0).on("keyup.brush",function(){switch(e.event.keyCode){case 16:F&&(x=w=F=!1,o());break;case 18:_===Sf&&(k<0?h=p:k>0&&(s=u),T<0?g=v:T>0&&(d=f),_=Cf,o());break;case 32:_===wf&&(e.event.altKey?(k&&(h=p-m*k,s=u+m*k),T&&(g=v-b*T,d=f+b*T),_=Sf):(k<0?h=p:k>0&&(s=u),T<0?g=v:T>0&&(d=f),_=Cf),z.attr("cursor",Mf[S]),o());break;default:return}yf()},!0).on("mousemove.brush",n,!0).on("mouseup.brush",a,!0);cc(e.event.view)}an(),Hd(C),i.call(C),O.start()}}function s(){var e=this.__brush||{selection:null};return e.extent=u.apply(this,arguments),e.dim=t,e}var l,u=un,c=ln,d=f(n,"start","brush","end"),h=6;return n.move=function(e,n){e.selection?e.on("start.brush",function(){r(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){r(this,arguments).end()}).tween("brush",function(){function e(e){a.selection=1===e&&dn(u)?null:c(e),i.call(o),s.brush()}var o=this,a=o.__brush,s=r(o,arguments),l=a.selection,u=t.input("function"==typeof n?n.apply(this,arguments):n,a.extent),c=ad(l,u);return l&&u?e:e(1)}):e.each(function(){var e=this,o=arguments,a=e.__brush,s=t.input("function"==typeof n?n.apply(e,o):n,a.extent),l=r(e,o).beforestart();Hd(e),a.selection=null==s||dn(s)?null:s,i.call(e),l.start().brush().end()})},o.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting&&(this.starting=!1,this.emit("start")),this},brush:function(){return this.emit("brush"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(e){T(new bf(n,e,t.output(this.state.selection)),d.apply,d,[e,this.that,this.args])}},n.extent=function(e){return arguments.length?(u="function"==typeof e?e:mf([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),n):u},n.filter=function(e){return arguments.length?(c="function"==typeof e?e:mf(!!e),n):c},n.handleSize=function(e){return arguments.length?(h=+e,n):h},n.on=function(){var e=d.on.apply(d,arguments);return e===d?n:e},n}function hn(e){return function(t,n){return e(t.source.value+t.target.value,n.source.value+n.target.value)}}function pn(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function gn(){return new pn}function vn(e){return e.source}function mn(e){return e.target}function bn(e){return e.radius}function yn(e){return e.startAngle}function xn(e){return e.endAngle}function wn(){}function Cn(e,t){var n=new wn;if(e instanceof wn)e.each(function(e,t){n.set(t,e)});else if(Array.isArray(e)){var i,r=-1,o=e.length;if(null==t)for(;++r<o;)n.set(r,e[r]);else for(;++r<o;)n.set(t(i=e[r],r,e),i)}else if(e)for(var a in e)n.set(a,e[a]);return n}function Sn(){return{}}function _n(e,t,n){e[t]=n}function kn(){return Cn()}function Tn(e,t,n){e.set(t,n)}function Mn(){}function An(e,t){var n=new Mn;if(e instanceof Mn)e.each(function(e){n.add(e)});else if(e){var i=-1,r=e.length;if(null==t)for(;++i<r;)n.add(e[i]);else for(;++i<r;)n.add(t(e[i],i,e))}return n}function Pn(e){return new Function("d","return {"+e.map(function(e,t){return JSON.stringify(e)+": d["+t+"]"}).join(",")+"}")}function Dn(e,t){var n=Pn(e);return function(i,r){return t(n(i),r,e)}}function En(e){var t=Object.create(null),n=[];return e.forEach(function(e){for(var i in e)i in t||n.push(t[i]=i)}),n}function Rn(e,t,n,i){if(isNaN(t)||isNaN(n))return e;var r,o,a,s,l,u,c,d,f,h=e._root,p={data:i},g=e._x0,v=e._y0,m=e._x1,b=e._y1;if(!h)return e._root=p,e;for(;h.length;)if((u=t>=(o=(g+m)/2))?g=o:m=o,(c=n>=(a=(v+b)/2))?v=a:b=a,r=h,!(h=h[d=c<<1|u]))return r[d]=p,e;if(s=+e._x.call(null,h.data),l=+e._y.call(null,h.data),t===s&&n===l)return p.next=h,r?r[d]=p:e._root=p,e;do{r=r?r[d]=new Array(4):e._root=new Array(4),(u=t>=(o=(g+m)/2))?g=o:m=o,(c=n>=(a=(v+b)/2))?v=a:b=a}while((d=c<<1|u)==(f=(l>=a)<<1|s>=o));return r[f]=h,r[d]=p,e}function In(e){return e[0]}function Fn(e){return e[1]}function Ln(e,t,n){var i=new Nn(null==t?In:t,null==n?Fn:n,NaN,NaN,NaN,NaN);return null==e?i:i.addAll(e)}function Nn(e,t,n,i,r,o){this._x=e,this._y=t,this._x0=n,this._y0=i,this._x1=r,this._y1=o,this._root=void 0}function On(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}function jn(e){return e.x+e.vx}function zn(e){return e.y+e.vy}function qn(e){return e.index}function Hn(e,t){var n=e.get(t);if(!n)throw new Error("missing: "+t);return n}function Bn(e){return e.x}function Vn(e){return e.y}function Wn(e){return new Un(e)}function Un(e){if(!(t=ph.exec(e)))throw new Error("invalid format: "+e);var t,n=t[1]||" ",i=t[2]||">",r=t[3]||"-",o=t[4]||"",a=!!t[5],s=t[6]&&+t[6],l=!!t[7],u=t[8]&&+t[8].slice(1),c=t[9]||"";"n"===c?(l=!0,c="g"):hh[c]||(c=""),(a||"0"===n&&"="===i)&&(a=!0,n="0",i="="),this.fill=n,this.align=i,this.sign=r,this.symbol=o,this.zero=a,this.width=s,this.comma=l,this.precision=u,this.type=c}function Gn(t){return gh=bh(t),e.format=gh.format,e.formatPrefix=gh.formatPrefix,gh}function Yn(){this.reset()}function Xn(e,t,n){var i=e.s=t+n,r=i-t,o=i-r;e.t=t-o+(n-r)}function $n(e){return e>1?0:e<-1?np:Math.acos(e)}function Jn(e){return e>1?ip:e<-1?-ip:Math.asin(e)}function Qn(e){return(e=vp(e/2))*e}function Zn(){}function Kn(e,t){e&&wp.hasOwnProperty(e.type)&&wp[e.type](e,t)}function ei(e,t,n){var i,r=-1,o=e.length-n;for(t.lineStart();++r<o;)i=e[r],t.point(i[0],i[1],i[2]);t.lineEnd()}function ti(e,t){var n=-1,i=e.length;for(t.polygonStart();++n<i;)ei(e[n],t,1);t.polygonEnd()}function ni(){kp.point=ri}function ii(){oi(Sh,_h)}function ri(e,t){kp.point=oi,Sh=e,_h=t,kh=e*=sp,Th=dp(t=(t*=sp)/2+rp),Mh=vp(t)}function oi(e,t){t=(t*=sp)/2+rp;var n=(e*=sp)-kh,i=n>=0?1:-1,r=i*n,o=dp(t),a=vp(t),s=Mh*a,l=Th*o+s*dp(r),u=s*i*vp(r);Sp.add(cp(u,l)),kh=e,Th=o,Mh=a}function ai(e){return[cp(e[1],e[0]),Jn(e[2])]}function si(e){var t=e[0],n=e[1],i=dp(n);return[i*dp(t),i*vp(t),vp(n)]}function li(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function ui(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function ci(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function di(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function fi(e){var t=bp(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function hi(e,t){Nh.push(Oh=[Ah=e,Dh=e]),t<Ph&&(Ph=t),t>Eh&&(Eh=t)}function pi(e,t){var n=si([e*sp,t*sp]);if(Lh){var i=ui(Lh,n),r=ui([i[1],-i[0],0],i);fi(r),r=ai(r);var o,a=e-Rh,s=a>0?1:-1,l=r[0]*ap*s,u=lp(a)>180;u^(s*Rh<l&&l<s*e)?(o=r[1]*ap)>Eh&&(Eh=o):(l=(l+360)%360-180,u^(s*Rh<l&&l<s*e)?(o=-r[1]*ap)<Ph&&(Ph=o):(t<Ph&&(Ph=t),t>Eh&&(Eh=t))),u?e<Rh?xi(Ah,e)>xi(Ah,Dh)&&(Dh=e):xi(e,Dh)>xi(Ah,Dh)&&(Ah=e):Dh>=Ah?(e<Ah&&(Ah=e),e>Dh&&(Dh=e)):e>Rh?xi(Ah,e)>xi(Ah,Dh)&&(Dh=e):xi(e,Dh)>xi(Ah,Dh)&&(Ah=e)}else Nh.push(Oh=[Ah=e,Dh=e]);t<Ph&&(Ph=t),t>Eh&&(Eh=t),Lh=n,Rh=e}function gi(){Mp.point=pi}function vi(){Oh[0]=Ah,Oh[1]=Dh,Mp.point=hi,Lh=null}function mi(e,t){if(Lh){var n=e-Rh;Tp.add(lp(n)>180?n+(n>0?360:-360):n)}else Ih=e,Fh=t;kp.point(e,t),pi(e,t)}function bi(){kp.lineStart()}function yi(){mi(Ih,Fh),kp.lineEnd(),lp(Tp)>tp&&(Ah=-(Dh=180)),Oh[0]=Ah,Oh[1]=Dh,Lh=null}function xi(e,t){return(t-=e)<0?t+360:t}function wi(e,t){return e[0]-t[0]}function Ci(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}function Si(e,t){e*=sp;var n=dp(t*=sp);_i(n*dp(e),n*vp(e),vp(t))}function _i(e,t,n){qh+=(e-qh)/++jh,Hh+=(t-Hh)/jh,Bh+=(n-Bh)/jh}function ki(){Ap.point=Ti}function Ti(e,t){e*=sp;var n=dp(t*=sp);Qh=n*dp(e),Zh=n*vp(e),Kh=vp(t),Ap.point=Mi,_i(Qh,Zh,Kh)}function Mi(e,t){e*=sp;var n=dp(t*=sp),i=n*dp(e),r=n*vp(e),o=vp(t),a=cp(bp((a=Zh*o-Kh*r)*a+(a=Kh*i-Qh*o)*a+(a=Qh*r-Zh*i)*a),Qh*i+Zh*r+Kh*o);zh+=a,Vh+=a*(Qh+(Qh=i)),Wh+=a*(Zh+(Zh=r)),Uh+=a*(Kh+(Kh=o)),_i(Qh,Zh,Kh)}function Ai(){Ap.point=Si}function Pi(){Ap.point=Ei}function Di(){Ri($h,Jh),Ap.point=Si}function Ei(e,t){$h=e,Jh=t,e*=sp,t*=sp,Ap.point=Ri;var n=dp(t);Qh=n*dp(e),Zh=n*vp(e),Kh=vp(t),_i(Qh,Zh,Kh)}function Ri(e,t){e*=sp;var n=dp(t*=sp),i=n*dp(e),r=n*vp(e),o=vp(t),a=Zh*o-Kh*r,s=Kh*i-Qh*o,l=Qh*r-Zh*i,u=bp(a*a+s*s+l*l),c=Jn(u),d=u&&-c/u;Gh+=d*a,Yh+=d*s,Xh+=d*l,zh+=c,Vh+=c*(Qh+(Qh=i)),Wh+=c*(Zh+(Zh=r)),Uh+=c*(Kh+(Kh=o)),_i(Qh,Zh,Kh)}function Ii(e,t){return[e>np?e-op:e<-np?e+op:e,t]}function Fi(e,t,n){return(e%=op)?t||n?Dp(Ni(e),Oi(t,n)):Ni(e):t||n?Oi(t,n):Ii}function Li(e){return function(t,n){return t+=e,[t>np?t-op:t<-np?t+op:t,n]}}function Ni(e){var t=Li(e);return t.invert=Li(-e),t}function Oi(e,t){function n(e,t){var n=dp(t),s=dp(e)*n,l=vp(e)*n,u=vp(t),c=u*i+s*r;return[cp(l*o-c*a,s*i-u*r),Jn(c*o+l*a)]}var i=dp(e),r=vp(e),o=dp(t),a=vp(t);return n.invert=function(e,t){var n=dp(t),s=dp(e)*n,l=vp(e)*n,u=vp(t),c=u*o-l*a;return[cp(l*o+u*a,s*i+c*r),Jn(c*i-s*r)]},n}function ji(e,t,n,i,r,o){if(n){var a=dp(t),s=vp(t),l=i*n;null==r?(r=t+i*op,o=t-l/2):(r=zi(a,r),o=zi(a,o),(i>0?r<o:r>o)&&(r+=i*op));for(var u,c=r;i>0?c>o:c<o;c-=l)u=ai([a,-s*dp(c),-s*vp(c)]),e.point(u[0],u[1])}}function zi(e,t){(t=si(t))[0]-=e,fi(t);var n=$n(-t[1]);return((-t[2]<0?-n:n)+op-tp)%op}function qi(e,t,n,i){this.x=e,this.z=t,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function Hi(e){if(t=e.length){for(var t,n,i=0,r=e[0];++i<t;)r.n=n=e[i],n.p=r,r=n;r.n=n=e[0],n.p=r}}function Bi(e,t,n,i){function r(r,o){return e<=r&&r<=n&&t<=o&&o<=i}function o(r,o,s,u){var c=0,d=0;if(null==r||(c=a(r,s))!==(d=a(o,s))||l(r,o)<0^s>0)do{u.point(0===c||3===c?e:n,c>1?i:t)}while((c=(c+s+4)%4)!==d);else u.point(o[0],o[1])}function a(i,r){return lp(i[0]-e)<tp?r>0?0:3:lp(i[0]-n)<tp?r>0?2:1:lp(i[1]-t)<tp?r>0?1:0:r>0?3:2}function s(e,t){return l(e.x,t.x)}function l(e,t){var n=a(e,1),i=a(t,1);return n!==i?n-i:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}return function(a){function l(e,t){r(e,t)&&C.point(e,t)}function u(){for(var t=0,n=0,r=f.length;n<r;++n)for(var o,a,s=f[n],l=1,u=s.length,c=s[0],d=c[0],h=c[1];l<u;++l)o=d,a=h,d=(c=s[l])[0],h=c[1],a<=i?h>i&&(d-o)*(i-a)>(h-a)*(e-o)&&++t:h<=i&&(d-o)*(i-a)<(h-a)*(e-o)&&--t;return t}function c(o,a){var s=r(o,a);if(f&&h.push([o,a]),x)p=o,g=a,v=s,x=!1,s&&(C.lineStart(),C.point(o,a));else if(s&&y)C.point(o,a);else{var l=[m=Math.max(Xp,Math.min(Yp,m)),b=Math.max(Xp,Math.min(Yp,b))],u=[o=Math.max(Xp,Math.min(Yp,o)),a=Math.max(Xp,Math.min(Yp,a))];Wp(l,u,e,t,n,i)?(y||(C.lineStart(),C.point(l[0],l[1])),C.point(u[0],u[1]),s||C.lineEnd(),w=!1):s&&(C.lineStart(),C.point(o,a),w=!1)}m=o,b=a,y=s}var d,f,h,p,g,v,m,b,y,x,w,C=a,S=Vp(),_={point:l,lineStart:function(){_.point=c,f&&f.push(h=[]),x=!0,y=!1,m=b=NaN},lineEnd:function(){d&&(c(p,g),v&&y&&S.rejoin(),d.push(S.result())),_.point=l,y&&C.lineEnd()},polygonStart:function(){C=S,d=[],f=[],w=!0},polygonEnd:function(){var e=u(),t=w&&e,n=(d=Du(d)).length;(t||n)&&(a.polygonStart(),t&&(a.lineStart(),o(null,null,1,a),a.lineEnd()),n&&Gp(d,s,e,o,a),a.polygonEnd()),C=a,d=f=h=null}};return _}}function Vi(){Zp.point=Zp.lineEnd=Zn}function Wi(e,t){Ep=e*=sp,Rp=vp(t*=sp),Ip=dp(t),Zp.point=Ui}function Ui(e,t){e*=sp;var n=vp(t*=sp),i=dp(t),r=lp(e-Ep),o=dp(r),a=i*vp(r),s=Ip*n-Rp*i*o,l=Rp*n+Ip*i*o;Qp.add(cp(bp(a*a+s*s),l)),Ep=e,Rp=n,Ip=i}function Gi(e,t){return!(!e||!rg.hasOwnProperty(e.type))&&rg[e.type](e,t)}function Yi(e,t){return 0===ng(e,t)}function Xi(e,t){var n=ng(e[0],e[1]);return ng(e[0],t)+ng(t,e[1])<=n+tp}function $i(e,t){return!!Jp(e.map(Ji),Qi(t))}function Ji(e){return(e=e.map(Qi)).pop(),e}function Qi(e){return[e[0]*sp,e[1]*sp]}function Zi(e,t,n){var i=Su(e,t-tp,n).concat(t);return function(e){return i.map(function(t){return[e,t]})}}function Ki(e,t,n){var i=Su(e,t-tp,n).concat(t);return function(e){return i.map(function(t){return[t,e]})}}function er(){function e(){return{type:"MultiLineString",coordinates:t()}}function t(){return Su(fp(o/v)*v,r,v).map(f).concat(Su(fp(u/m)*m,l,m).map(h)).concat(Su(fp(i/p)*p,n,p).filter(function(e){return lp(e%v)>tp}).map(c)).concat(Su(fp(s/g)*g,a,g).filter(function(e){return lp(e%m)>tp}).map(d))}var n,i,r,o,a,s,l,u,c,d,f,h,p=10,g=p,v=90,m=360,b=2.5;return e.lines=function(){return t().map(function(e){return{type:"LineString",coordinates:e}})},e.outline=function(){return{type:"Polygon",coordinates:[f(o).concat(h(l).slice(1),f(r).reverse().slice(1),h(u).reverse().slice(1))]}},e.extent=function(t){return arguments.length?e.extentMajor(t).extentMinor(t):e.extentMinor()},e.extentMajor=function(t){return arguments.length?(o=+t[0][0],r=+t[1][0],u=+t[0][1],l=+t[1][1],o>r&&(t=o,o=r,r=t),u>l&&(t=u,u=l,l=t),e.precision(b)):[[o,u],[r,l]]},e.extentMinor=function(t){return arguments.length?(i=+t[0][0],n=+t[1][0],s=+t[0][1],a=+t[1][1],i>n&&(t=i,i=n,n=t),s>a&&(t=s,s=a,a=t),e.precision(b)):[[i,s],[n,a]]},e.step=function(t){return arguments.length?e.stepMajor(t).stepMinor(t):e.stepMinor()},e.stepMajor=function(t){return arguments.length?(v=+t[0],m=+t[1],e):[v,m]},e.stepMinor=function(t){return arguments.length?(p=+t[0],g=+t[1],e):[p,g]},e.precision=function(t){return arguments.length?(b=+t,c=Zi(s,a,90),d=Ki(i,n,b),f=Zi(u,l,90),h=Ki(o,r,b),e):b},e.extentMajor([[-180,-90+tp],[180,90-tp]]).extentMinor([[-180,-80-tp],[180,80+tp]])}function tr(){lg.point=nr}function nr(e,t){lg.point=ir,Fp=Np=e,Lp=Op=t}function ir(e,t){sg.add(Op*e-Np*t),Np=e,Op=t}function rr(){ir(Fp,Lp)}function or(e,t){pg+=e,gg+=t,++vg}function ar(){Sg.point=sr}function sr(e,t){Sg.point=lr,or(qp=e,Hp=t)}function lr(e,t){var n=e-qp,i=t-Hp,r=bp(n*n+i*i);mg+=r*(qp+e)/2,bg+=r*(Hp+t)/2,yg+=r,or(qp=e,Hp=t)}function ur(){Sg.point=or}function cr(){Sg.point=fr}function dr(){hr(jp,zp)}function fr(e,t){Sg.point=hr,or(jp=qp=e,zp=Hp=t)}function hr(e,t){var n=e-qp,i=t-Hp,r=bp(n*n+i*i);mg+=r*(qp+e)/2,bg+=r*(Hp+t)/2,yg+=r,xg+=(r=Hp*e-qp*t)*(qp+e),wg+=r*(Hp+t),Cg+=3*r,or(qp=e,Hp=t)}function pr(e){this._context=e}function gr(e,t){Dg.point=vr,kg=Mg=e,Tg=Ag=t}function vr(e,t){Mg-=e,Ag-=t,Pg.add(bp(Mg*Mg+Ag*Ag)),Mg=e,Ag=t}function mr(){this._string=[]}function br(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function yr(e){return e.length>1}function xr(e,t){return((e=e.x)[0]<0?e[1]-ip-tp:ip-e[1])-((t=t.x)[0]<0?t[1]-ip-tp:ip-t[1])}function wr(e,t,n,i){var r,o,a=vp(e-n);return lp(a)>tp?up((vp(t)*(o=dp(i))*vp(n)-vp(i)*(r=dp(t))*vp(e))/(r*o*a)):(t+i)/2}function Cr(e){return function(t){var n=new Sr;for(var i in e)n[i]=e[i];return n.stream=t,n}}function Sr(){}function _r(e,t,n){var i=t[1][0]-t[0][0],r=t[1][1]-t[0][1],o=e.clipExtent&&e.clipExtent();e.scale(150).translate([0,0]),null!=o&&e.clipExtent(null),Cp(n,e.stream(hg));var a=hg.result(),s=Math.min(i/(a[1][0]-a[0][0]),r/(a[1][1]-a[0][1])),l=+t[0][0]+(i-s*(a[1][0]+a[0][0]))/2,u=+t[0][1]+(r-s*(a[1][1]+a[0][1]))/2;return null!=o&&e.clipExtent(o),e.scale(150*s).translate([l,u])}function kr(e,t,n){return _r(e,[[0,0],t],n)}function Tr(e){return Cr({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}function Mr(e,t){function n(i,r,o,a,s,l,u,c,d,f,h,p,g,v){var m=u-i,b=c-r,y=m*m+b*b;if(y>4*t&&g--){var x=a+f,w=s+h,C=l+p,S=bp(x*x+w*w+C*C),_=Jn(C/=S),k=lp(lp(C)-1)<tp||lp(o-d)<tp?(o+d)/2:cp(w,x),T=e(k,_),M=T[0],A=T[1],P=M-i,D=A-r,E=b*P-m*D;(E*E/y>t||lp((m*P+b*D)/y-.5)>.3||a*f+s*h+l*p<Lg)&&(n(i,r,o,a,s,l,M,A,k,x/=S,w/=S,C,g,v),v.point(M,A),n(M,A,k,x,w,C,u,c,d,f,h,p,g,v))}}return function(t){function i(n,i){n=e(n,i),t.point(n[0],n[1])}function r(){m=NaN,C.point=o,t.lineStart()}function o(i,r){var o=si([i,r]),a=e(i,r);n(m,b,v,y,x,w,m=a[0],b=a[1],v=i,y=o[0],x=o[1],w=o[2],Fg,t),t.point(m,b)}function a(){C.point=i,t.lineEnd()}function s(){r(),C.point=l,C.lineEnd=u}function l(e,t){o(c=e,t),d=m,f=b,h=y,p=x,g=w,C.point=o}function u(){n(m,b,v,y,x,w,d,f,c,h,p,g,Fg,t),C.lineEnd=a,a()}var c,d,f,h,p,g,v,m,b,y,x,w,C={point:i,lineStart:r,lineEnd:a,polygonStart:function(){t.polygonStart(),C.lineStart=s},polygonEnd:function(){t.polygonEnd(),C.lineStart=r}};return C}}function Ar(e){return Pr(function(){return e})()}function Pr(e){function t(e){return e=c(e[0]*sp,e[1]*sp),[e[0]*v+s,l-e[1]*v]}function n(e){return(e=c.invert((e[0]-s)/v,(l-e[1])/v))&&[e[0]*ap,e[1]*ap]}function i(e,t){return e=a(e,t),[e[0]*v+s,l-e[1]*v]}function r(){c=Dp(u=Fi(w,C,S),a);var e=a(y,x);return s=m-e[0]*v,l=b+e[1]*v,o()}function o(){return p=g=null,t}var a,s,l,u,c,d,f,h,p,g,v=150,m=480,b=250,y=0,x=0,w=0,C=0,S=0,_=null,k=Rg,T=null,M=og,A=.5,P=Ng(i,A);return t.stream=function(e){return p&&g===e?p:p=Og(k(u,P(M(g=e))))},t.clipAngle=function(e){return arguments.length?(k=+e?Ig(_=e*sp,6*sp):(_=null,Rg),o()):_*ap},t.clipExtent=function(e){return arguments.length?(M=null==e?(T=d=f=h=null,og):Bi(T=+e[0][0],d=+e[0][1],f=+e[1][0],h=+e[1][1]),o()):null==T?null:[[T,d],[f,h]]},t.scale=function(e){return arguments.length?(v=+e,r()):v},t.translate=function(e){return arguments.length?(m=+e[0],b=+e[1],r()):[m,b]},t.center=function(e){return arguments.length?(y=e[0]%360*sp,x=e[1]%360*sp,r()):[y*ap,x*ap]},t.rotate=function(e){return arguments.length?(w=e[0]%360*sp,C=e[1]%360*sp,S=e.length>2?e[2]%360*sp:0,r()):[w*ap,C*ap,S*ap]},t.precision=function(e){return arguments.length?(P=Ng(i,A=e*e),o()):bp(A)},t.fitExtent=function(e,n){return _r(t,e,n)},t.fitSize=function(e,n){return kr(t,e,n)},function(){return a=e.apply(this,arguments),t.invert=a.invert&&n,r()}}function Dr(e){var t=0,n=np/3,i=Pr(e),r=i(t,n);return r.parallels=function(e){return arguments.length?i(t=e[0]*sp,n=e[1]*sp):[t*ap,n*ap]},r}function Er(e){function t(e,t){return[e*n,vp(t)/n]}var n=dp(e);return t.invert=function(e,t){return[e/n,Jn(t*n)]},t}function Rr(e,t){function n(e,t){var n=bp(o-2*r*vp(t))/r;return[n*vp(e*=r),a-n*dp(e)]}var i=vp(e),r=(i+vp(t))/2;if(lp(r)<tp)return Er(e);var o=1+i*(2*r-i),a=bp(o)/r;return n.invert=function(e,t){var n=a-t;return[cp(e,lp(n))/r*mp(n),Jn((o-(e*e+n*n)*r*r)/(2*r))]},n}function Ir(e){var t=e.length;return{point:function(n,i){for(var r=-1;++r<t;)e[r].point(n,i)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}function Fr(e){return function(t,n){var i=dp(t),r=dp(n),o=e(i*r);return[o*r*vp(t),o*vp(n)]}}function Lr(e){return function(t,n){var i=bp(t*t+n*n),r=e(i),o=vp(r),a=dp(r);return[cp(t*o,i*a),Jn(i&&n*o/i)]}}function Nr(e,t){return[e,pp(yp((ip+t)/2))]}function Or(e){function t(){var t=np*s(),a=o(Bp(o.rotate()).invert([0,0]));return u(null==c?[[a[0]-t,a[1]-t],[a[0]+t,a[1]+t]]:e===Nr?[[Math.max(a[0]-t,c),n],[Math.min(a[0]+t,i),r]]:[[c,Math.max(a[1]-t,n)],[i,Math.min(a[1]+t,r)]])}var n,i,r,o=Ar(e),a=o.center,s=o.scale,l=o.translate,u=o.clipExtent,c=null;return o.scale=function(e){return arguments.length?(s(e),t()):s()},o.translate=function(e){return arguments.length?(l(e),t()):l()},o.center=function(e){return arguments.length?(a(e),t()):a()},o.clipExtent=function(e){return arguments.length?(null==e?c=n=i=r=null:(c=+e[0][0],n=+e[0][1],i=+e[1][0],r=+e[1][1]),t()):null==c?null:[[c,n],[i,r]]},t()}function jr(e){return yp((ip+e)/2)}function zr(e,t){function n(e,t){o>0?t<-ip+tp&&(t=-ip+tp):t>ip-tp&&(t=ip-tp);var n=o/gp(jr(t),r);return[n*vp(r*e),o-n*dp(r*e)]}var i=dp(e),r=e===t?vp(e):pp(i/dp(t))/pp(jr(t)/jr(e)),o=i*gp(jr(e),r)/r;return r?(n.invert=function(e,t){var n=o-t,i=mp(r)*bp(e*e+n*n);return[cp(e,lp(n))/r*mp(n),2*up(gp(o/i,1/r))-ip]},n):Nr}function qr(e,t){return[e,t]}function Hr(e,t){function n(e,t){var n=o-t,i=r*e;return[n*vp(i),o-n*dp(i)]}var i=dp(e),r=e===t?vp(e):(i-dp(t))/(t-e),o=i/r+e;return lp(r)<tp?qr:(n.invert=function(e,t){var n=o-t;return[cp(e,lp(n))/r*mp(n),o-mp(r)*bp(e*e+n*n)]},n)}function Br(e,t){var n=dp(t),i=dp(e)*n;return[n*vp(e)/i,vp(t)/i]}function Vr(e,t,n,i){return 1===e&&1===t&&0===n&&0===i?og:Cr({point:function(r,o){this.stream.point(r*e+n,o*t+i)}})}function Wr(e,t){return[dp(t)*vp(e),vp(t)]}function Ur(e,t){var n=dp(t),i=1+dp(e)*n;return[n*vp(e)/i,vp(t)/i]}function Gr(e,t){return[pp(yp((ip+t)/2)),-e]}function Yr(e,t){return e.parent===t.parent?1:2}function Xr(e){return e.reduce($r,0)/e.length}function $r(e,t){return e+t.x}function Jr(e){return 1+e.reduce(Qr,0)}function Qr(e,t){return Math.max(e,t.y)}function Zr(e){for(var t;t=e.children;)e=t[0];return e}function Kr(e){for(var t;t=e.children;)e=t[t.length-1];return e}function eo(e){var t=0,n=e.children,i=n&&n.length;if(i)for(;--i>=0;)t+=n[i].value;else t=1;e.value=t}function to(e,t){if(e===t)return e;var n=e.ancestors(),i=t.ancestors(),r=null;for(e=n.pop(),t=i.pop();e===t;)r=e,e=n.pop(),t=i.pop();return r}function no(e,t){var n,i,r,o,a,s=new ao(e),l=+e.value&&(s.value=e.value),u=[s];for(null==t&&(t=io);n=u.pop();)if(l&&(n.value=+n.data.value),(r=t(n.data))&&(a=r.length))for(n.children=new Array(a),o=a-1;o>=0;--o)u.push(i=n.children[o]=new ao(r[o])),i.parent=n,i.depth=n.depth+1;return s.eachBefore(oo)}function io(e){return e.children}function ro(e){e.data=e.data.data}function oo(e){var t=0;do{e.height=t}while((e=e.parent)&&e.height<++t)}function ao(e){this.data=e,this.depth=this.height=0,this.parent=null}function so(e){for(var t,n,i=e.length;i;)n=Math.random()*i--|0,t=e[i],e[i]=e[n],e[n]=t;return e}function lo(e,t){var n,i;if(fo(t,e))return[t];for(n=0;n<e.length;++n)if(uo(t,e[n])&&fo(go(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(i=n+1;i<e.length;++i)if(uo(go(e[n],e[i]),t)&&uo(go(e[n],t),e[i])&&uo(go(e[i],t),e[n])&&fo(vo(e[n],e[i],t),e))return[e[n],e[i],t];throw new Error}function uo(e,t){var n=e.r-t.r,i=t.x-e.x,r=t.y-e.y;return n<0||n*n<i*i+r*r}function co(e,t){var n=e.r-t.r+1e-6,i=t.x-e.x,r=t.y-e.y;return n>0&&n*n>i*i+r*r}function fo(e,t){for(var n=0;n<t.length;++n)if(!co(e,t[n]))return!1;return!0}function ho(e){switch(e.length){case 1:return po(e[0]);case 2:return go(e[0],e[1]);case 3:return vo(e[0],e[1],e[2])}}function po(e){return{x:e.x,y:e.y,r:e.r}}function go(e,t){var n=e.x,i=e.y,r=e.r,o=t.x,a=t.y,s=t.r,l=o-n,u=a-i,c=s-r,d=Math.sqrt(l*l+u*u);return{x:(n+o+l/d*c)/2,y:(i+a+u/d*c)/2,r:(d+r+s)/2}}function vo(e,t,n){var i=e.x,r=e.y,o=e.r,a=t.x,s=t.y,l=t.r,u=n.x,c=n.y,d=n.r,f=i-a,h=i-u,p=r-s,g=r-c,v=l-o,m=d-o,b=i*i+r*r-o*o,y=b-a*a-s*s+l*l,x=b-u*u-c*c+d*d,w=h*p-f*g,C=(p*x-g*y)/(2*w)-i,S=(g*v-p*m)/w,_=(h*y-f*x)/(2*w)-r,k=(f*m-h*v)/w,T=S*S+k*k-1,M=2*(o+C*S+_*k),A=C*C+_*_-o*o,P=-(T?(M+Math.sqrt(M*M-4*T*A))/(2*T):A/M);return{x:i+C+S*P,y:r+_+k*P,r:P}}function mo(e,t,n){var i=e.x,r=e.y,o=t.r+n.r,a=e.r+n.r,s=t.x-i,l=t.y-r,u=s*s+l*l;if(u){var c=.5+((a*=a)-(o*=o))/(2*u),d=Math.sqrt(Math.max(0,2*o*(a+u)-(a-=u)*a-o*o))/(2*u);n.x=i+c*s+d*l,n.y=r+c*l-d*s}else n.x=i+a,n.y=r}function bo(e,t){var n=t.x-e.x,i=t.y-e.y,r=e.r+t.r;return r*r-1e-6>n*n+i*i}function yo(e){var t=e._,n=e.next._,i=t.r+n.r,r=(t.x*n.r+n.x*t.r)/i,o=(t.y*n.r+n.y*t.r)/i;return r*r+o*o}function xo(e){this._=e,this.next=null,this.previous=null}function wo(e){if(!(r=e.length))return 0;var t,n,i,r,o,a,s,l,u,c,d;if(t=e[0],t.x=0,t.y=0,!(r>1))return t.r;if(n=e[1],t.x=-n.r,n.x=t.r,n.y=0,!(r>2))return t.r+n.r;mo(n,t,i=e[2]),t=new xo(t),n=new xo(n),i=new xo(i),t.next=i.previous=n,n.next=t.previous=i,i.next=n.previous=t;e:for(s=3;s<r;++s){mo(t._,n._,i=e[s]),i=new xo(i),l=n.next,u=t.previous,c=n._.r,d=t._.r;do{if(c<=d){if(bo(l._,i._)){n=l,t.next=n,n.previous=t,--s;continue e}c+=l._.r,l=l.next}else{if(bo(u._,i._)){(t=u).next=n,n.previous=t,--s;continue e}d+=u._.r,u=u.previous}}while(l!==u.next);for(i.previous=t,i.next=n,t.next=n.previous=n=i,o=yo(t);(i=i.next)!==n;)(a=yo(i))<o&&(t=i,o=a);n=t.next}for(t=[n._],i=n;(i=i.next)!==n;)t.push(i._);for(i=Vg(t),s=0;s<r;++s)t=e[s],t.x-=i.x,t.y-=i.y;return i.r}function Co(e){return null==e?null:So(e)}function So(e){if("function"!=typeof e)throw new Error;return e}function _o(){return 0}function ko(e){return Math.sqrt(e.value)}function To(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function Mo(e,t){return function(n){if(i=n.children){var i,r,o,a=i.length,s=e(n)*t||0;if(s)for(r=0;r<a;++r)i[r].r+=s;if(o=wo(i),s)for(r=0;r<a;++r)i[r].r-=s;n.r=o+s}}}function Ao(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}function Po(e){return e.id}function Do(e){return e.parentId}function Eo(e,t){return e.parent===t.parent?1:2}function Ro(e){var t=e.children;return t?t[0]:e.t}function Io(e){var t=e.children;return t?t[t.length-1]:e.t}function Fo(e,t,n){var i=n/(t.i-e.i);t.c-=i,t.s+=n,e.c+=i,t.z+=n,t.m+=n}function Lo(e){for(var t,n=0,i=0,r=e.children,o=r.length;--o>=0;)(t=r[o]).z+=n,t.m+=n,n+=t.s+(i+=t.c)}function No(e,t,n){return e.a.parent===t.parent?e.a:n}function Oo(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}function jo(e){for(var t,n,i,r,o,a=new Oo(e,0),s=[a];t=s.pop();)if(i=t._.children)for(t.children=new Array(o=i.length),r=o-1;r>=0;--r)s.push(n=t.children[r]=new Oo(i[r],r)),n.parent=t;return(a.parent=new Oo(null,0)).children=[a],a}function zo(e,t,n,i,r,o){for(var a,s,l,u,c,d,f,h,p,g,v,m=[],b=t.children,y=0,x=0,w=b.length,C=t.value;y<w;){l=r-n,u=o-i;do{c=b[x++].value}while(!c&&x<w);for(d=f=c,v=c*c*(g=Math.max(u/l,l/u)/(C*e)),p=Math.max(f/v,v/d);x<w;++x){if(c+=s=b[x].value,s<d&&(d=s),s>f&&(f=s),v=c*c*g,(h=Math.max(f/v,v/d))>p){c-=s;break}p=h}m.push(a={value:c,dice:l<u,children:b.slice(y,x)}),a.dice?Gg(a,n,i,r,C?i+=u*c/C:o):Jg(a,n,i,C?n+=l*c/C:r,o),C-=c,y=x}return m}function qo(e,t){return e[0]-t[0]||e[1]-t[1]}function Ho(e){for(var t=e.length,n=[0,1],i=2,r=2;r<t;++r){for(;i>1&&ev(e[n[i-2]],e[n[i-1]],e[r])<=0;)--i;n[i++]=r}return n.slice(0,i)}function Bo(e){this._size=e,this._call=this._error=null,this._tasks=[],this._data=[],this._waiting=this._active=this._ended=this._start=0}function Vo(e){if(!e._start)try{Wo(e)}catch(t){if(e._tasks[e._ended+e._active-1])Go(e,t);else if(!e._data)throw t}}function Wo(e){for(;e._start=e._waiting&&e._active<e._size;){var t=e._ended+e._active,n=e._tasks[t],i=n.length-1,r=n[i];n[i]=Uo(e,t),--e._waiting,++e._active,n=r.apply(null,n),e._tasks[t]&&(e._tasks[t]=n||nv)}}function Uo(e,t){return function(n,i){e._tasks[t]&&(--e._active,++e._ended,e._tasks[t]=null,null==e._error&&(null!=n?Go(e,n):(e._data[t]=i,e._waiting?Vo(e):Yo(e))))}}function Go(e,t){var n,i=e._tasks.length;for(e._error=t,e._data=void 0,e._waiting=NaN;--i>=0;)if((n=e._tasks[i])&&(e._tasks[i]=null,n.abort))try{n.abort()}catch(t){}e._active=NaN,Yo(e)}function Yo(e){if(!e._active&&e._call){var t=e._data;e._data=void 0,e._call(e._error,t)}}function Xo(e){if(null==e)e=1/0;else if(!((e=+e)>=1))throw new Error("invalid concurrency");return new Bo(e)}function $o(e){return function(t,n){e(null==t?n:null)}}function Jo(e){var t=e.responseType;return t&&"text"!==t?e.response:e.responseText}function Qo(e,t){return function(n){return e(n.responseText,t)}}function Zo(e){function t(t){var o=t+"",a=n.get(o);if(!a){if(r!==Cv)return r;n.set(o,a=i.push(t))}return e[(a-1)%e.length]}var n=Cn(),i=[],r=Cv;return e=null==e?[]:wv.call(e),t.domain=function(e){if(!arguments.length)return i.slice();i=[],n=Cn();for(var r,o,a=-1,s=e.length;++a<s;)n.has(o=(r=e[a])+"")||n.set(o,i.push(r));return t},t.range=function(n){return arguments.length?(e=wv.call(n),t):e.slice()},t.unknown=function(e){return arguments.length?(r=e,t):r},t.copy=function(){return Zo().domain(i).range(e).unknown(r)},t}function Ko(){function e(){var e=r().length,i=a[1]<a[0],d=a[i-0],f=a[1-i];t=(f-d)/Math.max(1,e-l+2*u),s&&(t=Math.floor(t)),d+=(f-d-t*(e-l))*c,n=t*(1-l),s&&(d=Math.round(d),n=Math.round(n));var h=Su(e).map(function(e){return d+t*e});return o(i?h.reverse():h)}var t,n,i=Zo().unknown(void 0),r=i.domain,o=i.range,a=[0,1],s=!1,l=0,u=0,c=.5;return delete i.unknown,i.domain=function(t){return arguments.length?(r(t),e()):r()},i.range=function(t){return arguments.length?(a=[+t[0],+t[1]],e()):a.slice()},i.rangeRound=function(t){return a=[+t[0],+t[1]],s=!0,e()},i.bandwidth=function(){return n},i.step=function(){return t},i.round=function(t){return arguments.length?(s=!!t,e()):s},i.padding=function(t){return arguments.length?(l=u=Math.max(0,Math.min(1,t)),e()):l},i.paddingInner=function(t){return arguments.length?(l=Math.max(0,Math.min(1,t)),e()):l},i.paddingOuter=function(t){return arguments.length?(u=Math.max(0,Math.min(1,t)),e()):u},i.align=function(t){return arguments.length?(c=Math.max(0,Math.min(1,t)),e()):c},i.copy=function(){return Ko().domain(r()).range(a).round(s).paddingInner(l).paddingOuter(u).align(c)},e()}function ea(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return ea(t())},e}function ta(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Sv(t)}function na(e){return function(t,n){var i=e(t=+t,n=+n);return function(e){return e<=t?0:e>=n?1:i(e)}}}function ia(e){return function(t,n){var i=e(t=+t,n=+n);return function(e){return e<=0?t:e>=1?n:i(e)}}}function ra(e,t,n,i){var r=e[0],o=e[1],a=t[0],s=t[1];return o<r?(r=n(o,r),a=i(s,a)):(r=n(r,o),a=i(a,s)),function(e){return a(r(e))}}function oa(e,t,n,i){var r=Math.min(e.length,t.length)-1,o=new Array(r),a=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)o[s]=n(e[s],e[s+1]),a[s]=i(t[s],t[s+1]);return function(t){var n=fu(e,t,1,r)-1;return a[n](o[n](t))}}function aa(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp())}function sa(e,t){function n(){return r=Math.min(s.length,l.length)>2?oa:ra,o=a=null,i}function i(t){return(o||(o=r(s,l,c?na(e):e,u)))(+t)}var r,o,a,s=kv,l=kv,u=ad,c=!1;return i.invert=function(e){return(a||(a=r(l,s,ta,c?ia(t):t)))(+e)},i.domain=function(e){return arguments.length?(s=xv.call(e,_v),n()):s.slice()},i.range=function(e){return arguments.length?(l=wv.call(e),n()):l.slice()},i.rangeRound=function(e){return l=wv.call(e),u=sd,n()},i.clamp=function(e){return arguments.length?(c=!!e,n()):c},i.interpolate=function(e){return arguments.length?(u=e,n()):u},n()}function la(e){var t=e.domain;return e.ticks=function(e){var n=t();return Mu(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){return Tv(t(),e,n)},e.nice=function(n){null==n&&(n=10);var r,o=t(),a=0,s=o.length-1,l=o[a],u=o[s];return u<l&&(r=l,l=u,u=r,r=a,a=s,s=r),(r=i(l,u,n))>0?r=i(l=Math.floor(l/r)*r,u=Math.ceil(u/r)*r,n):r<0&&(r=i(l=Math.ceil(l*r)/r,u=Math.floor(u*r)/r,n)),r>0?(o[a]=Math.floor(l/r)*r,o[s]=Math.ceil(u/r)*r,t(o)):r<0&&(o[a]=Math.ceil(l*r)/r,o[s]=Math.floor(u*r)/r,t(o)),e},e}function ua(){var e=sa(ta,td);return e.copy=function(){return aa(e,ua())},la(e)}function ca(){function e(e){return+e}var t=[0,1];return e.invert=e,e.domain=e.range=function(n){return arguments.length?(t=xv.call(n,_v),e):t.slice()},e.copy=function(){return ca().domain(t)},la(e)}function da(e,t){return(t=Math.log(t/e))?function(n){return Math.log(n/e)/t}:Sv(t)}function fa(e,t){return e<0?function(n){return-Math.pow(-t,n)*Math.pow(-e,1-n)}:function(n){return Math.pow(t,n)*Math.pow(e,1-n)}}function ha(e){return isFinite(e)?+("1e"+e):e<0?0:e}function pa(e){return 10===e?ha:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}function ga(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}function va(e){return function(t){return-e(-t)}}function ma(){function t(){return o=ga(r),a=pa(r),i()[0]<0&&(o=va(o),a=va(a)),n}var n=sa(da,fa).domain([1,10]),i=n.domain,r=10,o=ga(10),a=pa(10);return n.base=function(e){return arguments.length?(r=+e,t()):r},n.domain=function(e){return arguments.length?(i(e),t()):i()},n.ticks=function(e){var t,n=i(),s=n[0],l=n[n.length-1];(t=l<s)&&(f=s,s=l,l=f);var u,c,d,f=o(s),h=o(l),p=null==e?10:+e,g=[];if(!(r%1)&&h-f<p){if(f=Math.round(f)-1,h=Math.round(h)+1,s>0){for(;f<h;++f)for(c=1,u=a(f);c<r;++c)if(!((d=u*c)<s)){if(d>l)break;g.push(d)}}else for(;f<h;++f)for(c=r-1,u=a(f);c>=1;--c)if(!((d=u*c)<s)){if(d>l)break;g.push(d)}}else g=Mu(f,h,Math.min(h-f,p)).map(a);return t?g.reverse():g},n.tickFormat=function(t,i){if(null==i&&(i=10===r?".0e":","),"function"!=typeof i&&(i=e.format(i)),t===1/0)return i;null==t&&(t=10);var s=Math.max(1,r*t/n.ticks().length);return function(e){var t=e/a(Math.round(o(e)));return t*r<r-.5&&(t*=r),t<=s?i(e):""}},n.nice=function(){return i(Mv(i(),{floor:function(e){return a(Math.floor(o(e)))},ceil:function(e){return a(Math.ceil(o(e)))}}))},n.copy=function(){return aa(n,ma().base(r))},n}function ba(e,t){return e<0?-Math.pow(-e,t):Math.pow(e,t)}function ya(){var e=1,t=sa(function(t,n){return(n=ba(n,e)-(t=ba(t,e)))?function(i){return(ba(i,e)-t)/n}:Sv(n)},function(t,n){return n=ba(n,e)-(t=ba(t,e)),function(i){return ba(t+n*i,1/e)}}),n=t.domain;return t.exponent=function(t){return arguments.length?(e=+t,n(n())):e},t.copy=function(){return aa(t,ya().exponent(e))},la(t)}function xa(){function e(){var e=0,o=Math.max(1,i.length);for(r=new Array(o-1);++e<o;)r[e-1]=Pu(n,e/o);return t}function t(e){if(!isNaN(e=+e))return i[fu(r,e)]}var n=[],i=[],r=[];return t.invertExtent=function(e){var t=i.indexOf(e);return t<0?[NaN,NaN]:[t>0?r[t-1]:n[0],t<r.length?r[t]:n[n.length-1]]},t.domain=function(t){if(!arguments.length)return n.slice();n=[];for(var i,r=0,o=t.length;r<o;++r)null==(i=t[r])||isNaN(i=+i)||n.push(i);return n.sort(uu),e()},t.range=function(t){return arguments.length?(i=wv.call(t),e()):i.slice()},t.quantiles=function(){return r.slice()},t.copy=function(){return xa().domain(n).range(i)},t}function wa(){function e(e){if(e<=e)return a[fu(o,e,0,r)]}function t(){var t=-1;for(o=new Array(r);++t<r;)o[t]=((t+1)*i-(t-r)*n)/(r+1);return e}var n=0,i=1,r=1,o=[.5],a=[0,1];return e.domain=function(e){return arguments.length?(n=+e[0],i=+e[1],t()):[n,i]},e.range=function(e){return arguments.length?(r=(a=wv.call(e)).length-1,t()):a.slice()},e.invertExtent=function(e){var t=a.indexOf(e);return t<0?[NaN,NaN]:t<1?[n,o[0]]:t>=r?[o[r-1],i]:[o[t-1],o[t]]},e.copy=function(){return wa().domain([n,i]).range(a)},la(e)}function Ca(){function e(e){if(e<=e)return n[fu(t,e,0,i)]}var t=[.5],n=[0,1],i=1;return e.domain=function(r){return arguments.length?(t=wv.call(r),i=Math.min(t.length,n.length-1),e):t.slice()},e.range=function(r){return arguments.length?(n=wv.call(r),i=Math.min(t.length,n.length-1),e):n.slice()},e.invertExtent=function(e){var i=n.indexOf(e);return[t[i-1],t[i]]},e.copy=function(){return Ca().domain(t).range(n)},e}function Sa(e,t,n,i){function r(t){return e(t=new Date(+t)),t}return r.floor=r,r.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},r.round=function(e){var t=r(e),n=r.ceil(e);return e-t<n-e?t:n},r.offset=function(e,n){return t(e=new Date(+e),null==n?1:Math.floor(n)),e},r.range=function(n,i,o){var a=[];if(n=r.ceil(n),o=null==o?1:Math.floor(o),!(n<i&&o>0))return a;do{a.push(new Date(+n))}while(t(n,o),e(n),n<i);return a},r.filter=function(n){return Sa(function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)},function(e,i){if(e>=e)if(i<0)for(;++i<=0;)for(;t(e,-1),!n(e););else for(;--i>=0;)for(;t(e,1),!n(e););})},n&&(r.count=function(t,i){return Av.setTime(+t),Pv.setTime(+i),e(Av),e(Pv),Math.floor(n(Av,Pv))},r.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?r.filter(i?function(t){return i(t)%e==0}:function(t){return r.count(0,t)%e==0}):r:null}),r}function _a(e){return Sa(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+7*t)},function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Rv)/Iv})}function ka(e){return Sa(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+7*t)},function(e,t){return(t-e)/Iv})}function Ta(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Ma(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Aa(e){return{y:e,m:0,d:1,H:0,M:0,S:0,L:0}}function Pa(e){function t(e,t){return function(n){var i,r,o,a=[],s=-1,l=0,u=e.length;for(n instanceof Date||(n=new Date(+n));++s<u;)37===e.charCodeAt(s)&&(a.push(e.slice(l,s)),null!=(r=Em[i=e.charAt(++s)])?i=e.charAt(++s):r="e"===i?" ":"0",(o=t[i])&&(i=o(n,r)),a.push(i),l=s+1);return a.push(e.slice(l,s)),a.join("")}}function n(e,t){return function(n){var r=Aa(1900);if(i(r,e,n+="",0)!=n.length)return null;if("p"in r&&(r.H=r.H%12+12*r.p),"W"in r||"U"in r){"w"in r||(r.w="W"in r?1:0);var o="Z"in r?Ma(Aa(r.y)).getUTCDay():t(Aa(r.y)).getDay();r.m=0,r.d="W"in r?(r.w+6)%7+7*r.W-(o+5)%7:r.w+7*r.U-(o+6)%7}return"Z"in r?(r.H+=r.Z/100|0,r.M+=r.Z%100,Ma(r)):t(r)}}function i(e,t,n,i){for(var r,o,a=0,s=t.length,l=n.length;a<s;){if(i>=l)return-1;if(37===(r=t.charCodeAt(a++))){if(r=t.charAt(a++),!(o=_[r in Em?t.charAt(a++):r])||(i=o(e,n,i))<0)return-1}else if(r!=n.charCodeAt(i++))return-1}return i}var r=e.dateTime,o=e.date,a=e.time,s=e.periods,l=e.days,u=e.shortDays,c=e.months,d=e.shortMonths,f=Ra(s),h=Ia(s),p=Ra(l),g=Ia(l),v=Ra(u),m=Ia(u),b=Ra(c),y=Ia(c),x=Ra(d),w=Ia(d),C={a:function(e){return u[e.getDay()]},A:function(e){return l[e.getDay()]},b:function(e){return d[e.getMonth()]},B:function(e){return c[e.getMonth()]},c:null,d:Xa,e:Xa,H:$a,I:Ja,j:Qa,L:Za,m:Ka,M:es,p:function(e){return s[+(e.getHours()>=12)]},S:ts,U:ns,w:is,W:rs,x:null,X:null,y:os,Y:as,Z:ss,"%":Cs},S={a:function(e){return u[e.getUTCDay()]},A:function(e){return l[e.getUTCDay()]},b:function(e){return d[e.getUTCMonth()]},B:function(e){return c[e.getUTCMonth()]},c:null,d:ls,e:ls,H:us,I:cs,j:ds,L:fs,m:hs,M:ps,p:function(e){return s[+(e.getUTCHours()>=12)]},S:gs,U:vs,w:ms,W:bs,x:null,X:null,y:ys,Y:xs,Z:ws,"%":Cs},_={a:function(e,t,n){var i=v.exec(t.slice(n));return i?(e.w=m[i[0].toLowerCase()],n+i[0].length):-1},A:function(e,t,n){var i=p.exec(t.slice(n));return i?(e.w=g[i[0].toLowerCase()],n+i[0].length):-1},b:function(e,t,n){var i=x.exec(t.slice(n));return i?(e.m=w[i[0].toLowerCase()],n+i[0].length):-1},B:function(e,t,n){var i=b.exec(t.slice(n));return i?(e.m=y[i[0].toLowerCase()],n+i[0].length):-1},c:function(e,t,n){return i(e,r,t,n)},d:Ha,e:Ha,H:Va,I:Va,j:Ba,L:Ga,m:qa,M:Wa,p:function(e,t,n){var i=f.exec(t.slice(n));return i?(e.p=h[i[0].toLowerCase()],n+i[0].length):-1},S:Ua,U:La,w:Fa,W:Na,x:function(e,t,n){return i(e,o,t,n)},X:function(e,t,n){return i(e,a,t,n)},y:ja,Y:Oa,Z:za,"%":Ya};return C.x=t(o,C),C.X=t(a,C),C.c=t(r,C),S.x=t(o,S),S.X=t(a,S),S.c=t(r,S),{format:function(e){var n=t(e+="",C);return n.toString=function(){return e},n},parse:function(e){var t=n(e+="",Ta);return t.toString=function(){return e},t},utcFormat:function(e){var n=t(e+="",S);return n.toString=function(){return e},n},utcParse:function(e){var t=n(e,Ma);return t.toString=function(){return e},t}}}function Da(e,t,n){var i=e<0?"-":"",r=(i?-e:e)+"",o=r.length;return i+(o<n?new Array(n-o+1).join(t)+r:r)}function Ea(e){return e.replace(Fm,"\\$&")}function Ra(e){return new RegExp("^(?:"+e.map(Ea).join("|")+")","i")}function Ia(e){for(var t={},n=-1,i=e.length;++n<i;)t[e[n].toLowerCase()]=n;return t}function Fa(e,t,n){var i=Rm.exec(t.slice(n,n+1));return i?(e.w=+i[0],n+i[0].length):-1}function La(e,t,n){var i=Rm.exec(t.slice(n));return i?(e.U=+i[0],n+i[0].length):-1}function Na(e,t,n){var i=Rm.exec(t.slice(n));return i?(e.W=+i[0],n+i[0].length):-1}function Oa(e,t,n){var i=Rm.exec(t.slice(n,n+4));return i?(e.y=+i[0],n+i[0].length):-1}function ja(e,t,n){var i=Rm.exec(t.slice(n,n+2));return i?(e.y=+i[0]+(+i[0]>68?1900:2e3),n+i[0].length):-1}function za(e,t,n){var i=/^(Z)|([+-]\d\d)(?:\:?(\d\d))?/.exec(t.slice(n,n+6));return i?(e.Z=i[1]?0:-(i[2]+(i[3]||"00")),n+i[0].length):-1}function qa(e,t,n){var i=Rm.exec(t.slice(n,n+2));return i?(e.m=i[0]-1,n+i[0].length):-1}function Ha(e,t,n){var i=Rm.exec(t.slice(n,n+2));return i?(e.d=+i[0],n+i[0].length):-1}function Ba(e,t,n){var i=Rm.exec(t.slice(n,n+3));return i?(e.m=0,e.d=+i[0],n+i[0].length):-1}function Va(e,t,n){var i=Rm.exec(t.slice(n,n+2));return i?(e.H=+i[0],n+i[0].length):-1}function Wa(e,t,n){var i=Rm.exec(t.slice(n,n+2));return i?(e.M=+i[0],n+i[0].length):-1}function Ua(e,t,n){var i=Rm.exec(t.slice(n,n+2));return i?(e.S=+i[0],n+i[0].length):-1}function Ga(e,t,n){var i=Rm.exec(t.slice(n,n+3));return i?(e.L=+i[0],n+i[0].length):-1}function Ya(e,t,n){var i=Im.exec(t.slice(n,n+1));return i?n+i[0].length:-1}function Xa(e,t){return Da(e.getDate(),t,2)}function $a(e,t){return Da(e.getHours(),t,2)}function Ja(e,t){return Da(e.getHours()%12||12,t,2)}function Qa(e,t){return Da(1+qv.count(rm(e),e),t,3)}function Za(e,t){return Da(e.getMilliseconds(),t,3)}function Ka(e,t){return Da(e.getMonth()+1,t,2)}function es(e,t){return Da(e.getMinutes(),t,2)}function ts(e,t){return Da(e.getSeconds(),t,2)}function ns(e,t){return Da(Bv.count(rm(e),e),t,2)}function is(e){return e.getDay()}function rs(e,t){return Da(Vv.count(rm(e),e),t,2)}function os(e,t){return Da(e.getFullYear()%100,t,2)}function as(e,t){return Da(e.getFullYear()%1e4,t,4)}function ss(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Da(t/60|0,"0",2)+Da(t%60,"0",2)}function ls(e,t){return Da(e.getUTCDate(),t,2)}function us(e,t){return Da(e.getUTCHours(),t,2)}function cs(e,t){return Da(e.getUTCHours()%12||12,t,2)}function ds(e,t){return Da(1+cm.count(Am(e),e),t,3)}function fs(e,t){return Da(e.getUTCMilliseconds(),t,3)}function hs(e,t){return Da(e.getUTCMonth()+1,t,2)}function ps(e,t){return Da(e.getUTCMinutes(),t,2)}function gs(e,t){return Da(e.getUTCSeconds(),t,2)}function vs(e,t){return Da(fm.count(Am(e),e),t,2)}function ms(e){return e.getUTCDay()}function bs(e,t){return Da(hm.count(Am(e),e),t,2)}function ys(e,t){return Da(e.getUTCFullYear()%100,t,2)}function xs(e,t){return Da(e.getUTCFullYear()%1e4,t,4)}function ws(){return"+0000"}function Cs(){return"%"}function Ss(t){return Pm=Pa(t),e.timeFormat=Pm.format,e.timeParse=Pm.parse,e.utcFormat=Pm.utcFormat,e.utcParse=Pm.utcParse,Pm}function _s(e){return new Date(e)}function ks(e){return e instanceof Date?+e:+new Date(+e)}function Ts(e,t,n,i,o,a,s,l,u){function c(r){return(s(r)<r?g:a(r)<r?v:o(r)<r?m:i(r)<r?b:t(r)<r?n(r)<r?y:x:e(r)<r?w:C)(r)}function d(t,n,i,o){if(null==t&&(t=10),"number"==typeof t){var a=Math.abs(i-n)/t,s=cu(function(e){return e[2]}).right(S,a);s===S.length?(o=r(n/Vm,i/Vm,t),t=e):s?(o=(s=S[a/S[s-1][2]<S[s][2]/a?s-1:s])[1],t=s[0]):(o=r(n,i,t),t=l)}return null==o?t:t.every(o)}var f=sa(ta,td),h=f.invert,p=f.domain,g=u(".%L"),v=u(":%S"),m=u("%I:%M"),b=u("%I %p"),y=u("%a %d"),x=u("%b %d"),w=u("%B"),C=u("%Y"),S=[[s,1,Om],[s,5,5*Om],[s,15,15*Om],[s,30,30*Om],[a,1,jm],[a,5,5*jm],[a,15,15*jm],[a,30,30*jm],[o,1,zm],[o,3,3*zm],[o,6,6*zm],[o,12,12*zm],[i,1,qm],[i,2,2*qm],[n,1,Hm],[t,1,Bm],[t,3,3*Bm],[e,1,Vm]];return f.invert=function(e){return new Date(h(e))},f.domain=function(e){return arguments.length?p(xv.call(e,ks)):p().map(_s)},f.ticks=function(e,t){var n,i=p(),r=i[0],o=i[i.length-1],a=o<r;return a&&(n=r,r=o,o=n),n=d(e,r,o,t),n=n?n.range(r,o+1):[],a?n.reverse():n},f.tickFormat=function(e,t){return null==t?c:u(t)},f.nice=function(e,t){var n=p();return(e=d(e,n[0],n[n.length-1],t))?p(Mv(n,e)):f},f.copy=function(){return aa(f,Ts(e,t,n,i,o,a,s,l,u))},f}function Ms(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}function As(e){function t(t){var o=(t-n)/(i-n);return e(r?Math.max(0,Math.min(1,o)):o)}var n=0,i=1,r=!1;return t.domain=function(e){return arguments.length?(n=+e[0],i=+e[1],t):[n,i]},t.clamp=function(e){return arguments.length?(r=!!e,t):r},t.interpolator=function(n){return arguments.length?(e=n,t):e},t.copy=function(){return As(e).domain([n,i]).clamp(r)},la(t)}function Ps(e){return e>1?0:e<-1?fb:Math.acos(e)}function Ds(e){return e>=1?hb:e<=-1?-hb:Math.asin(e)}function Es(e){return e.innerRadius}function Rs(e){return e.outerRadius}function Is(e){return e.startAngle}function Fs(e){return e.endAngle}function Ls(e){return e&&e.padAngle}function Ns(e,t,n,i,r,o,a,s){var l=n-e,u=i-t,c=a-r,d=s-o,f=(c*(t-o)-d*(e-r))/(d*l-c*u);return[e+f*l,t+f*u]}function Os(e,t,n,i,r,o,a){var s=e-n,l=t-i,u=(a?o:-o)/cb(s*s+l*l),c=u*l,d=-u*s,f=e+c,h=t+d,p=n+c,g=i+d,v=(f+p)/2,m=(h+g)/2,b=p-f,y=g-h,x=b*b+y*y,w=r-o,C=f*g-p*h,S=(y<0?-1:1)*cb(sb(0,w*w*x-C*C)),_=(C*y-b*S)/x,k=(-C*b-y*S)/x,T=(C*y+b*S)/x,M=(-C*b+y*S)/x,A=_-v,P=k-m,D=T-v,E=M-m;return A*A+P*P>D*D+E*E&&(_=T,k=M),{cx:_,cy:k,x01:-c,y01:-d,x11:_*(r/w-1),y11:k*(r/w-1)}}function js(e){this._context=e}function zs(e){return e[0]}function qs(e){return e[1]}function Hs(e){this._curve=e}function Bs(e){function t(t){return new Hs(e(t))}return t._curve=e,t}function Vs(e){var t=e.curve;return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e.curve=function(e){return arguments.length?t(Bs(e)):t()._curve},e}function Ws(e){return e.source}function Us(e){return e.target}function Gs(e){function t(){var t,s=_b.call(arguments),l=n.apply(this,s),u=i.apply(this,s);if(a||(a=t=gn()),e(a,+r.apply(this,(s[0]=l,s)),+o.apply(this,s),+r.apply(this,(s[0]=u,s)),+o.apply(this,s)),t)return a=null,t+""||null}var n=Ws,i=Us,r=zs,o=qs,a=null;return t.source=function(e){return arguments.length?(n=e,t):n},t.target=function(e){return arguments.length?(i=e,t):i},t.x=function(e){return arguments.length?(r="function"==typeof e?e:ib(+e),t):r},t.y=function(e){return arguments.length?(o="function"==typeof e?e:ib(+e),t):o},t.context=function(e){return arguments.length?(a=null==e?null:e,t):a},t}function Ys(e,t,n,i,r){e.moveTo(t,n),e.bezierCurveTo(t=(t+i)/2,n,t,r,i,r)}function Xs(e,t,n,i,r){e.moveTo(t,n),e.bezierCurveTo(t,n=(n+r)/2,i,n,i,r)}function $s(e,t,n,i,r){var o=Sb(t,n),a=Sb(t,n=(n+r)/2),s=Sb(i,n),l=Sb(i,r);e.moveTo(o[0],o[1]),e.bezierCurveTo(a[0],a[1],s[0],s[1],l[0],l[1])}function Js(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Qs(e){this._context=e}function Zs(e){this._context=e}function Ks(e){this._context=e}function el(e,t){this._basis=new Qs(e),this._beta=t}function tl(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function nl(e,t){this._context=e,this._k=(1-t)/6}function il(e,t){this._context=e,this._k=(1-t)/6}function rl(e,t){this._context=e,this._k=(1-t)/6}function ol(e,t,n){var i=e._x1,r=e._y1,o=e._x2,a=e._y2;if(e._l01_a>db){var s=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);i=(i*s-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,r=(r*s-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>db){var u=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,c=3*e._l23_a*(e._l23_a+e._l12_a);o=(o*u+e._x1*e._l23_2a-t*e._l12_2a)/c,a=(a*u+e._y1*e._l23_2a-n*e._l12_2a)/c}e._context.bezierCurveTo(i,r,o,a,e._x2,e._y2)}function al(e,t){this._context=e,this._alpha=t}function sl(e,t){this._context=e,this._alpha=t}function ll(e,t){this._context=e,this._alpha=t}function ul(e){this._context=e}function cl(e){return e<0?-1:1}function dl(e,t,n){var i=e._x1-e._x0,r=t-e._x1,o=(e._y1-e._y0)/(i||r<0&&-0),a=(n-e._y1)/(r||i<0&&-0),s=(o*r+a*i)/(i+r);return(cl(o)+cl(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function fl(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function hl(e,t,n){var i=e._x0,r=e._y0,o=e._x1,a=e._y1,s=(o-i)/3;e._context.bezierCurveTo(i+s,r+s*t,o-s,a-s*n,o,a)}function pl(e){this._context=e}function gl(e){this._context=new vl(e)}function vl(e){this._context=e}function ml(e){this._context=e}function bl(e){var t,n,i=e.length-1,r=new Array(i),o=new Array(i),a=new Array(i);for(r[0]=0,o[0]=2,a[0]=e[0]+2*e[1],t=1;t<i-1;++t)r[t]=1,o[t]=4,a[t]=4*e[t]+2*e[t+1];for(r[i-1]=2,o[i-1]=7,a[i-1]=8*e[i-1]+e[i],t=1;t<i;++t)n=r[t]/o[t-1],o[t]-=n,a[t]-=n*a[t-1];for(r[i-1]=a[i-1]/o[i-1],t=i-2;t>=0;--t)r[t]=(a[t]-r[t+1])/o[t];for(o[i-1]=(e[i]+r[i-1])/2,t=0;t<i-1;++t)o[t]=2*e[t+1]-r[t+1];return[r,o]}function yl(e,t){this._context=e,this._t=t}function xl(e,t){return e[t]}function wl(e){for(var t,n=0,i=-1,r=e.length;++i<r;)(t=+e[i][1])&&(n+=t);return n}function Cl(e){return e[0]}function Sl(e){return e[1]}function _l(){this._=null}function kl(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function Tl(e,t){var n=t,i=t.R,r=n.U;r?r.L===n?r.L=i:r.R=i:e._=i,i.U=r,n.U=i,n.R=i.L,n.R&&(n.R.U=n),i.L=n}function Ml(e,t){var n=t,i=t.L,r=n.U;r?r.L===n?r.L=i:r.R=i:e._=i,i.U=r,n.U=i,n.L=i.R,n.L&&(n.L.U=n),i.R=n}function Al(e){for(;e.L;)e=e.L;return e}function Pl(e,t,n,i){var r=[null,null],o=oy.push(r)-1;return r.left=e,r.right=t,n&&El(r,e,t,n),i&&El(r,t,e,i),iy[e.index].halfedges.push(o),iy[t.index].halfedges.push(o),r}function Dl(e,t,n){var i=[t,n];return i.left=e,i}function El(e,t,n,i){e[0]||e[1]?e.left===n?e[1]=i:e[0]=i:(e[0]=i,e.left=t,e.right=n)}function Rl(e,t,n,i,r){var o,a=e[0],s=e[1],l=a[0],u=a[1],c=0,d=1,f=s[0]-l,h=s[1]-u;if(o=t-l,f||!(o>0)){if(o/=f,f<0){if(o<c)return;o<d&&(d=o)}else if(f>0){if(o>d)return;o>c&&(c=o)}if(o=i-l,f||!(o<0)){if(o/=f,f<0){if(o>d)return;o>c&&(c=o)}else if(f>0){if(o<c)return;o<d&&(d=o)}if(o=n-u,h||!(o>0)){if(o/=h,h<0){if(o<c)return;o<d&&(d=o)}else if(h>0){if(o>d)return;o>c&&(c=o)}if(o=r-u,h||!(o<0)){if(o/=h,h<0){if(o>d)return;o>c&&(c=o)}else if(h>0){if(o<c)return;o<d&&(d=o)}return!(c>0||d<1)||(c>0&&(e[0]=[l+c*f,u+c*h]),d<1&&(e[1]=[l+d*f,u+d*h]),!0)}}}}}function Il(e,t,n,i,r){var o=e[1];if(o)return!0;var a,s,l=e[0],u=e.left,c=e.right,d=u[0],f=u[1],h=c[0],p=c[1],g=(d+h)/2,v=(f+p)/2;if(p===f){if(g<t||g>=i)return;if(d>h){if(l){if(l[1]>=r)return}else l=[g,n];o=[g,r]}else{if(l){if(l[1]<n)return}else l=[g,r];o=[g,n]}}else if(a=(d-h)/(p-f),s=v-a*g,a<-1||a>1)if(d>h){if(l){if(l[1]>=r)return}else l=[(n-s)/a,n];o=[(r-s)/a,r]}else{if(l){if(l[1]<n)return}else l=[(r-s)/a,r];o=[(n-s)/a,n]}else if(f<p){if(l){if(l[0]>=i)return}else l=[t,a*t+s];o=[i,a*i+s]}else{if(l){if(l[0]<t)return}else l=[i,a*i+s];o=[t,a*t+s]}return e[0]=l,e[1]=o,!0}function Fl(e,t,n,i){for(var r,o=oy.length;o--;)Il(r=oy[o],e,t,n,i)&&Rl(r,e,t,n,i)&&(Math.abs(r[0][0]-r[1][0])>ly||Math.abs(r[0][1]-r[1][1])>ly)||delete oy[o]}function Ll(e){return iy[e.index]={site:e,halfedges:[]}}function Nl(e,t){var n=e.site,i=t.left,r=t.right;return n===r&&(r=i,i=n),r?Math.atan2(r[1]-i[1],r[0]-i[0]):(n===i?(i=t[1],r=t[0]):(i=t[0],r=t[1]),Math.atan2(i[0]-r[0],r[1]-i[1]))}function Ol(e,t){return t[+(t.left!==e.site)]}function jl(e,t){return t[+(t.left===e.site)]}function zl(){for(var e,t,n,i,r=0,o=iy.length;r<o;++r)if((e=iy[r])&&(i=(t=e.halfedges).length)){var a=new Array(i),s=new Array(i);for(n=0;n<i;++n)a[n]=n,s[n]=Nl(e,oy[t[n]]);for(a.sort(function(e,t){return s[t]-s[e]}),n=0;n<i;++n)s[n]=t[a[n]];for(n=0;n<i;++n)t[n]=s[n]}}function ql(e,t,n,i){var r,o,a,s,l,u,c,d,f,h,p,g,v=iy.length,m=!0;for(r=0;r<v;++r)if(o=iy[r]){for(a=o.site,s=(l=o.halfedges).length;s--;)oy[l[s]]||l.splice(s,1);for(s=0,u=l.length;s<u;)p=(h=jl(o,oy[l[s]]))[0],g=h[1],d=(c=Ol(o,oy[l[++s%u]]))[0],f=c[1],(Math.abs(p-d)>ly||Math.abs(g-f)>ly)&&(l.splice(s,0,oy.push(Dl(a,h,Math.abs(p-e)<ly&&i-g>ly?[e,Math.abs(d-e)<ly?f:i]:Math.abs(g-i)<ly&&n-p>ly?[Math.abs(f-i)<ly?d:n,i]:Math.abs(p-n)<ly&&g-t>ly?[n,Math.abs(d-n)<ly?f:t]:Math.abs(g-t)<ly&&p-e>ly?[Math.abs(f-t)<ly?d:e,t]:null))-1),++u);u&&(m=!1)}if(m){var b,y,x,w=1/0;for(r=0,m=null;r<v;++r)(o=iy[r])&&(x=(b=(a=o.site)[0]-e)*b+(y=a[1]-t)*y)<w&&(w=x,m=o);if(m){var C=[e,t],S=[e,i],_=[n,i],k=[n,t];m.halfedges.push(oy.push(Dl(a=m.site,C,S))-1,oy.push(Dl(a,S,_))-1,oy.push(Dl(a,_,k))-1,oy.push(Dl(a,k,C))-1)}}for(r=0;r<v;++r)(o=iy[r])&&(o.halfedges.length||delete iy[r])}function Hl(){kl(this),this.x=this.y=this.arc=this.site=this.cy=null}function Bl(e){var t=e.P,n=e.N;if(t&&n){var i=t.site,r=e.site,o=n.site;if(i!==o){var a=r[0],s=r[1],l=i[0]-a,u=i[1]-s,c=o[0]-a,d=o[1]-s,f=2*(l*d-u*c);if(!(f>=-uy)){var h=l*l+u*u,p=c*c+d*d,g=(d*h-u*p)/f,v=(l*p-c*h)/f,m=ay.pop()||new Hl;m.arc=e,m.site=r,m.x=g+a,m.y=(m.cy=v+s)+Math.sqrt(g*g+v*v),e.circle=m;for(var b=null,y=ry._;y;)if(m.y<y.y||m.y===y.y&&m.x<=y.x){if(!y.L){b=y.P;break}y=y.L}else{if(!y.R){b=y;break}y=y.R}ry.insert(b,m),b||(ty=m)}}}}function Vl(e){var t=e.circle;t&&(t.P||(ty=t.N),ry.remove(t),ay.push(t),kl(t),e.circle=null)}function Wl(){kl(this),this.edge=this.site=this.circle=null}function Ul(e){var t=sy.pop()||new Wl;return t.site=e,t}function Gl(e){Vl(e),ny.remove(e),sy.push(e),kl(e)}function Yl(e){var t=e.circle,n=t.x,i=t.cy,r=[n,i],o=e.P,a=e.N,s=[e];Gl(e);for(var l=o;l.circle&&Math.abs(n-l.circle.x)<ly&&Math.abs(i-l.circle.cy)<ly;)o=l.P,s.unshift(l),Gl(l),l=o;s.unshift(l),Vl(l);for(var u=a;u.circle&&Math.abs(n-u.circle.x)<ly&&Math.abs(i-u.circle.cy)<ly;)a=u.N,s.push(u),Gl(u),u=a;s.push(u),Vl(u);var c,d=s.length;for(c=1;c<d;++c)u=s[c],l=s[c-1],El(u.edge,l.site,u.site,r);l=s[0],(u=s[d-1]).edge=Pl(l.site,u.site,null,r),Bl(l),Bl(u)}function Xl(e){for(var t,n,i,r,o=e[0],a=e[1],s=ny._;s;)if((i=$l(s,a)-o)>ly)s=s.L;else{if(!((r=o-Jl(s,a))>ly)){i>-ly?(t=s.P,n=s):r>-ly?(t=s,n=s.N):t=n=s;break}if(!s.R){t=s;break}s=s.R}Ll(e);var l=Ul(e);if(ny.insert(t,l),t||n){if(t===n)return Vl(t),n=Ul(t.site),ny.insert(l,n),l.edge=n.edge=Pl(t.site,l.site),Bl(t),void Bl(n);if(n){Vl(t),Vl(n);var u=t.site,c=u[0],d=u[1],f=e[0]-c,h=e[1]-d,p=n.site,g=p[0]-c,v=p[1]-d,m=2*(f*v-h*g),b=f*f+h*h,y=g*g+v*v,x=[(v*b-h*y)/m+c,(f*y-g*b)/m+d];El(n.edge,u,p,x),l.edge=Pl(u,e,null,x),n.edge=Pl(e,p,null,x),Bl(t),Bl(n)}else l.edge=Pl(t.site,l.site)}}function $l(e,t){var n=e.site,i=n[0],r=n[1],o=r-t;if(!o)return i;var a=e.P;if(!a)return-1/0;var s=(n=a.site)[0],l=n[1],u=l-t;if(!u)return s;var c=s-i,d=1/o-1/u,f=c/u;return d?(-f+Math.sqrt(f*f-2*d*(c*c/(-2*u)-l+u/2+r-o/2)))/d+i:(i+s)/2}function Jl(e,t){var n=e.N;if(n)return $l(n,t);var i=e.site;return i[1]===t?i[0]:1/0}function Ql(e,t,n){return(e[0]-n[0])*(t[1]-e[1])-(e[0]-t[0])*(n[1]-e[1])}function Zl(e,t){return t[1]-e[1]||t[0]-e[0]}function Kl(e,t){var n,i,r,o=e.sort(Zl).pop();for(oy=[],iy=new Array(e.length),ny=new _l,ry=new _l;;)if(r=ty,o&&(!r||o[1]<r.y||o[1]===r.y&&o[0]<r.x))o[0]===n&&o[1]===i||(Xl(o),n=o[0],i=o[1]),o=e.pop();else{if(!r)break;Yl(r.arc)}if(zl(),t){var a=+t[0][0],s=+t[0][1],l=+t[1][0],u=+t[1][1];Fl(a,s,l,u),ql(a,s,l,u)}this.edges=oy,this.cells=iy,ny=ry=oy=iy=null}function eu(e,t,n){this.target=e,this.type=t,this.transform=n}function tu(e,t,n){this.k=e,this.x=t,this.y=n}function nu(e){return e.__zoom||dy}function iu(){e.event.stopImmediatePropagation()}function ru(){return!e.event.button}function ou(){var e,t,n=this;return n instanceof SVGElement?(e=(n=n.ownerSVGElement||n).width.baseVal.value,t=n.height.baseVal.value):(e=n.clientWidth,t=n.clientHeight),[[0,0],[e,t]]}function au(){return this.__zoom||dy}function su(){return-e.event.deltaY*(e.event.deltaMode?120:1)/500}function lu(){return"ontouchstart"in this}var uu=function(e,t){return e<t?-1:e>t?1:e>=t?0:NaN},cu=function(e){return 1===e.length&&(e=t(e)),{left:function(t,n,i,r){for(null==i&&(i=0),null==r&&(r=t.length);i<r;){var o=i+r>>>1;e(t[o],n)<0?i=o+1:r=o}return i},right:function(t,n,i,r){for(null==i&&(i=0),null==r&&(r=t.length);i<r;){var o=i+r>>>1;e(t[o],n)>0?r=o:i=o+1}return i}}},du=cu(uu),fu=du.right,hu=du.left,pu=function(e){return null===e?NaN:+e},gu=function(e,t){var n,i,r=e.length,o=0,a=-1,s=0,l=0;if(null==t)for(;++a<r;)isNaN(n=pu(e[a]))||(l+=(i=n-s)*(n-(s+=i/++o)));else for(;++a<r;)isNaN(n=pu(t(e[a],a,e)))||(l+=(i=n-s)*(n-(s+=i/++o)));if(o>1)return l/(o-1)},vu=function(e,t){var n=gu(e,t);return n?Math.sqrt(n):n},mu=function(e,t){var n,i,r,o=e.length,a=-1;if(null==t){for(;++a<o;)if(null!=(n=e[a])&&n>=n)for(i=r=n;++a<o;)null!=(n=e[a])&&(i>n&&(i=n),r<n&&(r=n))}else for(;++a<o;)if(null!=(n=t(e[a],a,e))&&n>=n)for(i=r=n;++a<o;)null!=(n=t(e[a],a,e))&&(i>n&&(i=n),r<n&&(r=n));return[i,r]},bu=Array.prototype,yu=bu.slice,xu=bu.map,wu=function(e){return function(){return e}},Cu=function(e){return e},Su=function(e,t,n){e=+e,t=+t,n=(r=arguments.length)<2?(t=e,e=0,1):r<3?1:+n;for(var i=-1,r=0|Math.max(0,Math.ceil((t-e)/n)),o=new Array(r);++i<r;)o[i]=e+i*n;return o},_u=Math.sqrt(50),ku=Math.sqrt(10),Tu=Math.sqrt(2),Mu=function(e,t,n){var r,o,a,s=t<e,l=-1;if(s&&(r=e,e=t,t=r),0===(a=i(e,t,n))||!isFinite(a))return[];if(a>0)for(e=Math.ceil(e/a),t=Math.floor(t/a),o=new Array(r=Math.ceil(t-e+1));++l<r;)o[l]=(e+l)*a;else for(e=Math.floor(e*a),t=Math.ceil(t*a),o=new Array(r=Math.ceil(e-t+1));++l<r;)o[l]=(e-l)/a;return s&&o.reverse(),o},Au=function(e){return Math.ceil(Math.log(e.length)/Math.LN2)+1},Pu=function(e,t,n){if(null==n&&(n=pu),i=e.length){if((t=+t)<=0||i<2)return+n(e[0],0,e);if(t>=1)return+n(e[i-1],i-1,e);var i,r=(i-1)*t,o=Math.floor(r),a=+n(e[o],o,e);return a+(+n(e[o+1],o+1,e)-a)*(r-o)}},Du=function(e){for(var t,n,i,r=e.length,o=-1,a=0;++o<r;)a+=e[o].length;for(n=new Array(a);--r>=0;)for(t=(i=e[r]).length;--t>=0;)n[--a]=i[t];return n},Eu=function(e,t){var n,i,r=e.length,o=-1;if(null==t){for(;++o<r;)if(null!=(n=e[o])&&n>=n)for(i=n;++o<r;)null!=(n=e[o])&&i>n&&(i=n)}else for(;++o<r;)if(null!=(n=t(e[o],o,e))&&n>=n)for(i=n;++o<r;)null!=(n=t(e[o],o,e))&&i>n&&(i=n);return i},Ru=function(e){if(!(r=e.length))return[];for(var t=-1,n=Eu(e,o),i=new Array(n);++t<n;)for(var r,a=-1,s=i[t]=new Array(r);++a<r;)s[a]=e[a][t];return i},Iu=Array.prototype.slice,Fu=function(e){return e},Lu=1,Nu=2,Ou=3,ju=4,zu=1e-6,qu={value:function(){}};h.prototype=f.prototype={constructor:h,on:function(e,t){var n,i=this._,r=p(e+"",i),o=-1,a=r.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++o<a;)if(n=(e=r[o]).type)i[n]=v(i[n],e.name,t);else if(null==t)for(n in i)i[n]=v(i[n],e.name,null);return this}for(;++o<a;)if((n=(e=r[o]).type)&&(n=g(i[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new h(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,i,r=new Array(n),o=0;o<n;++o)r[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=0,n=(i=this._[e]).length;o<n;++o)i[o].value.apply(t,r)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],r=0,o=i.length;r<o;++r)i[r].value.apply(t,n)}};var Hu="http://www.w3.org/1999/xhtml",Bu={svg:"http://www.w3.org/2000/svg",xhtml:Hu,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Vu=function(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),Bu.hasOwnProperty(t)?{space:Bu[t],local:e}:e},Wu=function(e){var t=Vu(e);return(t.local?b:m)(t)},Uu=0;x.prototype=y.prototype={constructor:x,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}};var Gu=function(e){return function(){return this.matches(e)}};if("undefined"!=typeof document){var Yu=document.documentElement;if(!Yu.matches){var Xu=Yu.webkitMatchesSelector||Yu.msMatchesSelector||Yu.mozMatchesSelector||Yu.oMatchesSelector;Gu=function(e){return function(){return Xu.call(this,e)}}}}var $u=Gu,Ju={};e.event=null,"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(Ju={mouseenter:"mouseover",mouseleave:"mouseout"}));var Qu=function(){for(var t,n=e.event;t=n.sourceEvent;)n=t;return n},Zu=function(e,t){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=t.clientX,i.y=t.clientY,i=i.matrixTransform(e.getScreenCTM().inverse()),[i.x,i.y]}var r=e.getBoundingClientRect();return[t.clientX-r.left-e.clientLeft,t.clientY-r.top-e.clientTop]},Ku=function(e){var t=Qu();return t.changedTouches&&(t=t.changedTouches[0]),Zu(e,t)},ec=function(e){return null==e?M:function(){return this.querySelector(e)}},tc=function(e){return null==e?A:function(){return this.querySelectorAll(e)}},nc=function(e){return new Array(e.length)};P.prototype={constructor:P,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var ic=function(e){return function(){return e}},rc="$",oc=function(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView};X.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var ac=[null];he.prototype=pe.prototype={constructor:he,select:function(e){"function"!=typeof e&&(e=ec(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var o,a,s=t[r],l=s.length,u=i[r]=new Array(l),c=0;c<l;++c)(o=s[c])&&(a=e.call(o,o.__data__,c,s))&&("__data__"in o&&(a.__data__=o.__data__),u[c]=a);return new he(i,this._parents)},selectAll:function(e){"function"!=typeof e&&(e=tc(e));for(var t=this._groups,n=t.length,i=[],r=[],o=0;o<n;++o)for(var a,s=t[o],l=s.length,u=0;u<l;++u)(a=s[u])&&(i.push(e.call(a,a.__data__,u,s)),r.push(a));return new he(i,r)},filter:function(e){"function"!=typeof e&&(e=$u(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var o,a=t[r],s=a.length,l=i[r]=[],u=0;u<s;++u)(o=a[u])&&e.call(o,o.__data__,u,a)&&l.push(o);return new he(i,this._parents)},data:function(e,t){if(!e)return h=new Array(this.size()),u=-1,this.each(function(e){h[++u]=e}),h;var n=t?E:D,i=this._parents,r=this._groups;"function"!=typeof e&&(e=ic(e));for(var o=r.length,a=new Array(o),s=new Array(o),l=new Array(o),u=0;u<o;++u){var c=i[u],d=r[u],f=d.length,h=e.call(c,c&&c.__data__,u,i),p=h.length,g=s[u]=new Array(p),v=a[u]=new Array(p);n(c,d,g,v,l[u]=new Array(f),h,t);for(var m,b,y=0,x=0;y<p;++y)if(m=g[y]){for(y>=x&&(x=y+1);!(b=v[x])&&++x<p;);m._next=b||null}}return a=new he(a,i),a._enter=s,a._exit=l,a},enter:function(){return new he(this._enter||this._groups.map(nc),this._parents)},exit:function(){return new he(this._exit||this._groups.map(nc),this._parents)},merge:function(e){for(var t=this._groups,n=e._groups,i=t.length,r=n.length,o=Math.min(i,r),a=new Array(i),s=0;s<o;++s)for(var l,u=t[s],c=n[s],d=u.length,f=a[s]=new Array(d),h=0;h<d;++h)(l=u[h]||c[h])&&(f[h]=l);for(;s<i;++s)a[s]=t[s];return new he(a,this._parents)},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var i,r=e[t],o=r.length-1,a=r[o];--o>=0;)(i=r[o])&&(a&&a!==i.nextSibling&&a.parentNode.insertBefore(i,a),a=i);return this},sort:function(e){e||(e=R);for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r){for(var o,a=t[r],s=a.length,l=i[r]=new Array(s),u=0;u<s;++u)(o=a[u])&&(l[u]=o);l.sort(function(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n})}return new he(i,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){var e=new Array(this.size()),t=-1;return this.each(function(){e[++t]=this}),e},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],r=0,o=i.length;r<o;++r){var a=i[r];if(a)return a}return null},size:function(){var e=0;return this.each(function(){++e}),e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,i=t.length;n<i;++n)for(var r,o=t[n],a=0,s=o.length;a<s;++a)(r=o[a])&&e.call(r,r.__data__,a,o);return this},attr:function(e,t){var n=Vu(e);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((null==t?n.local?F:I:"function"==typeof t?n.local?j:O:n.local?N:L)(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?z:"function"==typeof t?H:q)(e,t,null==n?"":n)):B(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?V:"function"==typeof t?U:W)(e,t)):this.node()[e]},classed:function(e,t){var n=G(e+"");if(arguments.length<2){for(var i=Y(this.node()),r=-1,o=n.length;++r<o;)if(!i.contains(n[r]))return!1;return!0}return this.each(("function"==typeof t?K:t?Q:Z)(n,t))},text:function(e){return arguments.length?this.each(null==e?ee:("function"==typeof e?ne:te)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?ie:("function"==typeof e?oe:re)(e)):this.node().innerHTML},raise:function(){return this.each(ae)},lower:function(){return this.each(se)},append:function(e){var t="function"==typeof e?e:Wu(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})},insert:function(e,t){var n="function"==typeof e?e:Wu(e),i=null==t?le:"function"==typeof t?t:ec(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})},remove:function(){return this.each(ue)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var i,r,o=S(e+""),a=o.length;if(!(arguments.length<2)){for(s=t?k:_,null==n&&(n=!1),i=0;i<a;++i)this.each(s(o[i],t,n));return this}var s=this.node().__on;if(s)for(var l,u=0,c=s.length;u<c;++u)for(i=0,l=s[u];i<a;++i)if((r=o[i]).type===l.type&&r.name===l.name)return l.value},dispatch:function(e,t){return this.each(("function"==typeof t?fe:de)(e,t))}};var sc=function(e){return"string"==typeof e?new he([[document.querySelector(e)]],[document.documentElement]):new he([[e]],ac)},lc=function(e,t,n){arguments.length<3&&(n=t,t=Qu().changedTouches);for(var i,r=0,o=t?t.length:0;r<o;++r)if((i=t[r]).identifier===n)return Zu(e,i);return null},uc=function(){e.event.preventDefault(),e.event.stopImmediatePropagation()},cc=function(e){var t=e.document.documentElement,n=sc(e).on("dragstart.drag",uc,!0);"onselectstart"in t?n.on("selectstart.drag",uc,!0):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")},dc=function(e){return function(){return e}};me.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};var fc=function(e,t,n){e.prototype=t.prototype=n,n.constructor=e},hc="\\s*([+-]?\\d+)\\s*",pc="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",gc="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",vc=/^#([0-9a-f]{3})$/,mc=/^#([0-9a-f]{6})$/,bc=new RegExp("^rgb\\("+[hc,hc,hc]+"\\)$"),yc=new RegExp("^rgb\\("+[gc,gc,gc]+"\\)$"),xc=new RegExp("^rgba\\("+[hc,hc,hc,pc]+"\\)$"),wc=new RegExp("^rgba\\("+[gc,gc,gc,pc]+"\\)$"),Cc=new RegExp("^hsl\\("+[pc,gc,gc]+"\\)$"),Sc=new RegExp("^hsla\\("+[pc,gc,gc,pc]+"\\)$"),_c={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};fc(Se,_e,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),fc(Pe,Ae,Ce(Se,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new Pe(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new Pe(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}})),fc(Ie,Re,Ce(Se,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new Ie(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new Ie(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*t,r=2*n-i;return new Pe(Fe(e>=240?e-240:e+120,r,i),Fe(e,r,i),Fe(e<120?e+240:e-120,r,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var kc=Math.PI/180,Tc=180/Math.PI,Mc=.95047,Ac=1,Pc=1.08883,Dc=4/29,Ec=6/29,Rc=3*Ec*Ec,Ic=Ec*Ec*Ec;fc(Oe,Ne,Ce(Se,{brighter:function(e){return new Oe(this.l+18*(null==e?1:e),this.a,this.b,this.opacity)},darker:function(e){return new Oe(this.l-18*(null==e?1:e),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return e=Ac*ze(e),t=Mc*ze(t),n=Pc*ze(n),new Pe(qe(3.2404542*t-1.5371385*e-.4985314*n),qe(-.969266*t+1.8760108*e+.041556*n),qe(.0556434*t-.2040259*e+1.0572252*n),this.opacity)}})),fc(We,Ve,Ce(Se,{brighter:function(e){return new We(this.h,this.c,this.l+18*(null==e?1:e),this.opacity)},darker:function(e){return new We(this.h,this.c,this.l-18*(null==e?1:e),this.opacity)},rgb:function(){return Le(this).rgb()}}));var Fc=1.78277,Lc=-.29227,Nc=-.90649,Oc=1.97294,jc=Oc*Nc,zc=Oc*Fc,qc=Fc*Lc- -.14861*Nc;fc(Ye,Ge,Ce(Se,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new Ye(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new Ye(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*kc,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),i=Math.cos(e),r=Math.sin(e);return new Pe(255*(t+n*(-.14861*i+Fc*r)),255*(t+n*(Lc*i+Nc*r)),255*(t+n*(Oc*i)),this.opacity)}}));var Hc,Bc,Vc,Wc,Uc,Gc,Yc=function(e){var t=e.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),r=e[i],o=e[i+1],a=i>0?e[i-1]:2*r-o,s=i<t-1?e[i+2]:2*o-r;return Xe((n-i/t)*t,a,r,o,s)}},Xc=function(e){var t=e.length;return function(n){var i=Math.floor(((n%=1)<0?++n:n)*t),r=e[(i+t-1)%t],o=e[i%t],a=e[(i+1)%t],s=e[(i+2)%t];return Xe((n-i/t)*t,r,o,a,s)}},$c=function(e){return function(){return e}},Jc=function e(t){function n(e,t){var n=i((e=Ae(e)).r,(t=Ae(t)).r),r=i(e.g,t.g),o=i(e.b,t.b),a=Ke(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=r(t),e.b=o(t),e.opacity=a(t),e+""}}var i=Ze(t);return n.gamma=e,n}(1),Qc=et(Yc),Zc=et(Xc),Kc=function(e,t){var n,i=t?t.length:0,r=e?Math.min(i,e.length):0,o=new Array(i),a=new Array(i);for(n=0;n<r;++n)o[n]=ad(e[n],t[n]);for(;n<i;++n)a[n]=t[n];return function(e){for(n=0;n<r;++n)a[n]=o[n](e);return a}},ed=function(e,t){var n=new Date;return e=+e,t-=e,function(i){return n.setTime(e+t*i),n}},td=function(e,t){return e=+e,t-=e,function(n){return e+t*n}},nd=function(e,t){var n,i={},r={};null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={});for(n in t)n in e?i[n]=ad(e[n],t[n]):r[n]=t[n];return function(e){for(n in i)r[n]=i[n](e);return r}},id=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,rd=new RegExp(id.source,"g"),od=function(e,t){var n,i,r,o=id.lastIndex=rd.lastIndex=0,a=-1,s=[],l=[];for(e+="",t+="";(n=id.exec(e))&&(i=rd.exec(t));)(r=i.index)>o&&(r=t.slice(o,r),s[a]?s[a]+=r:s[++a]=r),(n=n[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:td(n,i)})),o=rd.lastIndex;return o<t.length&&(r=t.slice(o),s[a]?s[a]+=r:s[++a]=r),s.length<2?l[0]?nt(l[0].x):tt(t):(t=l.length,function(e){for(var n,i=0;i<t;++i)s[(n=l[i]).i]=n.x(e);return s.join("")})},ad=function(e,t){var n,i=typeof t;return null==t||"boolean"===i?$c(t):("number"===i?td:"string"===i?(n=_e(t))?(t=n,Jc):od:t instanceof _e?Jc:t instanceof Date?ed:Array.isArray(t)?Kc:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?nd:td)(e,t)},sd=function(e,t){return e=+e,t-=e,function(n){return Math.round(e+t*n)}},ld=180/Math.PI,ud={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},cd=function(e,t,n,i,r,o){var a,s,l;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(l=e*n+t*i)&&(n-=e*l,i-=t*l),(s=Math.sqrt(n*n+i*i))&&(n/=s,i/=s,l/=s),e*i<t*n&&(e=-e,t=-t,l=-l,a=-a),{translateX:r,translateY:o,rotate:Math.atan2(t,e)*ld,skewX:Math.atan(l)*ld,scaleX:a,scaleY:s}},dd=it(function(e){return"none"===e?ud:(Hc||(Hc=document.createElement("DIV"),Bc=document.documentElement,Vc=document.defaultView),Hc.style.transform=e,e=Vc.getComputedStyle(Bc.appendChild(Hc),null).getPropertyValue("transform"),Bc.removeChild(Hc),e=e.slice(7,-1).split(","),cd(+e[0],+e[1],+e[2],+e[3],+e[4],+e[5]))},"px, ","px)","deg)"),fd=it(function(e){return null==e?ud:(Wc||(Wc=document.createElementNS("http://www.w3.org/2000/svg","g")),Wc.setAttribute("transform",e),(e=Wc.transform.baseVal.consolidate())?(e=e.matrix,cd(e.a,e.b,e.c,e.d,e.e,e.f)):ud)},", ",")",")"),hd=Math.SQRT2,pd=function(e,t){var n,i,r=e[0],o=e[1],a=e[2],s=t[0],l=t[1],u=t[2],c=s-r,d=l-o,f=c*c+d*d;if(f<1e-12)i=Math.log(u/a)/hd,n=function(e){return[r+e*c,o+e*d,a*Math.exp(hd*e*i)]};else{var h=Math.sqrt(f),p=(u*u-a*a+4*f)/(2*a*2*h),g=(u*u-a*a-4*f)/(2*u*2*h),v=Math.log(Math.sqrt(p*p+1)-p),m=Math.log(Math.sqrt(g*g+1)-g);i=(m-v)/hd,n=function(e){var t=e*i,n=rt(v),s=a/(2*h)*(n*at(hd*t+v)-ot(v));return[r+s*c,o+s*d,a*n/rt(hd*t+v)]}}return n.duration=1e3*i,n},gd=st(Qe),vd=st(Ke),md=lt(Qe),bd=lt(Ke),yd=ut(Qe),xd=ut(Ke),wd=0,Cd=0,Sd=0,_d=1e3,kd=0,Td=0,Md=0,Ad="object"==typeof performance&&performance.now?performance:Date,Pd="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};ft.prototype=ht.prototype={constructor:ft,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?ct():+n)+(null==t?0:+t),this._next||Gc===this||(Gc?Gc._next=this:Uc=this,Gc=this),this._call=e,this._time=n,bt()},stop:function(){this._call&&(this._call=null,this._time=1/0,bt())}};var Dd=function(e,t,n){var i=new ft;return t=null==t?0:+t,i.restart(function(n){i.stop(),e(n+t)},t,n),i},Ed=f("start","end","interrupt"),Rd=[],Id=0,Fd=1,Ld=2,Nd=3,Od=4,jd=5,zd=6,qd=function(e,t,n,i,r,o){var a=e.__transition;if(a){if(n in a)return}else e.__transition={};Ct(e,n,{name:t,index:i,group:r,on:Ed,tween:Rd,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Id})},Hd=function(e,t){var n,i,r,o=e.__transition,a=!0;if(o){t=null==t?null:t+"";for(r in o)(n=o[r]).name===t?(i=n.state>Ld&&n.state<jd,n.state=zd,n.timer.stop(),i&&n.on.call("interrupt",e,e.__data__,n.index,n.group),delete o[r]):a=!1;a&&delete e.__transition}},Bd=function(e,t){var n;return("number"==typeof t?td:t instanceof _e?Jc:(n=_e(t))?(t=n,Jc):od)(e,t)},Vd=pe.prototype.constructor,Wd=0,Ud=pe.prototype;$t.prototype=Jt.prototype={constructor:$t,select:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=ec(e));for(var i=this._groups,r=i.length,o=new Array(r),a=0;a<r;++a)for(var s,l,u=i[a],c=u.length,d=o[a]=new Array(c),f=0;f<c;++f)(s=u[f])&&(l=e.call(s,s.__data__,f,u))&&("__data__"in s&&(l.__data__=s.__data__),d[f]=l,qd(d[f],t,n,f,d,wt(s,n)));return new $t(o,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=tc(e));for(var i=this._groups,r=i.length,o=[],a=[],s=0;s<r;++s)for(var l,u=i[s],c=u.length,d=0;d<c;++d)if(l=u[d]){for(var f,h=e.call(l,l.__data__,d,u),p=wt(l,n),g=0,v=h.length;g<v;++g)(f=h[g])&&qd(f,t,n,g,h,p);o.push(h),a.push(l)}return new $t(o,a,t,n)},filter:function(e){"function"!=typeof e&&(e=$u(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var o,a=t[r],s=a.length,l=i[r]=[],u=0;u<s;++u)(o=a[u])&&e.call(o,o.__data__,u,a)&&l.push(o);return new $t(i,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,i=t.length,r=n.length,o=Math.min(i,r),a=new Array(i),s=0;s<o;++s)for(var l,u=t[s],c=n[s],d=u.length,f=a[s]=new Array(d),h=0;h<d;++h)(l=u[h]||c[h])&&(f[h]=l);for(;s<i;++s)a[s]=t[s];return new $t(a,this._parents,this._name,this._id)},selection:function(){return new Vd(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=Qt(),i=this._groups,r=i.length,o=0;o<r;++o)for(var a,s=i[o],l=s.length,u=0;u<l;++u)if(a=s[u]){var c=wt(a,t);qd(a,e,n,u,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new $t(i,this._parents,e,n)},call:Ud.call,nodes:Ud.nodes,node:Ud.node,size:Ud.size,empty:Ud.empty,each:Ud.each,on:function(e,t){var n=this._id;return arguments.length<2?wt(this.node(),n).on.on(e):this.each(qt(n,e,t))},attr:function(e,t){var n=Vu(e),i="transform"===n?fd:Bd;return this.attrTween(e,"function"==typeof t?(n.local?Et:Dt)(n,i,kt(this,"attr."+e,t)):null==t?(n.local?Mt:Tt)(n):(n.local?Pt:At)(n,i,t+""))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;var i=Vu(e);return this.tween(n,(i.local?Rt:It)(i,t))},style:function(e,t,n){var i="transform"==(e+="")?dd:Bd;return null==t?this.styleTween(e,Bt(e,i)).on("end.style."+e,Vt(e)):this.styleTween(e,"function"==typeof t?Ut(e,i,kt(this,"style."+e,t)):Wt(e,i,t+""),n)},styleTween:function(e,t,n){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==t)return this.tween(i,null);if("function"!=typeof t)throw new Error;return this.tween(i,Gt(e,t,null==n?"":n))},text:function(e){return this.tween("text","function"==typeof e?Xt(kt(this,"text",e)):Yt(null==e?"":e+""))},remove:function(){return this.on("end.remove",Ht(this._id))},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var i,r=wt(this.node(),n).tween,o=0,a=r.length;o<a;++o)if((i=r[o]).name===e)return i.value;return null}return this.each((null==t?St:_t)(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?Ft:Lt)(t,e)):wt(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?Nt:Ot)(t,e)):wt(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(jt(t,e)):wt(this.node(),t).ease}};var Gd=function e(t){function n(e){return Math.pow(e,t)}return t=+t,n.exponent=e,n}(3),Yd=function e(t){function n(e){return 1-Math.pow(1-e,t)}return t=+t,n.exponent=e,n}(3),Xd=function e(t){function n(e){return((e*=2)<=1?Math.pow(e,t):2-Math.pow(2-e,t))/2}return t=+t,n.exponent=e,n}(3),$d=Math.PI,Jd=$d/2,Qd=4/11,Zd=6/11,Kd=8/11,ef=.75,tf=9/11,nf=10/11,rf=.9375,of=21/22,af=63/64,sf=1/Qd/Qd,lf=function e(t){function n(e){return e*e*((t+1)*e-t)}return t=+t,n.overshoot=e,n}(1.70158),uf=function e(t){function n(e){return--e*e*((t+1)*e+t)+1}return t=+t,n.overshoot=e,n}(1.70158),cf=function e(t){function n(e){return((e*=2)<1?e*e*((t+1)*e-t):(e-=2)*e*((t+1)*e+t)+2)/2}return t=+t,n.overshoot=e,n}(1.70158),df=2*Math.PI,ff=function e(t,n){function i(e){return t*Math.pow(2,10*--e)*Math.sin((r-e)/n)}var r=Math.asin(1/(t=Math.max(1,t)))*(n/=df);return i.amplitude=function(t){return e(t,n*df)},i.period=function(n){return e(t,n)},i}(1,.3),hf=function e(t,n){function i(e){return 1-t*Math.pow(2,-10*(e=+e))*Math.sin((e+r)/n)}var r=Math.asin(1/(t=Math.max(1,t)))*(n/=df);return i.amplitude=function(t){return e(t,n*df)},i.period=function(n){return e(t,n)},i}(1,.3),pf=function e(t,n){function i(e){return((e=2*e-1)<0?t*Math.pow(2,10*e)*Math.sin((r-e)/n):2-t*Math.pow(2,-10*e)*Math.sin((r+e)/n))/2}var r=Math.asin(1/(t=Math.max(1,t)))*(n/=df);return i.amplitude=function(t){return e(t,n*df)},i.period=function(n){return e(t,n)},i}(1,.3),gf={time:null,delay:0,duration:250,ease:Kt};pe.prototype.interrupt=function(e){return this.each(function(){Hd(this,e)})},pe.prototype.transition=function(e){var t,n;e instanceof $t?(t=e._id,e=e._name):(t=Qt(),(n=gf).time=ct(),e=null==e?null:e+"");for(var i=this._groups,r=i.length,o=0;o<r;++o)for(var a,s=i[o],l=s.length,u=0;u<l;++u)(a=s[u])&&qd(a,e,t,u,s,n||on(a,t));return new $t(i,this._parents,e,t)};var vf=[null],mf=function(e){return function(){return e}},bf=function(e,t,n){this.target=e,this.type=t,this.selection=n},yf=function(){e.event.preventDefault(),e.event.stopImmediatePropagation()},xf={name:"drag"},wf={name:"space"},Cf={name:"handle"},Sf={name:"center"},_f={name:"x",handles:["e","w"].map(sn),input:function(e,t){return e&&[[e[0],t[0][1]],[e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},kf={name:"y",handles:["n","s"].map(sn),input:function(e,t){return e&&[[t[0][0],e[0]],[t[1][0],e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},Tf={name:"xy",handles:["n","e","s","w","nw","ne","se","sw"].map(sn),input:function(e){return e},output:function(e){return e}},Mf={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Af={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},Pf={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},Df={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},Ef={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1},Rf=Math.cos,If=Math.sin,Ff=Math.PI,Lf=Ff/2,Nf=2*Ff,Of=Math.max,jf=Array.prototype.slice,zf=function(e){return function(){return e}},qf=Math.PI,Hf=2*qf,Bf=Hf-1e-6;pn.prototype=gn.prototype={constructor:pn,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,i){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+i)},bezierCurveTo:function(e,t,n,i,r,o){this._+="C"+ +e+","+ +t+","+ +n+","+ +i+","+(this._x1=+r)+","+(this._y1=+o)},arcTo:function(e,t,n,i,r){e=+e,t=+t,n=+n,i=+i,r=+r;var o=this._x1,a=this._y1,s=n-e,l=i-t,u=o-e,c=a-t,d=u*u+c*c;if(r<0)throw new Error("negative radius: "+r);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(d>1e-6)if(Math.abs(c*s-l*u)>1e-6&&r){var f=n-o,h=i-a,p=s*s+l*l,g=f*f+h*h,v=Math.sqrt(p),m=Math.sqrt(d),b=r*Math.tan((qf-Math.acos((p+d-g)/(2*v*m)))/2),y=b/m,x=b/v;Math.abs(y-1)>1e-6&&(this._+="L"+(e+y*u)+","+(t+y*c)),this._+="A"+r+","+r+",0,0,"+ +(c*f>u*h)+","+(this._x1=e+x*s)+","+(this._y1=t+x*l)}else this._+="L"+(this._x1=e)+","+(this._y1=t)},arc:function(e,t,n,i,r,o){e=+e,t=+t;var a=(n=+n)*Math.cos(i),s=n*Math.sin(i),l=e+a,u=t+s,c=1^o,d=o?i-r:r-i;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+l+","+u:(Math.abs(this._x1-l)>1e-6||Math.abs(this._y1-u)>1e-6)&&(this._+="L"+l+","+u),n&&(d<0&&(d=d%Hf+Hf),d>Bf?this._+="A"+n+","+n+",0,1,"+c+","+(e-a)+","+(t-s)+"A"+n+","+n+",0,1,"+c+","+(this._x1=l)+","+(this._y1=u):d>1e-6&&(this._+="A"+n+","+n+",0,"+ +(d>=qf)+","+c+","+(this._x1=e+n*Math.cos(r))+","+(this._y1=t+n*Math.sin(r))))},rect:function(e,t,n,i){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +i+"h"+-n+"Z"},toString:function(){return this._}},wn.prototype=Cn.prototype={constructor:wn,has:function(e){return"$"+e in this},get:function(e){return this["$"+e]},set:function(e,t){return this["$"+e]=t,this},remove:function(e){var t="$"+e;return t in this&&delete this[t]},clear:function(){for(var e in this)"$"===e[0]&&delete this[e]},keys:function(){var e=[];for(var t in this)"$"===t[0]&&e.push(t.slice(1));return e},values:function(){var e=[];for(var t in this)"$"===t[0]&&e.push(this[t]);return e},entries:function(){var e=[];for(var t in this)"$"===t[0]&&e.push({key:t.slice(1),value:this[t]});return e},size:function(){var e=0;for(var t in this)"$"===t[0]&&++e;return e},empty:function(){for(var e in this)if("$"===e[0])return!1;return!0},each:function(e){for(var t in this)"$"===t[0]&&e(this[t],t.slice(1),this)}};var Vf=Cn.prototype;Mn.prototype=An.prototype={constructor:Mn,has:Vf.has,add:function(e){return e+="",this["$"+e]=e,this},remove:Vf.remove,clear:Vf.clear,values:Vf.keys,size:Vf.size,empty:Vf.empty,each:Vf.each};var Wf=function(e){function t(e,t){function n(){if(c>=u)return s;if(r)return r=!1,a;var t,n=c;if(34===e.charCodeAt(n)){for(var i=n;i++<u;)if(34===e.charCodeAt(i)){if(34!==e.charCodeAt(i+1))break;++i}return c=i+2,13===(t=e.charCodeAt(i+1))?(r=!0,10===e.charCodeAt(i+2)&&++c):10===t&&(r=!0),e.slice(n+1,i).replace(/""/g,'"')}for(;c<u;){var l=1;if(10===(t=e.charCodeAt(c++)))r=!0;else if(13===t)r=!0,10===e.charCodeAt(c)&&(++c,++l);else if(t!==o)continue;return e.slice(n,c-l)}return e.slice(n)}for(var i,r,a={},s={},l=[],u=e.length,c=0,d=0;(i=n())!==s;){for(var f=[];i!==a&&i!==s;)f.push(i),i=n();t&&null==(f=t(f,d++))||l.push(f)}return l}function n(t){return t.map(i).join(e)}function i(e){return null==e?"":r.test(e+="")?'"'+e.replace(/\"/g,'""')+'"':e}var r=new RegExp('["'+e+"\n\r]"),o=e.charCodeAt(0);return{parse:function(e,n){var i,r,o=t(e,function(e,t){if(i)return i(e,t-1);r=e,i=n?Dn(e,n):Pn(e)});return o.columns=r,o},parseRows:t,format:function(t,n){return null==n&&(n=En(t)),[n.map(i).join(e)].concat(t.map(function(t){return n.map(function(e){return i(t[e])}).join(e)})).join("\n")},formatRows:function(e){return e.map(n).join("\n")}}},Uf=Wf(","),Gf=Uf.parse,Yf=Uf.parseRows,Xf=Uf.format,$f=Uf.formatRows,Jf=Wf("\t"),Qf=Jf.parse,Zf=Jf.parseRows,Kf=Jf.format,eh=Jf.formatRows,th=function(e){return function(){return e}},nh=function(){return 1e-6*(Math.random()-.5)},ih=function(e,t,n,i,r){this.node=e,this.x0=t,this.y0=n,this.x1=i,this.y1=r},rh=Ln.prototype=Nn.prototype;rh.copy=function(){var e,t,n=new Nn(this._x,this._y,this._x0,this._y0,this._x1,this._y1),i=this._root;if(!i)return n;if(!i.length)return n._root=On(i),n;for(e=[{source:i,target:n._root=new Array(4)}];i=e.pop();)for(var r=0;r<4;++r)(t=i.source[r])&&(t.length?e.push({source:t,target:i.target[r]=new Array(4)}):i.target[r]=On(t));return n},rh.add=function(e){var t=+this._x.call(null,e),n=+this._y.call(null,e);return Rn(this.cover(t,n),t,n,e)},rh.addAll=function(e){var t,n,i,r,o=e.length,a=new Array(o),s=new Array(o),l=1/0,u=1/0,c=-1/0,d=-1/0;for(n=0;n<o;++n)isNaN(i=+this._x.call(null,t=e[n]))||isNaN(r=+this._y.call(null,t))||(a[n]=i,s[n]=r,i<l&&(l=i),i>c&&(c=i),r<u&&(u=r),r>d&&(d=r));for(c<l&&(l=this._x0,c=this._x1),d<u&&(u=this._y0,d=this._y1),this.cover(l,u).cover(c,d),n=0;n<o;++n)Rn(this,a[n],s[n],e[n]);return this},rh.cover=function(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,i=this._y0,r=this._x1,o=this._y1;if(isNaN(n))r=(n=Math.floor(e))+1,o=(i=Math.floor(t))+1;else{if(!(n>e||e>r||i>t||t>o))return this;var a,s,l=r-n,u=this._root;switch(s=(t<(i+o)/2)<<1|e<(n+r)/2){case 0:do{(a=new Array(4))[s]=u,u=a}while(l*=2,r=n+l,o=i+l,e>r||t>o);break;case 1:do{(a=new Array(4))[s]=u,u=a}while(l*=2,n=r-l,o=i+l,n>e||t>o);break;case 2:do{(a=new Array(4))[s]=u,u=a}while(l*=2,r=n+l,i=o-l,e>r||i>t);break;case 3:do{(a=new Array(4))[s]=u,u=a}while(l*=2,n=r-l,i=o-l,n>e||i>t)}this._root&&this._root.length&&(this._root=u)}return this._x0=n,this._y0=i,this._x1=r,this._y1=o,this},rh.data=function(){var e=[];return this.visit(function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)}),e},rh.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},rh.find=function(e,t,n){var i,r,o,a,s,l,u,c=this._x0,d=this._y0,f=this._x1,h=this._y1,p=[],g=this._root;for(g&&p.push(new ih(g,c,d,f,h)),null==n?n=1/0:(c=e-n,d=t-n,f=e+n,h=t+n,n*=n);l=p.pop();)if(!(!(g=l.node)||(r=l.x0)>f||(o=l.y0)>h||(a=l.x1)<c||(s=l.y1)<d))if(g.length){var v=(r+a)/2,m=(o+s)/2;p.push(new ih(g[3],v,m,a,s),new ih(g[2],r,m,v,s),new ih(g[1],v,o,a,m),new ih(g[0],r,o,v,m)),(u=(t>=m)<<1|e>=v)&&(l=p[p.length-1],p[p.length-1]=p[p.length-1-u],p[p.length-1-u]=l)}else{var b=e-+this._x.call(null,g.data),y=t-+this._y.call(null,g.data),x=b*b+y*y;if(x<n){var w=Math.sqrt(n=x);c=e-w,d=t-w,f=e+w,h=t+w,i=g.data}}return i},rh.remove=function(e){if(isNaN(o=+this._x.call(null,e))||isNaN(a=+this._y.call(null,e)))return this;var t,n,i,r,o,a,s,l,u,c,d,f,h=this._root,p=this._x0,g=this._y0,v=this._x1,m=this._y1;if(!h)return this;if(h.length)for(;;){if((u=o>=(s=(p+v)/2))?p=s:v=s,(c=a>=(l=(g+m)/2))?g=l:m=l,t=h,!(h=h[d=c<<1|u]))return this;if(!h.length)break;(t[d+1&3]||t[d+2&3]||t[d+3&3])&&(n=t,f=d)}for(;h.data!==e;)if(i=h,!(h=h.next))return this;return(r=h.next)&&delete h.next,i?(r?i.next=r:delete i.next,this):t?(r?t[d]=r:delete t[d],(h=t[0]||t[1]||t[2]||t[3])&&h===(t[3]||t[2]||t[1]||t[0])&&!h.length&&(n?n[f]=h:this._root=h),this):(this._root=r,this)},rh.removeAll=function(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this},rh.root=function(){return this._root},rh.size=function(){var e=0;return this.visit(function(t){if(!t.length)do{++e}while(t=t.next)}),e},rh.visit=function(e){var t,n,i,r,o,a,s=[],l=this._root;for(l&&s.push(new ih(l,this._x0,this._y0,this._x1,this._y1));t=s.pop();)if(!e(l=t.node,i=t.x0,r=t.y0,o=t.x1,a=t.y1)&&l.length){var u=(i+o)/2,c=(r+a)/2;(n=l[3])&&s.push(new ih(n,u,c,o,a)),(n=l[2])&&s.push(new ih(n,i,c,u,a)),(n=l[1])&&s.push(new ih(n,u,r,o,c)),(n=l[0])&&s.push(new ih(n,i,r,u,c))}return this},rh.visitAfter=function(e){var t,n=[],i=[];for(this._root&&n.push(new ih(this._root,this._x0,this._y0,this._x1,this._y1));t=n.pop();){var r=t.node;if(r.length){var o,a=t.x0,s=t.y0,l=t.x1,u=t.y1,c=(a+l)/2,d=(s+u)/2;(o=r[0])&&n.push(new ih(o,a,s,c,d)),(o=r[1])&&n.push(new ih(o,c,s,l,d)),(o=r[2])&&n.push(new ih(o,a,d,c,u)),(o=r[3])&&n.push(new ih(o,c,d,l,u))}i.push(t)}for(;t=i.pop();)e(t.node,t.x0,t.y0,t.x1,t.y1);return this},rh.x=function(e){return arguments.length?(this._x=e,this):this._x},rh.y=function(e){return arguments.length?(this._y=e,this):this._y};var oh,ah=10,sh=Math.PI*(3-Math.sqrt(5)),lh=function(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,i=e.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+e.slice(n+1)]},uh=function(e){return(e=lh(Math.abs(e)))?e[1]:NaN},ch=function(e,t){return function(n,i){for(var r=n.length,o=[],a=0,s=e[0],l=0;r>0&&s>0&&(l+s+1>i&&(s=Math.max(1,i-l)),o.push(n.substring(r-=s,r+s)),!((l+=s+1)>i));)s=e[a=(a+1)%e.length];return o.reverse().join(t)}},dh=function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}},fh=function(e,t){var n=lh(e,t);if(!n)return e+"";var i=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")},hh={"":function(e,t){e:for(var n,i=(e=e.toPrecision(t)).length,r=1,o=-1;r<i;++r)switch(e[r]){case".":o=n=r;break;case"0":0===o&&(o=r),n=r;break;case"e":break e;default:o>0&&(o=0)}return o>0?e.slice(0,o)+e.slice(n+1):e},"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.round(e).toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return fh(100*e,t)},r:fh,s:function(e,t){var n=lh(e,t);if(!n)return e+"";var i=n[0],r=n[1],o=r-(oh=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,a=i.length;return o===a?i:o>a?i+new Array(o-a+1).join("0"):o>0?i.slice(0,o)+"."+i.slice(o):"0."+new Array(1-o).join("0")+lh(e,Math.max(0,t+o-1))[0]},X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}},ph=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;Wn.prototype=Un.prototype,Un.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type};var gh,vh=function(e){return e},mh=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"],bh=function(e){function t(e){function t(e){var t,i,a,c=v,x=m;if("c"===g)x=b(e)+x,e="";else{var w=(e=+e)<0;if(e=b(Math.abs(e),p),w&&0==+e&&(w=!1),c=(w?"("===u?u:"-":"-"===u||"("===u?"":u)+c,x=x+("s"===g?mh[8+oh/3]:"")+(w&&"("===u?")":""),y)for(t=-1,i=e.length;++t<i;)if(48>(a=e.charCodeAt(t))||a>57){x=(46===a?r+e.slice(t+1):e.slice(t))+x,e=e.slice(0,t);break}}h&&!d&&(e=n(e,1/0));var C=c.length+e.length+x.length,S=C<f?new Array(f-C+1).join(s):"";switch(h&&d&&(e=n(S+e,S.length?f-x.length:1/0),S=""),l){case"<":e=c+e+x+S;break;case"=":e=c+S+e+x;break;case"^":e=S.slice(0,C=S.length>>1)+c+e+x+S.slice(C);break;default:e=S+c+e+x}return o(e)}var s=(e=Wn(e)).fill,l=e.align,u=e.sign,c=e.symbol,d=e.zero,f=e.width,h=e.comma,p=e.precision,g=e.type,v="$"===c?i[0]:"#"===c&&/[boxX]/.test(g)?"0"+g.toLowerCase():"",m="$"===c?i[1]:/[%p]/.test(g)?a:"",b=hh[g],y=!g||/[defgprs%]/.test(g);return p=null==p?g?6:12:/[gprs]/.test(g)?Math.max(1,Math.min(21,p)):Math.max(0,Math.min(20,p)),t.toString=function(){return e+""},t}var n=e.grouping&&e.thousands?ch(e.grouping,e.thousands):vh,i=e.currency,r=e.decimal,o=e.numerals?dh(e.numerals):vh,a=e.percent||"%";return{format:t,formatPrefix:function(e,n){var i=t((e=Wn(e),e.type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(uh(n)/3))),o=Math.pow(10,-r),a=mh[8+r/3];return function(e){return i(o*e)+a}}}};Gn({decimal:".",thousands:",",grouping:[3],currency:["$",""]});var yh=function(e){return Math.max(0,-uh(Math.abs(e)))},xh=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(uh(t)/3)))-uh(Math.abs(e)))},wh=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,uh(t)-uh(e))+1},Ch=function(){return new Yn};Yn.prototype={constructor:Yn,reset:function(){this.s=this.t=0},add:function(e){Xn(ep,e,this.t),Xn(this,ep.s,this.s),this.s?this.t+=ep.t:this.s=ep.t},valueOf:function(){return this.s}};var Sh,_h,kh,Th,Mh,Ah,Ph,Dh,Eh,Rh,Ih,Fh,Lh,Nh,Oh,jh,zh,qh,Hh,Bh,Vh,Wh,Uh,Gh,Yh,Xh,$h,Jh,Qh,Zh,Kh,ep=new Yn,tp=1e-6,np=Math.PI,ip=np/2,rp=np/4,op=2*np,ap=180/np,sp=np/180,lp=Math.abs,up=Math.atan,cp=Math.atan2,dp=Math.cos,fp=Math.ceil,hp=Math.exp,pp=Math.log,gp=Math.pow,vp=Math.sin,mp=Math.sign||function(e){return e>0?1:e<0?-1:0},bp=Math.sqrt,yp=Math.tan,xp={Feature:function(e,t){Kn(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,i=-1,r=n.length;++i<r;)Kn(n[i].geometry,t)}},wp={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)e=n[i],t.point(e[0],e[1],e[2])},LineString:function(e,t){ei(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)ei(n[i],t,0)},Polygon:function(e,t){ti(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)ti(n[i],t)},GeometryCollection:function(e,t){for(var n=e.geometries,i=-1,r=n.length;++i<r;)Kn(n[i],t)}},Cp=function(e,t){e&&xp.hasOwnProperty(e.type)?xp[e.type](e,t):Kn(e,t)},Sp=Ch(),_p=Ch(),kp={point:Zn,lineStart:Zn,lineEnd:Zn,polygonStart:function(){Sp.reset(),kp.lineStart=ni,kp.lineEnd=ii},polygonEnd:function(){var e=+Sp;_p.add(e<0?op+e:e),this.lineStart=this.lineEnd=this.point=Zn},sphere:function(){_p.add(op)}},Tp=Ch(),Mp={point:hi,lineStart:gi,lineEnd:vi,polygonStart:function(){Mp.point=mi,Mp.lineStart=bi,Mp.lineEnd=yi,Tp.reset(),kp.polygonStart()},polygonEnd:function(){kp.polygonEnd(),Mp.point=hi,Mp.lineStart=gi,Mp.lineEnd=vi,Sp<0?(Ah=-(Dh=180),Ph=-(Eh=90)):Tp>tp?Eh=90:Tp<-tp&&(Ph=-90),Oh[0]=Ah,Oh[1]=Dh}},Ap={sphere:Zn,point:Si,lineStart:ki,lineEnd:Ai,polygonStart:function(){Ap.lineStart=Pi,Ap.lineEnd=Di},polygonEnd:function(){Ap.lineStart=ki,Ap.lineEnd=Ai}},Pp=function(e){return function(){return e}},Dp=function(e,t){function n(n,i){return n=e(n,i),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,i){return(n=t.invert(n,i))&&e.invert(n[0],n[1])}),n};Ii.invert=Ii;var Ep,Rp,Ip,Fp,Lp,Np,Op,jp,zp,qp,Hp,Bp=function(e){function t(t){return t=e(t[0]*sp,t[1]*sp),t[0]*=ap,t[1]*=ap,t}return e=Fi(e[0]*sp,e[1]*sp,e.length>2?e[2]*sp:0),t.invert=function(t){return t=e.invert(t[0]*sp,t[1]*sp),t[0]*=ap,t[1]*=ap,t},t},Vp=function(){var e,t=[];return{point:function(t,n){e.push([t,n])},lineStart:function(){t.push(e=[])},lineEnd:Zn,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}},Wp=function(e,t,n,i,r,o){var a,s=e[0],l=e[1],u=0,c=1,d=t[0]-s,f=t[1]-l;if(a=n-s,d||!(a>0)){if(a/=d,d<0){if(a<u)return;a<c&&(c=a)}else if(d>0){if(a>c)return;a>u&&(u=a)}if(a=r-s,d||!(a<0)){if(a/=d,d<0){if(a>c)return;a>u&&(u=a)}else if(d>0){if(a<u)return;a<c&&(c=a)}if(a=i-l,f||!(a>0)){if(a/=f,f<0){if(a<u)return;a<c&&(c=a)}else if(f>0){if(a>c)return;a>u&&(u=a)}if(a=o-l,f||!(a<0)){if(a/=f,f<0){if(a>c)return;a>u&&(u=a)}else if(f>0){if(a<u)return;a<c&&(c=a)}return u>0&&(e[0]=s+u*d,e[1]=l+u*f),c<1&&(t[0]=s+c*d,t[1]=l+c*f),!0}}}}},Up=function(e,t){return lp(e[0]-t[0])<tp&&lp(e[1]-t[1])<tp},Gp=function(e,t,n,i,r){var o,a,s=[],l=[];if(e.forEach(function(e){if(!((t=e.length-1)<=0)){var t,n,i=e[0],a=e[t];if(Up(i,a)){for(r.lineStart(),o=0;o<t;++o)r.point((i=e[o])[0],i[1]);r.lineEnd()}else s.push(n=new qi(i,e,null,!0)),l.push(n.o=new qi(i,null,n,!1)),s.push(n=new qi(a,e,null,!1)),l.push(n.o=new qi(a,null,n,!0))}}),s.length){for(l.sort(t),Hi(s),Hi(l),o=0,a=l.length;o<a;++o)l[o].e=n=!n;for(var u,c,d=s[0];;){for(var f=d,h=!0;f.v;)if((f=f.n)===d)return;u=f.z,r.lineStart();do{if(f.v=f.o.v=!0,f.e){if(h)for(o=0,a=u.length;o<a;++o)r.point((c=u[o])[0],c[1]);else i(f.x,f.n.x,1,r);f=f.n}else{if(h)for(u=f.p.z,o=u.length-1;o>=0;--o)r.point((c=u[o])[0],c[1]);else i(f.x,f.p.x,-1,r);f=f.p}u=(f=f.o).z,h=!h}while(!f.v);r.lineEnd()}}},Yp=1e9,Xp=-Yp,$p=Ch(),Jp=function(e,t){var n=t[0],i=t[1],r=[vp(n),-dp(n),0],o=0,a=0;$p.reset();for(var s=0,l=e.length;s<l;++s)if(c=(u=e[s]).length)for(var u,c,d=u[c-1],f=d[0],h=d[1]/2+rp,p=vp(h),g=dp(h),v=0;v<c;++v,f=b,p=x,g=w,d=m){var m=u[v],b=m[0],y=m[1]/2+rp,x=vp(y),w=dp(y),C=b-f,S=C>=0?1:-1,_=S*C,k=_>np,T=p*x;if($p.add(cp(T*S*vp(_),g*w+T*dp(_))),o+=k?C+S*op:C,k^f>=n^b>=n){var M=ui(si(d),si(m));fi(M);var A=ui(r,M);fi(A);var P=(k^C>=0?-1:1)*Jn(A[2]);(i>P||i===P&&(M[0]||M[1]))&&(a+=k^C>=0?1:-1)}}return(o<-tp||o<tp&&$p<-tp)^1&a},Qp=Ch(),Zp={sphere:Zn,point:Zn,lineStart:function(){Zp.point=Wi,Zp.lineEnd=Vi},lineEnd:Zn,polygonStart:Zn,polygonEnd:Zn},Kp=function(e){return Qp.reset(),Cp(e,Zp),+Qp},eg=[null,null],tg={type:"LineString",coordinates:eg},ng=function(e,t){return eg[0]=e,eg[1]=t,Kp(tg)},ig={Feature:function(e,t){return Gi(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,i=-1,r=n.length;++i<r;)if(Gi(n[i].geometry,t))return!0;return!1}},rg={Sphere:function(){return!0},Point:function(e,t){return Yi(e.coordinates,t)},MultiPoint:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)if(Yi(n[i],t))return!0;return!1},LineString:function(e,t){return Xi(e.coordinates,t)},MultiLineString:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)if(Xi(n[i],t))return!0;return!1},Polygon:function(e,t){return $i(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)if($i(n[i],t))return!0;return!1},GeometryCollection:function(e,t){for(var n=e.geometries,i=-1,r=n.length;++i<r;)if(Gi(n[i],t))return!0;return!1}},og=function(e){return e},ag=Ch(),sg=Ch(),lg={point:Zn,lineStart:Zn,lineEnd:Zn,polygonStart:function(){lg.lineStart=tr,lg.lineEnd=rr},polygonEnd:function(){lg.lineStart=lg.lineEnd=lg.point=Zn,ag.add(lp(sg)),sg.reset()},result:function(){var e=ag/2;return ag.reset(),e}},ug=1/0,cg=ug,dg=-ug,fg=dg,hg={point:function(e,t){e<ug&&(ug=e),e>dg&&(dg=e),t<cg&&(cg=t),t>fg&&(fg=t)},lineStart:Zn,lineEnd:Zn,polygonStart:Zn,polygonEnd:Zn,result:function(){var e=[[ug,cg],[dg,fg]];return dg=fg=-(cg=ug=1/0),e}},pg=0,gg=0,vg=0,mg=0,bg=0,yg=0,xg=0,wg=0,Cg=0,Sg={point:or,lineStart:ar,lineEnd:ur,polygonStart:function(){Sg.lineStart=cr,Sg.lineEnd=dr},polygonEnd:function(){Sg.point=or,Sg.lineStart=ar,Sg.lineEnd=ur},result:function(){var e=Cg?[xg/Cg,wg/Cg]:yg?[mg/yg,bg/yg]:vg?[pg/vg,gg/vg]:[NaN,NaN];return pg=gg=vg=mg=bg=yg=xg=wg=Cg=0,e}};pr.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._context.moveTo(e,t),this._point=1;break;case 1:this._context.lineTo(e,t);break;default:this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,op)}},result:Zn};var _g,kg,Tg,Mg,Ag,Pg=Ch(),Dg={point:Zn,lineStart:function(){Dg.point=gr},lineEnd:function(){_g&&vr(kg,Tg),Dg.point=Zn},polygonStart:function(){_g=!0},polygonEnd:function(){_g=null},result:function(){var e=+Pg;return Pg.reset(),e}};mr.prototype={_radius:4.5,_circle:br(4.5),pointRadius:function(e){return(e=+e)!==this._radius&&(this._radius=e,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._string.push("M",e,",",t),this._point=1;break;case 1:this._string.push("L",e,",",t);break;default:null==this._circle&&(this._circle=br(this._radius)),this._string.push("M",e,",",t,this._circle)}},result:function(){if(this._string.length){var e=this._string.join("");return this._string=[],e}return null}};var Eg=function(e,t,n,i){return function(r,o){function a(t,n){var i=r(t,n);e(t=i[0],n=i[1])&&o.point(t,n)}function s(e,t){var n=r(e,t);v.point(n[0],n[1])}function l(){w.point=s,v.lineStart()}function u(){w.point=a,v.lineEnd()}function c(e,t){g.push([e,t]);var n=r(e,t);y.point(n[0],n[1])}function d(){y.lineStart(),g=[]}function f(){c(g[0][0],g[0][1]),y.lineEnd();var e,t,n,i,r=y.clean(),a=b.result(),s=a.length;if(g.pop(),h.push(g),g=null,s)if(1&r){if(n=a[0],(t=n.length-1)>0){for(x||(o.polygonStart(),x=!0),o.lineStart(),e=0;e<t;++e)o.point((i=n[e])[0],i[1]);o.lineEnd()}}else s>1&&2&r&&a.push(a.pop().concat(a.shift())),p.push(a.filter(yr))}var h,p,g,v=t(o),m=r.invert(i[0],i[1]),b=Vp(),y=t(b),x=!1,w={point:a,lineStart:l,lineEnd:u,polygonStart:function(){w.point=c,w.lineStart=d,w.lineEnd=f,p=[],h=[]},polygonEnd:function(){w.point=a,w.lineStart=l,w.lineEnd=u,p=Du(p);var e=Jp(h,m);p.length?(x||(o.polygonStart(),x=!0),Gp(p,xr,e,n,o)):e&&(x||(o.polygonStart(),x=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),x&&(o.polygonEnd(),x=!1),p=h=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}};return w}},Rg=Eg(function(){return!0},function(e){var t,n=NaN,i=NaN,r=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(o,a){var s=o>0?np:-np,l=lp(o-n);lp(l-np)<tp?(e.point(n,i=(i+a)/2>0?ip:-ip),e.point(r,i),e.lineEnd(),e.lineStart(),e.point(s,i),e.point(o,i),t=0):r!==s&&l>=np&&(lp(n-r)<tp&&(n-=r*tp),lp(o-s)<tp&&(o-=s*tp),i=wr(n,i,o,a),e.point(r,i),e.lineEnd(),e.lineStart(),e.point(s,i),t=0),e.point(n=o,i=a),r=s},lineEnd:function(){e.lineEnd(),n=i=NaN},clean:function(){return 2-t}}},function(e,t,n,i){var r;if(null==e)r=n*ip,i.point(-np,r),i.point(0,r),i.point(np,r),i.point(np,0),i.point(np,-r),i.point(0,-r),i.point(-np,-r),i.point(-np,0),i.point(-np,r);else if(lp(e[0]-t[0])>tp){var o=e[0]<t[0]?np:-np;r=n*o/2,i.point(-o,r),i.point(0,r),i.point(o,r)}else i.point(t[0],t[1])},[-np,-ip]),Ig=function(e,t){function n(e,t){return dp(e)*dp(t)>o}function i(e,t,n){var i=[1,0,0],r=ui(si(e),si(t)),a=li(r,r),s=r[0],l=a-s*s;if(!l)return!n&&e;var u=o*a/l,c=-o*s/l,d=ui(i,r),f=di(i,u);ci(f,di(r,c));var h=d,p=li(f,h),g=li(h,h),v=p*p-g*(li(f,f)-1);if(!(v<0)){var m=bp(v),b=di(h,(-p-m)/g);if(ci(b,f),b=ai(b),!n)return b;var y,x=e[0],w=t[0],C=e[1],S=t[1];w<x&&(y=x,x=w,w=y);var _=w-x,k=lp(_-np)<tp,T=k||_<tp;if(!k&&S<C&&(y=C,C=S,S=y),T?k?C+S>0^b[1]<(lp(b[0]-x)<tp?C:S):C<=b[1]&&b[1]<=S:_>np^(x<=b[0]&&b[0]<=w)){var M=di(h,(-p+m)/g);return ci(M,f),[b,ai(M)]}}}function r(t,n){var i=a?e:np-e,r=0;return t<-i?r|=1:t>i&&(r|=2),n<-i?r|=4:n>i&&(r|=8),r}var o=dp(e),a=o>0,s=lp(o)>tp;return Eg(n,function(e){var t,o,l,u,c;return{lineStart:function(){u=l=!1,c=1},point:function(d,f){var h,p=[d,f],g=n(d,f),v=a?g?0:r(d,f):g?r(d+(d<0?np:-np),f):0;if(!t&&(u=l=g)&&e.lineStart(),g!==l&&(!(h=i(t,p))||Up(t,h)||Up(p,h))&&(p[0]+=tp,p[1]+=tp,g=n(p[0],p[1])),g!==l)c=0,g?(e.lineStart(),h=i(p,t),e.point(h[0],h[1])):(h=i(t,p),e.point(h[0],h[1]),e.lineEnd()),t=h;else if(s&&t&&a^g){var m;v&o||!(m=i(p,t,!0))||(c=0,a?(e.lineStart(),e.point(m[0][0],m[0][1]),e.point(m[1][0],m[1][1]),e.lineEnd()):(e.point(m[1][0],m[1][1]),e.lineEnd(),e.lineStart(),e.point(m[0][0],m[0][1])))}!g||t&&Up(t,p)||e.point(p[0],p[1]),t=p,l=g,o=v},lineEnd:function(){l&&e.lineEnd(),t=null},clean:function(){return c|(u&&l)<<1}}},function(n,i,r,o){ji(o,e,t,r,n,i)},a?[0,-e]:[-np,e-np])};Sr.prototype={constructor:Sr,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Fg=16,Lg=dp(30*sp),Ng=function(e,t){return+t?Mr(e,t):Tr(e)},Og=Cr({point:function(e,t){this.stream.point(e*sp,t*sp)}}),jg=function(){return Dr(Rr).scale(155.424).center([0,33.6442])},zg=function(){return jg().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])},qg=Fr(function(e){return bp(2/(1+e))});qg.invert=Lr(function(e){return 2*Jn(e/2)});var Hg=Fr(function(e){return(e=$n(e))&&e/vp(e)});Hg.invert=Lr(function(e){return e}),Nr.invert=function(e,t){return[e,2*up(hp(t))-ip]},qr.invert=qr,Br.invert=Lr(up),Wr.invert=Lr(Jn),Ur.invert=Lr(function(e){return 2*up(e)}),Gr.invert=function(e,t){return[-t,2*up(hp(e))-ip]},ao.prototype=no.prototype={constructor:ao,count:function(){return this.eachAfter(eo)},each:function(e){var t,n,i,r,o=this,a=[o];do{for(t=a.reverse(),a=[];o=t.pop();)if(e(o),n=o.children)for(i=0,r=n.length;i<r;++i)a.push(n[i])}while(a.length);return this},eachAfter:function(e){for(var t,n,i,r=this,o=[r],a=[];r=o.pop();)if(a.push(r),t=r.children)for(n=0,i=t.length;n<i;++n)o.push(t[n]);for(;r=a.pop();)e(r);return this},eachBefore:function(e){for(var t,n,i=this,r=[i];i=r.pop();)if(e(i),t=i.children)for(n=t.length-1;n>=0;--n)r.push(t[n]);return this},sum:function(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,i=t.children,r=i&&i.length;--r>=0;)n+=i[r].value;t.value=n})},sort:function(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})},path:function(e){for(var t=this,n=to(t,e),i=[t];t!==n;)t=t.parent,i.push(t);for(var r=i.length;e!==n;)i.splice(r,0,e),e=e.parent;return i},ancestors:function(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t},descendants:function(){var e=[];return this.each(function(t){e.push(t)}),e},leaves:function(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e},links:function(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t},copy:function(){return no(this).eachBefore(ro)}};var Bg=Array.prototype.slice,Vg=function(e){for(var t,n,i=0,r=(e=so(Bg.call(e))).length,o=[];i<r;)t=e[i],n&&co(n,t)?++i:(n=ho(o=lo(o,t)),i=0);return n},Wg=function(e){return function(){return e}},Ug=function(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)},Gg=function(e,t,n,i,r){for(var o,a=e.children,s=-1,l=a.length,u=e.value&&(i-t)/e.value;++s<l;)(o=a[s]).y0=n,o.y1=r,o.x0=t,o.x1=t+=o.value*u},Yg="$",Xg={depth:-1},$g={};Oo.prototype=Object.create(ao.prototype);var Jg=function(e,t,n,i,r){for(var o,a=e.children,s=-1,l=a.length,u=e.value&&(r-n)/e.value;++s<l;)(o=a[s]).x0=t,o.x1=i,o.y0=n,o.y1=n+=o.value*u},Qg=(1+Math.sqrt(5))/2,Zg=function e(t){function n(e,n,i,r,o){zo(t,e,n,i,r,o)}return n.ratio=function(t){return e((t=+t)>1?t:1)},n}(Qg),Kg=function e(t){function n(e,n,i,r,o){if((a=e._squarify)&&a.ratio===t)for(var a,s,l,u,c,d=-1,f=a.length,h=e.value;++d<f;){for(l=(s=a[d]).children,u=s.value=0,c=l.length;u<c;++u)s.value+=l[u].value;s.dice?Gg(s,n,i,r,i+=(o-i)*s.value/h):Jg(s,n,i,n+=(r-n)*s.value/h,o),h-=s.value}else e._squarify=a=zo(t,e,n,i,r,o),a.ratio=t}return n.ratio=function(t){return e((t=+t)>1?t:1)},n}(Qg),ev=function(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0])},tv=[].slice,nv={};Bo.prototype=Xo.prototype={constructor:Bo,defer:function(e){if("function"!=typeof e)throw new Error("invalid callback");if(this._call)throw new Error("defer after await");if(null!=this._error)return this;var t=tv.call(arguments,1);return t.push(e),++this._waiting,this._tasks.push(t),Vo(this),this},abort:function(){return null==this._error&&Go(this,new Error("abort")),this},await:function(e){if("function"!=typeof e)throw new Error("invalid callback");if(this._call)throw new Error("multiple await");return this._call=function(t,n){e.apply(null,[t].concat(n))},Yo(this),this},awaitAll:function(e){if("function"!=typeof e)throw new Error("invalid callback");if(this._call)throw new Error("multiple await");return this._call=e,Yo(this),this}};var iv=function(){return Math.random()},rv=function e(t){function n(e,n){return e=null==e?0:+e,n=null==n?1:+n,1===arguments.length?(n=e,e=0):n-=e,function(){return t()*n+e}}return n.source=e,n}(iv),ov=function e(t){function n(e,n){var i,r;return e=null==e?0:+e,n=null==n?1:+n,function(){var o;if(null!=i)o=i,i=null;else do{i=2*t()-1,o=2*t()-1,r=i*i+o*o}while(!r||r>1);return e+n*o*Math.sqrt(-2*Math.log(r)/r)}}return n.source=e,n}(iv),av=function e(t){function n(){var e=ov.source(t).apply(this,arguments);return function(){return Math.exp(e())}}return n.source=e,n}(iv),sv=function e(t){function n(e){return function(){for(var n=0,i=0;i<e;++i)n+=t();return n}}return n.source=e,n}(iv),lv=function e(t){function n(e){var n=sv.source(t)(e);return function(){return n()/e}}return n.source=e,n}(iv),uv=function e(t){function n(e){return function(){return-Math.log(1-t())/e}}return n.source=e,n}(iv),cv=function(e,t){function n(e){var t,n=u.status;if(!n&&Jo(u)||n>=200&&n<300||304===n){if(o)try{t=o.call(i,u)}catch(e){return void s.call("error",i,e)}else t=u;s.call("load",i,t)}else s.call("error",i,e)}var i,r,o,a,s=f("beforesend","progress","load","error"),l=Cn(),u=new XMLHttpRequest,c=null,d=null,h=0;if("undefined"==typeof XDomainRequest||"withCredentials"in u||!/^(http(s)?:)?\/\//.test(e)||(u=new XDomainRequest),"onload"in u?u.onload=u.onerror=u.ontimeout=n:u.onreadystatechange=function(e){u.readyState>3&&n(e)},u.onprogress=function(e){s.call("progress",i,e)},i={header:function(e,t){return e=(e+"").toLowerCase(),arguments.length<2?l.get(e):(null==t?l.remove(e):l.set(e,t+""),i)},mimeType:function(e){return arguments.length?(r=null==e?null:e+"",i):r},responseType:function(e){return arguments.length?(a=e,i):a},timeout:function(e){return arguments.length?(h=+e,i):h},user:function(e){return arguments.length<1?c:(c=null==e?null:e+"",i)},password:function(e){return arguments.length<1?d:(d=null==e?null:e+"",i)},response:function(e){return o=e,i},get:function(e,t){return i.send("GET",e,t)},post:function(e,t){return i.send("POST",e,t)},send:function(t,n,o){return u.open(t,e,!0,c,d),null==r||l.has("accept")||l.set("accept",r+",*/*"),u.setRequestHeader&&l.each(function(e,t){u.setRequestHeader(t,e)}),null!=r&&u.overrideMimeType&&u.overrideMimeType(r),null!=a&&(u.responseType=a),h>0&&(u.timeout=h),null==o&&"function"==typeof n&&(o=n,n=null),null!=o&&1===o.length&&(o=$o(o)),null!=o&&i.on("error",o).on("load",function(e){o(null,e)}),s.call("beforesend",i,u),u.send(null==n?null:n),i},abort:function(){return u.abort(),i},on:function(){var e=s.on.apply(s,arguments);return e===s?i:e}},null!=t){if("function"!=typeof t)throw new Error("invalid callback: "+t);return i.get(t)}return i},dv=function(e,t){return function(n,i){var r=cv(n).mimeType(e).response(t);if(null!=i){if("function"!=typeof i)throw new Error("invalid callback: "+i);return r.get(i)}return r}},fv=dv("text/html",function(e){return document.createRange().createContextualFragment(e.responseText)}),hv=dv("application/json",function(e){return JSON.parse(e.responseText)}),pv=dv("text/plain",function(e){return e.responseText}),gv=dv("application/xml",function(e){var t=e.responseXML;if(!t)throw new Error("parse error");return t}),vv=function(e,t){return function(n,i,r){arguments.length<3&&(r=i,i=null);var o=cv(n).mimeType(e);return o.row=function(e){return arguments.length?o.response(Qo(t,i=e)):i},o.row(i),r?o.get(r):o}},mv=vv("text/csv",Gf),bv=vv("text/tab-separated-values",Qf),yv=Array.prototype,xv=yv.map,wv=yv.slice,Cv={name:"implicit"},Sv=function(e){return function(){return e}},_v=function(e){return+e},kv=[0,1],Tv=function(t,n,i){var o,a=t[0],s=t[t.length-1],l=r(a,s,null==n?10:n);switch((i=Wn(null==i?",f":i)).type){case"s":var u=Math.max(Math.abs(a),Math.abs(s));return null!=i.precision||isNaN(o=xh(l,u))||(i.precision=o),e.formatPrefix(i,u);case"":case"e":case"g":case"p":case"r":null!=i.precision||isNaN(o=wh(l,Math.max(Math.abs(a),Math.abs(s))))||(i.precision=o-("e"===i.type));break;case"f":case"%":null!=i.precision||isNaN(o=yh(l))||(i.precision=o-2*("%"===i.type))}return e.format(i)},Mv=function(e,t){var n,i=0,r=(e=e.slice()).length-1,o=e[i],a=e[r];return a<o&&(n=i,i=r,r=n,n=o,o=a,a=n),e[i]=t.floor(o),e[r]=t.ceil(a),e},Av=new Date,Pv=new Date,Dv=Sa(function(){},function(e,t){e.setTime(+e+t)},function(e,t){return t-e});Dv.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?Sa(function(t){t.setTime(Math.floor(t/e)*e)},function(t,n){t.setTime(+t+n*e)},function(t,n){return(n-t)/e}):Dv:null};var Ev=Dv.range,Rv=6e4,Iv=6048e5,Fv=Sa(function(e){e.setTime(1e3*Math.floor(e/1e3))},function(e,t){e.setTime(+e+1e3*t)},function(e,t){return(t-e)/1e3},function(e){return e.getUTCSeconds()}),Lv=Fv.range,Nv=Sa(function(e){e.setTime(Math.floor(e/Rv)*Rv)},function(e,t){e.setTime(+e+t*Rv)},function(e,t){return(t-e)/Rv},function(e){return e.getMinutes()}),Ov=Nv.range,jv=Sa(function(e){var t=e.getTimezoneOffset()*Rv%36e5;t<0&&(t+=36e5),e.setTime(36e5*Math.floor((+e-t)/36e5)+t)},function(e,t){e.setTime(+e+36e5*t)},function(e,t){return(t-e)/36e5},function(e){return e.getHours()}),zv=jv.range,qv=Sa(function(e){e.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+t)},function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Rv)/864e5},function(e){return e.getDate()-1}),Hv=qv.range,Bv=_a(0),Vv=_a(1),Wv=_a(2),Uv=_a(3),Gv=_a(4),Yv=_a(5),Xv=_a(6),$v=Bv.range,Jv=Vv.range,Qv=Wv.range,Zv=Uv.range,Kv=Gv.range,em=Yv.range,tm=Xv.range,nm=Sa(function(e){e.setDate(1),e.setHours(0,0,0,0)},function(e,t){e.setMonth(e.getMonth()+t)},function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())},function(e){return e.getMonth()}),im=nm.range,rm=Sa(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});rm.every=function(e){return isFinite(e=Math.floor(e))&&e>0?Sa(function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n*e)}):null};var om=rm.range,am=Sa(function(e){e.setUTCSeconds(0,0)},function(e,t){e.setTime(+e+t*Rv)},function(e,t){return(t-e)/Rv},function(e){return e.getUTCMinutes()}),sm=am.range,lm=Sa(function(e){e.setUTCMinutes(0,0,0)},function(e,t){e.setTime(+e+36e5*t)},function(e,t){return(t-e)/36e5},function(e){return e.getUTCHours()}),um=lm.range,cm=Sa(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/864e5},function(e){return e.getUTCDate()-1}),dm=cm.range,fm=ka(0),hm=ka(1),pm=ka(2),gm=ka(3),vm=ka(4),mm=ka(5),bm=ka(6),ym=fm.range,xm=hm.range,wm=pm.range,Cm=gm.range,Sm=vm.range,_m=mm.range,km=bm.range,Tm=Sa(function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCMonth(e.getUTCMonth()+t)},function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())},function(e){return e.getUTCMonth()}),Mm=Tm.range,Am=Sa(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});Am.every=function(e){return isFinite(e=Math.floor(e))&&e>0?Sa(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)}):null};var Pm,Dm=Am.range,Em={"-":"",_:" ",0:"0"},Rm=/^\s*\d+/,Im=/^%/,Fm=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;Ss({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var Lm=Date.prototype.toISOString?function(e){return e.toISOString()}:e.utcFormat("%Y-%m-%dT%H:%M:%S.%LZ"),Nm=+new Date("2000-01-01T00:00:00.000Z")?function(e){var t=new Date(e);return isNaN(t)?null:t}:e.utcParse("%Y-%m-%dT%H:%M:%S.%LZ"),Om=1e3,jm=60*Om,zm=60*jm,qm=24*zm,Hm=7*qm,Bm=30*qm,Vm=365*qm,Wm=function(e){return e.match(/.{6}/g).map(function(e){return"#"+e})},Um=Wm("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Gm=Wm("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),Ym=Wm("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),Xm=Wm("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5"),$m=xd(Ge(300,.5,0),Ge(-240,.5,1)),Jm=xd(Ge(-100,.75,.35),Ge(80,1.5,.8)),Qm=xd(Ge(260,.75,.35),Ge(80,1.5,.8)),Zm=Ge(),Km=Ms(Wm("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),eb=Ms(Wm("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),tb=Ms(Wm("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),nb=Ms(Wm("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921")),ib=function(e){return function(){return e}},rb=Math.abs,ob=Math.atan2,ab=Math.cos,sb=Math.max,lb=Math.min,ub=Math.sin,cb=Math.sqrt,db=1e-12,fb=Math.PI,hb=fb/2,pb=2*fb;js.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}};var gb=function(e){return new js(e)},vb=function(){function e(e){var s,l,u,c=e.length,d=!1;for(null==r&&(a=o(u=gn())),s=0;s<=c;++s)!(s<c&&i(l=e[s],s,e))===d&&((d=!d)?a.lineStart():a.lineEnd()),d&&a.point(+t(l,s,e),+n(l,s,e));if(u)return a=null,u+""||null}var t=zs,n=qs,i=ib(!0),r=null,o=gb,a=null;return e.x=function(n){return arguments.length?(t="function"==typeof n?n:ib(+n),e):t},e.y=function(t){return arguments.length?(n="function"==typeof t?t:ib(+t),e):n},e.defined=function(t){return arguments.length?(i="function"==typeof t?t:ib(!!t),e):i},e.curve=function(t){return arguments.length?(o=t,null!=r&&(a=o(r)),e):o},e.context=function(t){return arguments.length?(null==t?r=a=null:a=o(r=t),e):r},e},mb=function(){function e(e){var t,c,d,f,h,p=e.length,g=!1,v=new Array(p),m=new Array(p);for(null==s&&(u=l(h=gn())),t=0;t<=p;++t){if(!(t<p&&a(f=e[t],t,e))===g)if(g=!g)c=t,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),d=t-1;d>=c;--d)u.point(v[d],m[d]);u.lineEnd(),u.areaEnd()}g&&(v[t]=+n(f,t,e),m[t]=+r(f,t,e),u.point(i?+i(f,t,e):v[t],o?+o(f,t,e):m[t]))}if(h)return u=null,h+""||null}function t(){return vb().defined(a).curve(l).context(s)}var n=zs,i=null,r=ib(0),o=qs,a=ib(!0),s=null,l=gb,u=null;return e.x=function(t){return arguments.length?(n="function"==typeof t?t:ib(+t),i=null,e):n},e.x0=function(t){return arguments.length?(n="function"==typeof t?t:ib(+t),e):n},e.x1=function(t){return arguments.length?(i=null==t?null:"function"==typeof t?t:ib(+t),e):i},e.y=function(t){return arguments.length?(r="function"==typeof t?t:ib(+t),o=null,e):r},e.y0=function(t){return arguments.length?(r="function"==typeof t?t:ib(+t),e):r},e.y1=function(t){return arguments.length?(o=null==t?null:"function"==typeof t?t:ib(+t),e):o},e.lineX0=e.lineY0=function(){return t().x(n).y(r)},e.lineY1=function(){return t().x(n).y(o)},e.lineX1=function(){return t().x(i).y(r)},e.defined=function(t){return arguments.length?(a="function"==typeof t?t:ib(!!t),e):a},e.curve=function(t){return arguments.length?(l=t,null!=s&&(u=l(s)),e):l},e.context=function(t){return arguments.length?(null==t?s=u=null:u=l(s=t),e):s},e},bb=function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN},yb=function(e){return e},xb=Bs(gb);Hs.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(e,t){this._curve.point(t*Math.sin(e),t*-Math.cos(e))}};var wb=function(){return Vs(vb().curve(xb))},Cb=function(){var e=mb().curve(xb),t=e.curve,n=e.lineX0,i=e.lineX1,r=e.lineY0,o=e.lineY1;return e.angle=e.x,delete e.x,e.startAngle=e.x0,delete e.x0,e.endAngle=e.x1,delete e.x1,e.radius=e.y,delete e.y,e.innerRadius=e.y0,delete e.y0,e.outerRadius=e.y1,delete e.y1,e.lineStartAngle=function(){return Vs(n())},delete e.lineX0,e.lineEndAngle=function(){return Vs(i())},delete e.lineX1,e.lineInnerRadius=function(){return Vs(r())},delete e.lineY0,e.lineOuterRadius=function(){return Vs(o())},delete e.lineY1,e.curve=function(e){return arguments.length?t(Bs(e)):t()._curve},e},Sb=function(e,t){return[(t=+t)*Math.cos(e-=Math.PI/2),t*Math.sin(e)]},_b=Array.prototype.slice,kb={draw:function(e,t){var n=Math.sqrt(t/fb);e.moveTo(n,0),e.arc(0,0,n,0,pb)}},Tb={draw:function(e,t){var n=Math.sqrt(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},Mb=Math.sqrt(1/3),Ab=2*Mb,Pb={draw:function(e,t){var n=Math.sqrt(t/Ab),i=n*Mb;e.moveTo(0,-n),e.lineTo(i,0),e.lineTo(0,n),e.lineTo(-i,0),e.closePath()}},Db=Math.sin(fb/10)/Math.sin(7*fb/10),Eb=Math.sin(pb/10)*Db,Rb=-Math.cos(pb/10)*Db,Ib={draw:function(e,t){var n=Math.sqrt(.8908130915292852*t),i=Eb*n,r=Rb*n;e.moveTo(0,-n),e.lineTo(i,r);for(var o=1;o<5;++o){var a=pb*o/5,s=Math.cos(a),l=Math.sin(a);e.lineTo(l*n,-s*n),e.lineTo(s*i-l*r,l*i+s*r)}e.closePath()}},Fb={draw:function(e,t){var n=Math.sqrt(t),i=-n/2;e.rect(i,i,n,n)}},Lb=Math.sqrt(3),Nb={draw:function(e,t){var n=-Math.sqrt(t/(3*Lb));e.moveTo(0,2*n),e.lineTo(-Lb*n,-n),e.lineTo(Lb*n,-n),e.closePath()}},Ob=-.5,jb=Math.sqrt(3)/2,zb=1/Math.sqrt(12),qb=3*(zb/2+1),Hb={draw:function(e,t){var n=Math.sqrt(t/qb),i=n/2,r=n*zb,o=i,a=n*zb+n,s=-o,l=a;e.moveTo(i,r),e.lineTo(o,a),e.lineTo(s,l),e.lineTo(Ob*i-jb*r,jb*i+Ob*r),e.lineTo(Ob*o-jb*a,jb*o+Ob*a),e.lineTo(Ob*s-jb*l,jb*s+Ob*l),e.lineTo(Ob*i+jb*r,Ob*r-jb*i),e.lineTo(Ob*o+jb*a,Ob*a-jb*o),e.lineTo(Ob*s+jb*l,Ob*l-jb*s),e.closePath()}},Bb=[kb,Tb,Pb,Fb,Ib,Nb,Hb],Vb=function(){};Qs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Js(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Js(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},Zs.prototype={areaStart:Vb,areaEnd:Vb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Js(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},Ks.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,i=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break;case 3:this._point=4;default:Js(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},el.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var i,r=e[0],o=t[0],a=e[n]-r,s=t[n]-o,l=-1;++l<=n;)i=l/n,this._basis.point(this._beta*e[l]+(1-this._beta)*(r+i*a),this._beta*t[l]+(1-this._beta)*(o+i*s));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};var Wb=function e(t){function n(e){return 1===t?new Qs(e):new el(e,t)}return n.beta=function(t){return e(+t)},n}(.85);nl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:tl(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:tl(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Ub=function e(t){function n(e){return new nl(e,t)}return n.tension=function(t){return e(+t)},n}(0);il.prototype={areaStart:Vb,areaEnd:Vb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:tl(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Gb=function e(t){function n(e){return new il(e,t)}return n.tension=function(t){return e(+t)},n}(0);rl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:tl(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Yb=function e(t){function n(e){return new rl(e,t)}return n.tension=function(t){return e(+t)},n}(0);al.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,i=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:ol(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Xb=function e(t){function n(e){return t?new al(e,t):new nl(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);sl.prototype={areaStart:Vb,areaEnd:Vb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,i=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:ol(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var $b=function e(t){function n(e){return t?new sl(e,t):new il(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);ll.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,i=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:ol(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Jb=function e(t){function n(e){return t?new ll(e,t):new rl(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);ul.prototype={areaStart:Vb,areaEnd:Vb,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},pl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:hl(this,this._t0,fl(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,e!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,hl(this,fl(this,n=dl(this,e,t)),n);break;default:hl(this,this._t0,n=dl(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(gl.prototype=Object.create(pl.prototype)).point=function(e,t){pl.prototype.point.call(this,t,e)},vl.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,i,r,o){this._context.bezierCurveTo(t,e,i,n,o,r)}},ml.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var i=bl(e),r=bl(t),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(i[0][o],r[0][o],i[1][o],r[1][o],e[a],t[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},yl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};var Qb=function(e,t){if((r=e.length)>1)for(var n,i,r,o=1,a=e[t[0]],s=a.length;o<r;++o)for(i=a,a=e[t[o]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]},Zb=function(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n},Kb=function(e){var t=e.map(wl);return Zb(e).sort(function(e,n){return t[e]-t[n]})},ey=function(e){return function(){return e}};_l.prototype={constructor:_l,insert:function(e,t){var n,i,r;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){for(e=e.R;e.L;)e=e.L;e.L=t}else e.R=t;n=e}else this._?(e=Al(this._),t.P=null,t.N=e,e.P=e.L=t,n=e):(t.P=t.N=null,this._=t,n=null);for(t.L=t.R=null,t.U=n,t.C=!0,e=t;n&&n.C;)n===(i=n.U).L?(r=i.R)&&r.C?(n.C=r.C=!1,i.C=!0,e=i):(e===n.R&&(Tl(this,n),n=(e=n).U),n.C=!1,i.C=!0,Ml(this,i)):(r=i.L)&&r.C?(n.C=r.C=!1,i.C=!0,e=i):(e===n.L&&(Ml(this,n),n=(e=n).U),n.C=!1,i.C=!0,Tl(this,i)),n=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var t,n,i,r=e.U,o=e.L,a=e.R;if(n=o?a?Al(a):o:a,r?r.L===e?r.L=n:r.R=n:this._=n,o&&a?(i=n.C,n.C=e.C,n.L=o,o.U=n,n!==a?(r=n.U,n.U=e.U,e=n.R,r.L=e,n.R=a,a.U=n):(n.U=r,r=n,e=n.R)):(i=e.C,e=n),e&&(e.U=r),!i)if(e&&e.C)e.C=!1;else{do{if(e===this._)break;if(e===r.L){if((t=r.R).C&&(t.C=!1,r.C=!0,Tl(this,r),t=r.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,Ml(this,t),t=r.R),t.C=r.C,r.C=t.R.C=!1,Tl(this,r),e=this._;break}}else if((t=r.L).C&&(t.C=!1,r.C=!0,Ml(this,r),t=r.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,Tl(this,t),t=r.L),t.C=r.C,r.C=t.L.C=!1,Ml(this,r),e=this._;break}t.C=!0,e=r,r=r.U}while(!e.C);e&&(e.C=!1)}}};var ty,ny,iy,ry,oy,ay=[],sy=[],ly=1e-6,uy=1e-12;Kl.prototype={constructor:Kl,polygons:function(){var e=this.edges;return this.cells.map(function(t){var n=t.halfedges.map(function(n){return Ol(t,e[n])});return n.data=t.site.data,n})},triangles:function(){var e=[],t=this.edges;return this.cells.forEach(function(n,i){if(o=(r=n.halfedges).length)for(var r,o,a,s=n.site,l=-1,u=t[r[o-1]],c=u.left===s?u.right:u.left;++l<o;)a=c,c=(u=t[r[l]]).left===s?u.right:u.left,a&&c&&i<a.index&&i<c.index&&Ql(s,a,c)<0&&e.push([s.data,a.data,c.data])}),e},links:function(){return this.edges.filter(function(e){return e.right}).map(function(e){return{source:e.left.data,target:e.right.data}})},find:function(e,t,n){for(var i,r,o=this,a=o._found||0,s=o.cells.length;!(r=o.cells[a]);)if(++a>=s)return null;var l=e-r.site[0],u=t-r.site[1],c=l*l+u*u;do{r=o.cells[i=a],a=null,r.halfedges.forEach(function(n){var i=o.edges[n],s=i.left;if(s!==r.site&&s||(s=i.right)){var l=e-s[0],u=t-s[1],d=l*l+u*u;d<c&&(c=d,a=s.index)}})}while(null!==a);return o._found=i,null==n||c<=n*n?r.site:null}};var cy=function(e){return function(){return e}};tu.prototype={constructor:tu,scale:function(e){return 1===e?this:new tu(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new tu(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var dy=new tu(1,0,0);nu.prototype=tu.prototype;var fy=function(){e.event.preventDefault(),e.event.stopImmediatePropagation()};e.version="4.10.0",e.bisect=fu,e.bisectRight=fu,e.bisectLeft=hu,e.ascending=uu,e.bisector=cu,e.cross=function(e,t,i){var r,o,a,s,l=e.length,u=t.length,c=new Array(l*u);for(null==i&&(i=n),r=a=0;r<l;++r)for(s=e[r],o=0;o<u;++o,++a)c[a]=i(s,t[o]);return c},e.descending=function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN},e.deviation=vu,e.extent=mu,e.histogram=function(){function e(e){var o,a,s=e.length,l=new Array(s);for(o=0;o<s;++o)l[o]=t(e[o],o,e);var u=n(l),c=u[0],d=u[1],f=i(l,c,d);Array.isArray(f)||(f=r(c,d,f),f=Su(Math.ceil(c/f)*f,Math.floor(d/f)*f,f));for(var h=f.length;f[0]<=c;)f.shift(),--h;for(;f[h-1]>d;)f.pop(),--h;var p,g=new Array(h+1);for(o=0;o<=h;++o)(p=g[o]=[]).x0=o>0?f[o-1]:c,p.x1=o<h?f[o]:d;for(o=0;o<s;++o)c<=(a=l[o])&&a<=d&&g[fu(f,a,0,h)].push(e[o]);return g}var t=Cu,n=mu,i=Au;return e.value=function(n){return arguments.length?(t="function"==typeof n?n:wu(n),e):t},e.domain=function(t){return arguments.length?(n="function"==typeof t?t:wu([t[0],t[1]]),e):n},e.thresholds=function(t){return arguments.length?(i="function"==typeof t?t:wu(Array.isArray(t)?yu.call(t):t),e):i},e},e.thresholdFreedmanDiaconis=function(e,t,n){return e=xu.call(e,pu).sort(uu),Math.ceil((n-t)/(2*(Pu(e,.75)-Pu(e,.25))*Math.pow(e.length,-1/3)))},e.thresholdScott=function(e,t,n){return Math.ceil((n-t)/(3.5*vu(e)*Math.pow(e.length,-1/3)))},e.thresholdSturges=Au,e.max=function(e,t){var n,i,r=e.length,o=-1;if(null==t){for(;++o<r;)if(null!=(n=e[o])&&n>=n)for(i=n;++o<r;)null!=(n=e[o])&&n>i&&(i=n)}else for(;++o<r;)if(null!=(n=t(e[o],o,e))&&n>=n)for(i=n;++o<r;)null!=(n=t(e[o],o,e))&&n>i&&(i=n);return i},e.mean=function(e,t){var n,i=e.length,r=i,o=-1,a=0;if(null==t)for(;++o<i;)isNaN(n=pu(e[o]))?--r:a+=n;else for(;++o<i;)isNaN(n=pu(t(e[o],o,e)))?--r:a+=n;if(r)return a/r},e.median=function(e,t){var n,i=e.length,r=-1,o=[];if(null==t)for(;++r<i;)isNaN(n=pu(e[r]))||o.push(n);else for(;++r<i;)isNaN(n=pu(t(e[r],r,e)))||o.push(n);return Pu(o.sort(uu),.5)},e.merge=Du,e.min=Eu,e.pairs=function(e,t){null==t&&(t=n);for(var i=0,r=e.length-1,o=e[0],a=new Array(r<0?0:r);i<r;)a[i]=t(o,o=e[++i]);return a},e.permute=function(e,t){for(var n=t.length,i=new Array(n);n--;)i[n]=e[t[n]];return i},e.quantile=Pu,e.range=Su,e.scan=function(e,t){if(n=e.length){var n,i,r=0,o=0,a=e[o];for(null==t&&(t=uu);++r<n;)(t(i=e[r],a)<0||0!==t(a,a))&&(a=i,o=r);return 0===t(a,a)?o:void 0}},e.shuffle=function(e,t,n){for(var i,r,o=(null==n?e.length:n)-(t=null==t?0:+t);o;)r=Math.random()*o--|0,i=e[o+t],e[o+t]=e[r+t],e[r+t]=i;return e},e.sum=function(e,t){var n,i=e.length,r=-1,o=0;if(null==t)for(;++r<i;)(n=+e[r])&&(o+=n);else for(;++r<i;)(n=+t(e[r],r,e))&&(o+=n);return o},e.ticks=Mu,e.tickIncrement=i,e.tickStep=r,e.transpose=Ru,e.variance=gu,e.zip=function(){return Ru(arguments)},e.axisTop=function(e){return d(Lu,e)},e.axisRight=function(e){return d(Nu,e)},e.axisBottom=function(e){return d(Ou,e)},e.axisLeft=function(e){return d(ju,e)},e.brush=function(){return fn(Tf)},e.brushX=function(){return fn(_f)},e.brushY=function(){return fn(kf)},e.brushSelection=function(e){var t=e.__brush;return t?t.dim.output(t.selection):null},e.chord=function(){function e(e){var o,a,s,l,u,c,d=e.length,f=[],h=Su(d),p=[],g=[],v=g.groups=new Array(d),m=new Array(d*d);for(o=0,u=-1;++u<d;){for(a=0,c=-1;++c<d;)a+=e[u][c];f.push(a),p.push(Su(d)),o+=a}for(n&&h.sort(function(e,t){return n(f[e],f[t])}),i&&p.forEach(function(t,n){t.sort(function(t,r){return i(e[n][t],e[n][r])})}),l=(o=Of(0,Nf-t*d)/o)?t:Nf/d,a=0,u=-1;++u<d;){for(s=a,c=-1;++c<d;){var b=h[u],y=p[b][c],x=e[b][y],w=a,C=a+=x*o;m[y*d+b]={index:b,subindex:y,startAngle:w,endAngle:C,value:x}}v[b]={index:b,startAngle:s,endAngle:a,value:f[b]},a+=l}for(u=-1;++u<d;)for(c=u-1;++c<d;){var S=m[c*d+u],_=m[u*d+c];(S.value||_.value)&&g.push(S.value<_.value?{source:_,target:S}:{source:S,target:_})}return r?g.sort(r):g}var t=0,n=null,i=null,r=null;return e.padAngle=function(n){return arguments.length?(t=Of(0,n),e):t},e.sortGroups=function(t){return arguments.length?(n=t,e):n},e.sortSubgroups=function(t){return arguments.length?(i=t,e):i},e.sortChords=function(t){return arguments.length?(null==t?r=null:(r=hn(t))._=t,e):r&&r._},e},e.ribbon=function(){function e(){var e,s=jf.call(arguments),l=t.apply(this,s),u=n.apply(this,s),c=+i.apply(this,(s[0]=l,s)),d=r.apply(this,s)-Lf,f=o.apply(this,s)-Lf,h=c*Rf(d),p=c*If(d),g=+i.apply(this,(s[0]=u,s)),v=r.apply(this,s)-Lf,m=o.apply(this,s)-Lf;if(a||(a=e=gn()),a.moveTo(h,p),a.arc(0,0,c,d,f),d===v&&f===m||(a.quadraticCurveTo(0,0,g*Rf(v),g*If(v)),a.arc(0,0,g,v,m)),a.quadraticCurveTo(0,0,h,p),a.closePath(),e)return a=null,e+""||null}var t=vn,n=mn,i=bn,r=yn,o=xn,a=null;return e.radius=function(t){return arguments.length?(i="function"==typeof t?t:zf(+t),e):i},e.startAngle=function(t){return arguments.length?(r="function"==typeof t?t:zf(+t),e):r},e.endAngle=function(t){return arguments.length?(o="function"==typeof t?t:zf(+t),e):o},e.source=function(n){return arguments.length?(t=n,e):t},e.target=function(t){return arguments.length?(n=t,e):n},e.context=function(t){return arguments.length?(a=null==t?null:t,e):a},e},e.nest=function(){function e(t,r,a,s){if(r>=o.length)return null!=n&&t.sort(n),null!=i?i(t):t;for(var l,u,c,d=-1,f=t.length,h=o[r++],p=Cn(),g=a();++d<f;)(c=p.get(l=h(u=t[d])+""))?c.push(u):p.set(l,[u]);return p.each(function(t,n){s(g,n,e(t,r,a,s))}),g}function t(e,n){if(++n>o.length)return e;var r,s=a[n-1];return null!=i&&n>=o.length?r=e.entries():(r=[],e.each(function(e,i){r.push({key:i,values:t(e,n)})})),null!=s?r.sort(function(e,t){return s(e.key,t.key)}):r}var n,i,r,o=[],a=[];return r={object:function(t){return e(t,0,Sn,_n)},map:function(t){return e(t,0,kn,Tn)},entries:function(n){return t(e(n,0,kn,Tn),0)},key:function(e){return o.push(e),r},sortKeys:function(e){return a[o.length-1]=e,r},sortValues:function(e){return n=e,r},rollup:function(e){return i=e,r}}},e.set=An,e.map=Cn,e.keys=function(e){var t=[];for(var n in e)t.push(n);return t},e.values=function(e){var t=[];for(var n in e)t.push(e[n]);return t},e.entries=function(e){var t=[];for(var n in e)t.push({key:n,value:e[n]});return t},e.color=_e,e.rgb=Ae,e.hsl=Re,e.lab=Ne,e.hcl=Ve,e.cubehelix=Ge,e.dispatch=f,e.drag=function(){function t(e){e.on("mousedown.drag",n).filter(we).on("touchstart.drag",o).on("touchmove.drag",a).on("touchend.drag touchcancel.drag",s).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function n(){if(!h&&p.apply(this,arguments)){var t=l("mouse",g.apply(this,arguments),Ku,this,arguments);t&&(sc(e.event.view).on("mousemove.drag",i,!0).on("mouseup.drag",r,!0),cc(e.event.view),ge(),d=!1,u=e.event.clientX,c=e.event.clientY,t("start"))}}function i(){if(uc(),!d){var t=e.event.clientX-u,n=e.event.clientY-c;d=t*t+n*n>x}m.mouse("drag")}function r(){sc(e.event.view).on("mousemove.drag mouseup.drag",null),ve(e.event.view,d),uc(),m.mouse("end")}function o(){if(p.apply(this,arguments)){var t,n,i=e.event.changedTouches,r=g.apply(this,arguments),o=i.length;for(t=0;t<o;++t)(n=l(i[t].identifier,r,lc,this,arguments))&&(ge(),n("start"))}}function a(){var t,n,i=e.event.changedTouches,r=i.length;for(t=0;t<r;++t)(n=m[i[t].identifier])&&(uc(),n("drag"))}function s(){var t,n,i=e.event.changedTouches,r=i.length;for(h&&clearTimeout(h),h=setTimeout(function(){h=null},500),t=0;t<r;++t)(n=m[i[t].identifier])&&(ge(),n("end"))}function l(n,i,r,o,a){var s,l,u,c=r(i,n),d=b.copy();if(T(new me(t,"beforestart",s,n,y,c[0],c[1],0,0,d),function(){return null!=(e.event.subject=s=v.apply(o,a))&&(l=s.x-c[0]||0,u=s.y-c[1]||0,!0)}))return function e(f){var h,p=c;switch(f){case"start":m[n]=e,h=y++;break;case"end":delete m[n],--y;case"drag":c=r(i,n),h=y}T(new me(t,f,s,n,h,c[0]+l,c[1]+u,c[0]-p[0],c[1]-p[1],d),d.apply,d,[f,o,a])}}var u,c,d,h,p=be,g=ye,v=xe,m={},b=f("start","drag","end"),y=0,x=0;return t.filter=function(e){return arguments.length?(p="function"==typeof e?e:dc(!!e),t):p},t.container=function(e){return arguments.length?(g="function"==typeof e?e:dc(e),t):g},t.subject=function(e){return arguments.length?(v="function"==typeof e?e:dc(e),t):v},t.on=function(){var e=b.on.apply(b,arguments);return e===b?t:e},t.clickDistance=function(e){return arguments.length?(x=(e=+e)*e,t):Math.sqrt(x)},t},e.dragDisable=cc,e.dragEnable=ve,e.dsvFormat=Wf,e.csvParse=Gf,e.csvParseRows=Yf,e.csvFormat=Xf,e.csvFormatRows=$f,e.tsvParse=Qf,e.tsvParseRows=Zf,e.tsvFormat=Kf,e.tsvFormatRows=eh,e.easeLinear=function(e){return+e},e.easeQuad=Zt,e.easeQuadIn=function(e){return e*e},e.easeQuadOut=function(e){return e*(2-e)},e.easeQuadInOut=Zt,e.easeCubic=Kt,e.easeCubicIn=function(e){return e*e*e},e.easeCubicOut=function(e){return--e*e*e+1},e.easeCubicInOut=Kt,e.easePoly=Xd,e.easePolyIn=Gd,e.easePolyOut=Yd,e.easePolyInOut=Xd,e.easeSin=en,e.easeSinIn=function(e){return 1-Math.cos(e*Jd)},e.easeSinOut=function(e){return Math.sin(e*Jd)},e.easeSinInOut=en,e.easeExp=tn,e.easeExpIn=function(e){return Math.pow(2,10*e-10)},e.easeExpOut=function(e){return 1-Math.pow(2,-10*e)},e.easeExpInOut=tn,e.easeCircle=nn,e.easeCircleIn=function(e){return 1-Math.sqrt(1-e*e)},e.easeCircleOut=function(e){return Math.sqrt(1- --e*e)},e.easeCircleInOut=nn,e.easeBounce=rn,e.easeBounceIn=function(e){return 1-rn(1-e)},e.easeBounceOut=rn,e.easeBounceInOut=function(e){return((e*=2)<=1?1-rn(1-e):rn(e-1)+1)/2},e.easeBack=cf,e.easeBackIn=lf,e.easeBackOut=uf,e.easeBackInOut=cf,e.easeElastic=hf,e.easeElasticIn=ff,e.easeElasticOut=hf,e.easeElasticInOut=pf,e.forceCenter=function(e,t){function n(){var n,r,o=i.length,a=0,s=0;for(n=0;n<o;++n)a+=(r=i[n]).x,s+=r.y;for(a=a/o-e,s=s/o-t,n=0;n<o;++n)(r=i[n]).x-=a,r.y-=s}var i;return null==e&&(e=0),null==t&&(t=0),n.initialize=function(e){i=e},n.x=function(t){return arguments.length?(e=+t,n):e},n.y=function(e){return arguments.length?(t=+e,n):t},n},e.forceCollide=function(e){function t(){for(var e,t,i,l,u,c,d,f=r.length,h=0;h<s;++h)for(t=Ln(r,jn,zn).visitAfter(n),e=0;e<f;++e)i=r[e],c=o[i.index],d=c*c,l=i.x+i.vx,u=i.y+i.vy,t.visit(function(e,t,n,r,o){var s=e.data,f=e.r,h=c+f;if(!s)return t>l+h||r<l-h||n>u+h||o<u-h;if(s.index>i.index){var p=l-s.x-s.vx,g=u-s.y-s.vy,v=p*p+g*g;v<h*h&&(0===p&&(p=nh(),v+=p*p),0===g&&(g=nh(),v+=g*g),v=(h-(v=Math.sqrt(v)))/v*a,i.vx+=(p*=v)*(h=(f*=f)/(d+f)),i.vy+=(g*=v)*h,s.vx-=p*(h=1-h),s.vy-=g*h)}})}function n(e){if(e.data)return e.r=o[e.data.index];for(var t=e.r=0;t<4;++t)e[t]&&e[t].r>e.r&&(e.r=e[t].r)}function i(){if(r){var t,n,i=r.length;for(o=new Array(i),t=0;t<i;++t)n=r[t],o[n.index]=+e(n,t,r)}}var r,o,a=1,s=1;return"function"!=typeof e&&(e=th(null==e?1:+e)),t.initialize=function(e){r=e,i()},t.iterations=function(e){return arguments.length?(s=+e,t):s},t.strength=function(e){return arguments.length?(a=+e,t):a},t.radius=function(n){return arguments.length?(e="function"==typeof n?n:th(+n),i(),t):e},t},e.forceLink=function(e){function t(t){for(var n=0,i=e.length;n<h;++n)for(var r,s,l,c,d,f,p,g=0;g<i;++g)s=(r=e[g]).source,c=(l=r.target).x+l.vx-s.x-s.vx||nh(),d=l.y+l.vy-s.y-s.vy||nh(),c*=f=((f=Math.sqrt(c*c+d*d))-a[g])/f*t*o[g],d*=f,l.vx-=c*(p=u[g]),l.vy-=d*p,s.vx+=c*(p=1-p),s.vy+=d*p}function n(){if(s){var t,n,d=s.length,f=e.length,h=Cn(s,c);for(t=0,l=new Array(d);t<f;++t)(n=e[t]).index=t,"object"!=typeof n.source&&(n.source=Hn(h,n.source)),"object"!=typeof n.target&&(n.target=Hn(h,n.target)),l[n.source.index]=(l[n.source.index]||0)+1,l[n.target.index]=(l[n.target.index]||0)+1;for(t=0,u=new Array(f);t<f;++t)n=e[t],u[t]=l[n.source.index]/(l[n.source.index]+l[n.target.index]);o=new Array(f),i(),a=new Array(f),r()}}function i(){if(s)for(var t=0,n=e.length;t<n;++t)o[t]=+d(e[t],t,e)}function r(){if(s)for(var t=0,n=e.length;t<n;++t)a[t]=+f(e[t],t,e)}var o,a,s,l,u,c=qn,d=function(e){return 1/Math.min(l[e.source.index],l[e.target.index])},f=th(30),h=1;return null==e&&(e=[]),t.initialize=function(e){s=e,n()},t.links=function(i){return arguments.length?(e=i,n(),t):e},t.id=function(e){return arguments.length?(c=e,t):c},t.iterations=function(e){return arguments.length?(h=+e,t):h},t.strength=function(e){return arguments.length?(d="function"==typeof e?e:th(+e),i(),t):d},t.distance=function(e){return arguments.length?(f="function"==typeof e?e:th(+e),r(),t):f},t},e.forceManyBody=function(){function e(e){var t,s=r.length,l=Ln(r,Bn,Vn).visitAfter(n);for(a=e,t=0;t<s;++t)o=r[t],l.visit(i)}function t(){if(r){var e,t,n=r.length;for(s=new Array(n),e=0;e<n;++e)t=r[e],s[t.index]=+l(t,e,r)}}function n(e){var t,n,i,r,o,a=0;if(e.length){for(i=r=o=0;o<4;++o)(t=e[o])&&(n=t.value)&&(a+=n,i+=n*t.x,r+=n*t.y);e.x=i/a,e.y=r/a}else{(t=e).x=t.data.x,t.y=t.data.y;do{a+=s[t.data.index]}while(t=t.next)}e.value=a}function i(e,t,n,i){if(!e.value)return!0;var r=e.x-o.x,l=e.y-o.y,f=i-t,h=r*r+l*l;if(f*f/d<h)return h<c&&(0===r&&(r=nh(),h+=r*r),0===l&&(l=nh(),h+=l*l),h<u&&(h=Math.sqrt(u*h)),o.vx+=r*e.value*a/h,o.vy+=l*e.value*a/h),!0;if(!(e.length||h>=c)){(e.data!==o||e.next)&&(0===r&&(r=nh(),h+=r*r),0===l&&(l=nh(),h+=l*l),h<u&&(h=Math.sqrt(u*h)));do{e.data!==o&&(f=s[e.data.index]*a/h,o.vx+=r*f,o.vy+=l*f)}while(e=e.next)}}var r,o,a,s,l=th(-30),u=1,c=1/0,d=.81;return e.initialize=function(e){r=e,t()},e.strength=function(n){return arguments.length?(l="function"==typeof n?n:th(+n),t(),e):l},e.distanceMin=function(t){return arguments.length?(u=t*t,e):Math.sqrt(u)},e.distanceMax=function(t){return arguments.length?(c=t*t,e):Math.sqrt(c)},e.theta=function(t){return arguments.length?(d=t*t,e):Math.sqrt(d)},e},e.forceSimulation=function(e){function t(){n(),p.call("tick",o),a<s&&(h.stop(),p.call("end",o))}function n(){var t,n,i=e.length;for(a+=(u-a)*l,d.each(function(e){e(a)}),t=0;t<i;++t)null==(n=e[t]).fx?n.x+=n.vx*=c:(n.x=n.fx,n.vx=0),null==n.fy?n.y+=n.vy*=c:(n.y=n.fy,n.vy=0)}function i(){for(var t,n=0,i=e.length;n<i;++n){if(t=e[n],t.index=n,isNaN(t.x)||isNaN(t.y)){var r=ah*Math.sqrt(n),o=n*sh;t.x=r*Math.cos(o),t.y=r*Math.sin(o)}(isNaN(t.vx)||isNaN(t.vy))&&(t.vx=t.vy=0)}}function r(t){return t.initialize&&t.initialize(e),t}var o,a=1,s=.001,l=1-Math.pow(s,1/300),u=0,c=.6,d=Cn(),h=ht(t),p=f("tick","end");return null==e&&(e=[]),i(),o={tick:n,restart:function(){return h.restart(t),o},stop:function(){return h.stop(),o},nodes:function(t){return arguments.length?(e=t,i(),d.each(r),o):e},alpha:function(e){return arguments.length?(a=+e,o):a},alphaMin:function(e){return arguments.length?(s=+e,o):s},alphaDecay:function(e){return arguments.length?(l=+e,o):+l},alphaTarget:function(e){return arguments.length?(u=+e,o):u},velocityDecay:function(e){return arguments.length?(c=1-e,o):1-c},force:function(e,t){return arguments.length>1?(null==t?d.remove(e):d.set(e,r(t)),o):d.get(e)},find:function(t,n,i){var r,o,a,s,l,u=0,c=e.length;for(null==i?i=1/0:i*=i,u=0;u<c;++u)(a=(r=t-(s=e[u]).x)*r+(o=n-s.y)*o)<i&&(l=s,i=a);return l},on:function(e,t){return arguments.length>1?(p.on(e,t),o):p.on(e)}}},e.forceX=function(e){function t(e){for(var t,n=0,a=i.length;n<a;++n)(t=i[n]).vx+=(o[n]-t.x)*r[n]*e}function n(){if(i){var t,n=i.length;for(r=new Array(n),o=new Array(n),t=0;t<n;++t)r[t]=isNaN(o[t]=+e(i[t],t,i))?0:+a(i[t],t,i)}}var i,r,o,a=th(.1);return"function"!=typeof e&&(e=th(null==e?0:+e)),t.initialize=function(e){i=e,n()},t.strength=function(e){return arguments.length?(a="function"==typeof e?e:th(+e),n(),t):a},t.x=function(i){return arguments.length?(e="function"==typeof i?i:th(+i),n(),t):e},t},e.forceY=function(e){function t(e){for(var t,n=0,a=i.length;n<a;++n)(t=i[n]).vy+=(o[n]-t.y)*r[n]*e}function n(){if(i){var t,n=i.length;for(r=new Array(n),o=new Array(n),t=0;t<n;++t)r[t]=isNaN(o[t]=+e(i[t],t,i))?0:+a(i[t],t,i)}}var i,r,o,a=th(.1);return"function"!=typeof e&&(e=th(null==e?0:+e)),t.initialize=function(e){i=e,n()},t.strength=function(e){return arguments.length?(a="function"==typeof e?e:th(+e),n(),t):a},t.y=function(i){return arguments.length?(e="function"==typeof i?i:th(+i),n(),t):e},t},e.formatDefaultLocale=Gn,e.formatLocale=bh,e.formatSpecifier=Wn,e.precisionFixed=yh,e.precisionPrefix=xh,e.precisionRound=wh,e.geoArea=function(e){return _p.reset(),Cp(e,kp),2*_p},e.geoBounds=function(e){var t,n,i,r,o,a,s;if(Eh=Dh=-(Ah=Ph=1/0),Nh=[],Cp(e,Mp),n=Nh.length){for(Nh.sort(wi),t=1,o=[i=Nh[0]];t<n;++t)Ci(i,(r=Nh[t])[0])||Ci(i,r[1])?(xi(i[0],r[1])>xi(i[0],i[1])&&(i[1]=r[1]),xi(r[0],i[1])>xi(i[0],i[1])&&(i[0]=r[0])):o.push(i=r);for(a=-1/0,t=0,i=o[n=o.length-1];t<=n;i=r,++t)r=o[t],(s=xi(i[1],r[0]))>a&&(a=s,Ah=r[0],Dh=i[1])}return Nh=Oh=null,Ah===1/0||Ph===1/0?[[NaN,NaN],[NaN,NaN]]:[[Ah,Ph],[Dh,Eh]]},e.geoCentroid=function(e){jh=zh=qh=Hh=Bh=Vh=Wh=Uh=Gh=Yh=Xh=0,Cp(e,Ap);var t=Gh,n=Yh,i=Xh,r=t*t+n*n+i*i;return r<1e-12&&(t=Vh,n=Wh,i=Uh,zh<tp&&(t=qh,n=Hh,i=Bh),(r=t*t+n*n+i*i)<1e-12)?[NaN,NaN]:[cp(n,t)*ap,Jn(i/bp(r))*ap]},e.geoCircle=function(){function e(){var e=i.apply(this,arguments),s=r.apply(this,arguments)*sp,l=o.apply(this,arguments)*sp;return t=[],n=Fi(-e[0]*sp,-e[1]*sp,0).invert,ji(a,s,l,1),e={type:"Polygon",coordinates:[t]},t=n=null,e}var t,n,i=Pp([0,0]),r=Pp(90),o=Pp(6),a={point:function(e,i){t.push(e=n(e,i)),e[0]*=ap,e[1]*=ap}};return e.center=function(t){return arguments.length?(i="function"==typeof t?t:Pp([+t[0],+t[1]]),e):i},e.radius=function(t){return arguments.length?(r="function"==typeof t?t:Pp(+t),e):r},e.precision=function(t){return arguments.length?(o="function"==typeof t?t:Pp(+t),e):o},e},e.geoClipExtent=function(){var e,t,n,i=0,r=0,o=960,a=500;return n={stream:function(n){return e&&t===n?e:e=Bi(i,r,o,a)(t=n)},extent:function(s){return arguments.length?(i=+s[0][0],r=+s[0][1],o=+s[1][0],a=+s[1][1],e=t=null,n):[[i,r],[o,a]]}}},e.geoContains=function(e,t){return(e&&ig.hasOwnProperty(e.type)?ig[e.type]:Gi)(e,t)},e.geoDistance=ng,e.geoGraticule=er,e.geoGraticule10=function(){return er()()},e.geoInterpolate=function(e,t){var n=e[0]*sp,i=e[1]*sp,r=t[0]*sp,o=t[1]*sp,a=dp(i),s=vp(i),l=dp(o),u=vp(o),c=a*dp(n),d=a*vp(n),f=l*dp(r),h=l*vp(r),p=2*Jn(bp(Qn(o-i)+a*l*Qn(r-n))),g=vp(p),v=p?function(e){var t=vp(e*=p)/g,n=vp(p-e)/g,i=n*c+t*f,r=n*d+t*h,o=n*s+t*u;return[cp(r,i)*ap,cp(o,bp(i*i+r*r))*ap]}:function(){return[n*ap,i*ap]};return v.distance=p,v},e.geoLength=Kp,e.geoPath=function(e,t){function n(e){return e&&("function"==typeof o&&r.pointRadius(+o.apply(this,arguments)),Cp(e,i(r))),r.result()}var i,r,o=4.5;return n.area=function(e){return Cp(e,i(lg)),lg.result()},n.measure=function(e){return Cp(e,i(Dg)),Dg.result()},n.bounds=function(e){return Cp(e,i(hg)),hg.result()},n.centroid=function(e){return Cp(e,i(Sg)),Sg.result()},n.projection=function(t){return arguments.length?(i=null==t?(e=null,og):(e=t).stream,n):e},n.context=function(e){return arguments.length?(r=null==e?(t=null,new mr):new pr(t=e),"function"!=typeof o&&r.pointRadius(o),n):t},n.pointRadius=function(e){return arguments.length?(o="function"==typeof e?e:(r.pointRadius(+e),+e),n):o},n.projection(e).context(t)},e.geoAlbers=zg,e.geoAlbersUsa=function(){function e(e){var t=e[0],n=e[1];return s=null,r.point(t,n),s||(o.point(t,n),s)||(a.point(t,n),s)}function t(){return n=i=null,e}var n,i,r,o,a,s,l=zg(),u=jg().rotate([154,0]).center([-2,58.5]).parallels([55,65]),c=jg().rotate([157,0]).center([-3,19.9]).parallels([8,18]),d={point:function(e,t){s=[e,t]}};return e.invert=function(e){var t=l.scale(),n=l.translate(),i=(e[0]-n[0])/t,r=(e[1]-n[1])/t;return(r>=.12&&r<.234&&i>=-.425&&i<-.214?u:r>=.166&&r<.234&&i>=-.214&&i<-.115?c:l).invert(e)},e.stream=function(e){return n&&i===e?n:n=Ir([l.stream(i=e),u.stream(e),c.stream(e)])},e.precision=function(e){return arguments.length?(l.precision(e),u.precision(e),c.precision(e),t()):l.precision()},e.scale=function(t){return arguments.length?(l.scale(t),u.scale(.35*t),c.scale(t),e.translate(l.translate())):l.scale()},e.translate=function(e){if(!arguments.length)return l.translate();var n=l.scale(),i=+e[0],s=+e[1];return r=l.translate(e).clipExtent([[i-.455*n,s-.238*n],[i+.455*n,s+.238*n]]).stream(d),o=u.translate([i-.307*n,s+.201*n]).clipExtent([[i-.425*n+tp,s+.12*n+tp],[i-.214*n-tp,s+.234*n-tp]]).stream(d),a=c.translate([i-.205*n,s+.212*n]).clipExtent([[i-.214*n+tp,s+.166*n+tp],[i-.115*n-tp,s+.234*n-tp]]).stream(d),t()},e.fitExtent=function(t,n){return _r(e,t,n)},e.fitSize=function(t,n){return kr(e,t,n)},e.scale(1070)},e.geoAzimuthalEqualArea=function(){return Ar(qg).scale(124.75).clipAngle(179.999)},e.geoAzimuthalEqualAreaRaw=qg,e.geoAzimuthalEquidistant=function(){return Ar(Hg).scale(79.4188).clipAngle(179.999)},e.geoAzimuthalEquidistantRaw=Hg,e.geoConicConformal=function(){return Dr(zr).scale(109.5).parallels([30,30])},e.geoConicConformalRaw=zr,e.geoConicEqualArea=jg,e.geoConicEqualAreaRaw=Rr,e.geoConicEquidistant=function(){return Dr(Hr).scale(131.154).center([0,13.9389])},e.geoConicEquidistantRaw=Hr,e.geoEquirectangular=function(){return Ar(qr).scale(152.63)},e.geoEquirectangularRaw=qr,e.geoGnomonic=function(){return Ar(Br).scale(144.049).clipAngle(60)},e.geoGnomonicRaw=Br,e.geoIdentity=function(){function e(){return r=o=null,a}var t,n,i,r,o,a,s=1,l=0,u=0,c=1,d=1,f=og,h=null,p=og;return a={stream:function(e){return r&&o===e?r:r=f(p(o=e))},clipExtent:function(r){return arguments.length?(p=null==r?(h=t=n=i=null,og):Bi(h=+r[0][0],t=+r[0][1],n=+r[1][0],i=+r[1][1]),e()):null==h?null:[[h,t],[n,i]]},scale:function(t){return arguments.length?(f=Vr((s=+t)*c,s*d,l,u),e()):s},translate:function(t){return arguments.length?(f=Vr(s*c,s*d,l=+t[0],u=+t[1]),e()):[l,u]},reflectX:function(t){return arguments.length?(f=Vr(s*(c=t?-1:1),s*d,l,u),e()):c<0},reflectY:function(t){return arguments.length?(f=Vr(s*c,s*(d=t?-1:1),l,u),e()):d<0},fitExtent:function(e,t){return _r(a,e,t)},fitSize:function(e,t){return kr(a,e,t)}}},e.geoProjection=Ar,e.geoProjectionMutator=Pr,e.geoMercator=function(){return Or(Nr).scale(961/op)},e.geoMercatorRaw=Nr,e.geoOrthographic=function(){return Ar(Wr).scale(249.5).clipAngle(90+tp)},e.geoOrthographicRaw=Wr,e.geoStereographic=function(){return Ar(Ur).scale(250).clipAngle(142)},e.geoStereographicRaw=Ur,e.geoTransverseMercator=function(){var e=Or(Gr),t=e.center,n=e.rotate;return e.center=function(e){return arguments.length?t([-e[1],e[0]]):(e=t(),[e[1],-e[0]])},e.rotate=function(e){return arguments.length?n([e[0],e[1],e.length>2?e[2]+90:90]):(e=n(),[e[0],e[1],e[2]-90])},n([0,0,90]).scale(159.155)},e.geoTransverseMercatorRaw=Gr,e.geoRotation=Bp,e.geoStream=Cp,e.geoTransform=function(e){return{stream:Cr(e)}},e.cluster=function(){function e(e){var o,a=0;e.eachAfter(function(e){var n=e.children;n?(e.x=Xr(n),e.y=Jr(n)):(e.x=o?a+=t(e,o):0,e.y=0,o=e)});var s=Zr(e),l=Kr(e),u=s.x-t(s,l)/2,c=l.x+t(l,s)/2;return e.eachAfter(r?function(t){t.x=(t.x-e.x)*n,t.y=(e.y-t.y)*i}:function(t){t.x=(t.x-u)/(c-u)*n,t.y=(1-(e.y?t.y/e.y:1))*i})}var t=Yr,n=1,i=1,r=!1;return e.separation=function(n){return arguments.length?(t=n,e):t},e.size=function(t){return arguments.length?(r=!1,n=+t[0],i=+t[1],e):r?null:[n,i]},e.nodeSize=function(t){return arguments.length?(r=!0,n=+t[0],i=+t[1],e):r?[n,i]:null},e},e.hierarchy=no,e.pack=function(){function e(e){return e.x=n/2,e.y=i/2,t?e.eachBefore(To(t)).eachAfter(Mo(r,.5)).eachBefore(Ao(1)):e.eachBefore(To(ko)).eachAfter(Mo(_o,1)).eachAfter(Mo(r,e.r/Math.min(n,i))).eachBefore(Ao(Math.min(n,i)/(2*e.r))),e}var t=null,n=1,i=1,r=_o;return e.radius=function(n){return arguments.length?(t=Co(n),e):t},e.size=function(t){return arguments.length?(n=+t[0],i=+t[1],e):[n,i]},e.padding=function(t){return arguments.length?(r="function"==typeof t?t:Wg(+t),e):r},e},e.packSiblings=function(e){return wo(e),e},e.packEnclose=Vg,e.partition=function(){function e(e){var a=e.height+1;return e.x0=e.y0=r,e.x1=n,e.y1=i/a,e.eachBefore(t(i,a)),o&&e.eachBefore(Ug),e}function t(e,t){return function(n){n.children&&Gg(n,n.x0,e*(n.depth+1)/t,n.x1,e*(n.depth+2)/t);var i=n.x0,o=n.y0,a=n.x1-r,s=n.y1-r;a<i&&(i=a=(i+a)/2),s<o&&(o=s=(o+s)/2),n.x0=i,n.y0=o,n.x1=a,n.y1=s}}var n=1,i=1,r=0,o=!1;return e.round=function(t){return arguments.length?(o=!!t,e):o},e.size=function(t){return arguments.length?(n=+t[0],i=+t[1],e):[n,i]},e.padding=function(t){return arguments.length?(r=+t,e):r},e},e.stratify=function(){function e(e){var i,r,o,a,s,l,u,c=e.length,d=new Array(c),f={};for(r=0;r<c;++r)i=e[r],s=d[r]=new ao(i),null!=(l=t(i,r,e))&&(l+="")&&(f[u=Yg+(s.id=l)]=u in f?$g:s);for(r=0;r<c;++r)if(s=d[r],null!=(l=n(e[r],r,e))&&(l+="")){if(!(a=f[Yg+l]))throw new Error("missing: "+l);if(a===$g)throw new Error("ambiguous: "+l);a.children?a.children.push(s):a.children=[s],s.parent=a}else{if(o)throw new Error("multiple roots");o=s}if(!o)throw new Error("no root");if(o.parent=Xg,o.eachBefore(function(e){e.depth=e.parent.depth+1,--c}).eachBefore(oo),o.parent=null,c>0)throw new Error("cycle");return o}var t=Po,n=Do;return e.id=function(n){return arguments.length?(t=So(n),e):t},e.parentId=function(t){return arguments.length?(n=So(t),e):n},e},e.tree=function(){function e(e){var i=jo(e);if(i.eachAfter(t),i.parent.m=-i.z,i.eachBefore(n),l)e.eachBefore(r);else{var u=e,c=e,d=e;e.eachBefore(function(e){e.x<u.x&&(u=e),e.x>c.x&&(c=e),e.depth>d.depth&&(d=e)});var f=u===c?1:o(u,c)/2,h=f-u.x,p=a/(c.x+f+h),g=s/(d.depth||1);e.eachBefore(function(e){e.x=(e.x+h)*p,e.y=e.depth*g})}return e}function t(e){var t=e.children,n=e.parent.children,r=e.i?n[e.i-1]:null;if(t){Lo(e);var a=(t[0].z+t[t.length-1].z)/2;r?(e.z=r.z+o(e._,r._),e.m=e.z-a):e.z=a}else r&&(e.z=r.z+o(e._,r._));e.parent.A=i(e,r,e.parent.A||n[0])}function n(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function i(e,t,n){if(t){for(var i,r=e,a=e,s=t,l=r.parent.children[0],u=r.m,c=a.m,d=s.m,f=l.m;s=Io(s),r=Ro(r),s&&r;)l=Ro(l),(a=Io(a)).a=e,(i=s.z+d-r.z-u+o(s._,r._))>0&&(Fo(No(s,e,n),e,i),u+=i,c+=i),d+=s.m,u+=r.m,f+=l.m,c+=a.m;s&&!Io(a)&&(a.t=s,a.m+=d-c),r&&!Ro(l)&&(l.t=r,l.m+=u-f,n=e)}return n}function r(e){e.x*=a,e.y=e.depth*s}var o=Eo,a=1,s=1,l=null;return e.separation=function(t){return arguments.length?(o=t,e):o},e.size=function(t){return arguments.length?(l=!1,a=+t[0],s=+t[1],e):l?null:[a,s]},e.nodeSize=function(t){return arguments.length?(l=!0,a=+t[0],s=+t[1],e):l?[a,s]:null},e},e.treemap=function(){function e(e){return e.x0=e.y0=0,e.x1=r,e.y1=o,e.eachBefore(t),a=[0],i&&e.eachBefore(Ug),e}function t(e){var t=a[e.depth],i=e.x0+t,r=e.y0+t,o=e.x1-t,f=e.y1-t;o<i&&(i=o=(i+o)/2),f<r&&(r=f=(r+f)/2),e.x0=i,e.y0=r,e.x1=o,e.y1=f,e.children&&(t=a[e.depth+1]=s(e)/2,i+=d(e)-t,r+=l(e)-t,o-=u(e)-t,f-=c(e)-t,o<i&&(i=o=(i+o)/2),f<r&&(r=f=(r+f)/2),n(e,i,r,o,f))}var n=Zg,i=!1,r=1,o=1,a=[0],s=_o,l=_o,u=_o,c=_o,d=_o;return e.round=function(t){return arguments.length?(i=!!t,e):i},e.size=function(t){return arguments.length?(r=+t[0],o=+t[1],e):[r,o]},e.tile=function(t){return arguments.length?(n=So(t),e):n},e.padding=function(t){return arguments.length?e.paddingInner(t).paddingOuter(t):e.paddingInner()},e.paddingInner=function(t){return arguments.length?(s="function"==typeof t?t:Wg(+t),e):s},e.paddingOuter=function(t){return arguments.length?e.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):e.paddingTop()},e.paddingTop=function(t){return arguments.length?(l="function"==typeof t?t:Wg(+t),e):l},e.paddingRight=function(t){return arguments.length?(u="function"==typeof t?t:Wg(+t),e):u},e.paddingBottom=function(t){return arguments.length?(c="function"==typeof t?t:Wg(+t),e):c},e.paddingLeft=function(t){return arguments.length?(d="function"==typeof t?t:Wg(+t),e):d},e},e.treemapBinary=function(e,t,n,i,r){function o(e,t,n,i,r,a,s){if(e>=t-1){var u=l[e];return u.x0=i,u.y0=r,u.x1=a,void(u.y1=s)}for(var d=c[e],f=n/2+d,h=e+1,p=t-1;h<p;){var g=h+p>>>1;c[g]<f?h=g+1:p=g}f-c[h-1]<c[h]-f&&e+1<h&&--h;var v=c[h]-d,m=n-v;if(a-i>s-r){var b=(i*m+a*v)/n;o(e,h,v,i,r,b,s),o(h,t,m,b,r,a,s)}else{var y=(r*m+s*v)/n;o(e,h,v,i,r,a,y),o(h,t,m,i,y,a,s)}}var a,s,l=e.children,u=l.length,c=new Array(u+1);for(c[0]=s=a=0;a<u;++a)c[a+1]=s+=l[a].value;o(0,u,e.value,t,n,i,r)},e.treemapDice=Gg,e.treemapSlice=Jg,e.treemapSliceDice=function(e,t,n,i,r){(1&e.depth?Jg:Gg)(e,t,n,i,r)},e.treemapSquarify=Zg,e.treemapResquarify=Kg,e.interpolate=ad,e.interpolateArray=Kc,e.interpolateBasis=Yc,e.interpolateBasisClosed=Xc,e.interpolateDate=ed,e.interpolateNumber=td,e.interpolateObject=nd,e.interpolateRound=sd,e.interpolateString=od,e.interpolateTransformCss=dd,e.interpolateTransformSvg=fd,e.interpolateZoom=pd,e.interpolateRgb=Jc,e.interpolateRgbBasis=Qc,e.interpolateRgbBasisClosed=Zc,e.interpolateHsl=gd,e.interpolateHslLong=vd,e.interpolateLab=function(e,t){var n=Ke((e=Ne(e)).l,(t=Ne(t)).l),i=Ke(e.a,t.a),r=Ke(e.b,t.b),o=Ke(e.opacity,t.opacity);return function(t){return e.l=n(t),e.a=i(t),e.b=r(t),e.opacity=o(t),e+""}},e.interpolateHcl=md,e.interpolateHclLong=bd,e.interpolateCubehelix=yd,e.interpolateCubehelixLong=xd,e.quantize=function(e,t){for(var n=new Array(t),i=0;i<t;++i)n[i]=e(i/(t-1));return n},e.path=gn,e.polygonArea=function(e){for(var t,n=-1,i=e.length,r=e[i-1],o=0;++n<i;)t=r,r=e[n],o+=t[1]*r[0]-t[0]*r[1];return o/2},e.polygonCentroid=function(e){for(var t,n,i=-1,r=e.length,o=0,a=0,s=e[r-1],l=0;++i<r;)t=s,s=e[i],l+=n=t[0]*s[1]-s[0]*t[1],o+=(t[0]+s[0])*n,a+=(t[1]+s[1])*n;return l*=3,[o/l,a/l]},e.polygonHull=function(e){if((n=e.length)<3)return null;var t,n,i=new Array(n),r=new Array(n);for(t=0;t<n;++t)i[t]=[+e[t][0],+e[t][1],t];for(i.sort(qo),t=0;t<n;++t)r[t]=[i[t][0],-i[t][1]];var o=Ho(i),a=Ho(r),s=a[0]===o[0],l=a[a.length-1]===o[o.length-1],u=[];for(t=o.length-1;t>=0;--t)u.push(e[i[o[t]][2]]);for(t=+s;t<a.length-l;++t)u.push(e[i[a[t]][2]]);return u},e.polygonContains=function(e,t){for(var n,i,r=e.length,o=e[r-1],a=t[0],s=t[1],l=o[0],u=o[1],c=!1,d=0;d<r;++d)n=(o=e[d])[0],(i=o[1])>s!=u>s&&a<(l-n)*(s-i)/(u-i)+n&&(c=!c),l=n,u=i;return c},e.polygonLength=function(e){for(var t,n,i=-1,r=e.length,o=e[r-1],a=o[0],s=o[1],l=0;++i<r;)t=a,n=s,t-=a=(o=e[i])[0],n-=s=o[1],l+=Math.sqrt(t*t+n*n);return l},e.quadtree=Ln,e.queue=Xo,e.randomUniform=rv,e.randomNormal=ov,e.randomLogNormal=av,e.randomBates=lv,e.randomIrwinHall=sv,e.randomExponential=uv,e.request=cv,e.html=fv,e.json=hv,e.text=pv,e.xml=gv,e.csv=mv,e.tsv=bv,e.scaleBand=Ko,e.scalePoint=function(){return ea(Ko().paddingInner(1))},e.scaleIdentity=ca,e.scaleLinear=ua,e.scaleLog=ma,e.scaleOrdinal=Zo,e.scaleImplicit=Cv,e.scalePow=ya,e.scaleSqrt=function(){return ya().exponent(.5)},e.scaleQuantile=xa,e.scaleQuantize=wa,e.scaleThreshold=Ca,e.scaleTime=function(){return Ts(rm,nm,Bv,qv,jv,Nv,Fv,Dv,e.timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)])},e.scaleUtc=function(){return Ts(Am,Tm,fm,cm,lm,am,Fv,Dv,e.utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])},e.schemeCategory10=Um,e.schemeCategory20b=Gm,e.schemeCategory20c=Ym,e.schemeCategory20=Xm,e.interpolateCubehelixDefault=$m,e.interpolateRainbow=function(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return Zm.h=360*e-100,Zm.s=1.5-1.5*t,Zm.l=.8-.9*t,Zm+""},e.interpolateWarm=Jm,e.interpolateCool=Qm,e.interpolateViridis=Km,e.interpolateMagma=eb,e.interpolateInferno=tb,e.interpolatePlasma=nb,e.scaleSequential=As,e.creator=Wu,e.local=y,e.matcher=$u,e.mouse=Ku,e.namespace=Vu,e.namespaces=Bu,e.select=sc,e.selectAll=function(e){return"string"==typeof e?new he([document.querySelectorAll(e)],[document.documentElement]):new he([null==e?[]:e],ac)},e.selection=pe,e.selector=ec,e.selectorAll=tc,e.style=B,e.touch=lc,e.touches=function(e,t){null==t&&(t=Qu().touches);for(var n=0,i=t?t.length:0,r=new Array(i);n<i;++n)r[n]=Zu(e,t[n]);return r},e.window=oc,e.customEvent=T,e.arc=function(){function e(){var e,u,c=+t.apply(this,arguments),d=+n.apply(this,arguments),f=o.apply(this,arguments)-hb,h=a.apply(this,arguments)-hb,p=rb(h-f),g=h>f;if(l||(l=e=gn()),d<c&&(u=d,d=c,c=u),d>db)if(p>pb-db)l.moveTo(d*ab(f),d*ub(f)),l.arc(0,0,d,f,h,!g),c>db&&(l.moveTo(c*ab(h),c*ub(h)),l.arc(0,0,c,h,f,g));else{var v,m,b=f,y=h,x=f,w=h,C=p,S=p,_=s.apply(this,arguments)/2,k=_>db&&(r?+r.apply(this,arguments):cb(c*c+d*d)),T=lb(rb(d-c)/2,+i.apply(this,arguments)),M=T,A=T;if(k>db){var P=Ds(k/c*ub(_)),D=Ds(k/d*ub(_));(C-=2*P)>db?(P*=g?1:-1,x+=P,w-=P):(C=0,x=w=(f+h)/2),(S-=2*D)>db?(D*=g?1:-1,b+=D,y-=D):(S=0,b=y=(f+h)/2)}var E=d*ab(b),R=d*ub(b),I=c*ab(w),F=c*ub(w);if(T>db){var L=d*ab(y),N=d*ub(y),O=c*ab(x),j=c*ub(x);if(p<fb){var z=C>db?Ns(E,R,O,j,L,N,I,F):[I,F],q=E-z[0],H=R-z[1],B=L-z[0],V=N-z[1],W=1/ub(Ps((q*B+H*V)/(cb(q*q+H*H)*cb(B*B+V*V)))/2),U=cb(z[0]*z[0]+z[1]*z[1]);M=lb(T,(c-U)/(W-1)),A=lb(T,(d-U)/(W+1))}}S>db?A>db?(v=Os(O,j,E,R,d,A,g),m=Os(L,N,I,F,d,A,g),l.moveTo(v.cx+v.x01,v.cy+v.y01),A<T?l.arc(v.cx,v.cy,A,ob(v.y01,v.x01),ob(m.y01,m.x01),!g):(l.arc(v.cx,v.cy,A,ob(v.y01,v.x01),ob(v.y11,v.x11),!g),l.arc(0,0,d,ob(v.cy+v.y11,v.cx+v.x11),ob(m.cy+m.y11,m.cx+m.x11),!g),l.arc(m.cx,m.cy,A,ob(m.y11,m.x11),ob(m.y01,m.x01),!g))):(l.moveTo(E,R),l.arc(0,0,d,b,y,!g)):l.moveTo(E,R),c>db&&C>db?M>db?(v=Os(I,F,L,N,c,-M,g),m=Os(E,R,O,j,c,-M,g),l.lineTo(v.cx+v.x01,v.cy+v.y01),M<T?l.arc(v.cx,v.cy,M,ob(v.y01,v.x01),ob(m.y01,m.x01),!g):(l.arc(v.cx,v.cy,M,ob(v.y01,v.x01),ob(v.y11,v.x11),!g),l.arc(0,0,c,ob(v.cy+v.y11,v.cx+v.x11),ob(m.cy+m.y11,m.cx+m.x11),g),l.arc(m.cx,m.cy,M,ob(m.y11,m.x11),ob(m.y01,m.x01),!g))):l.arc(0,0,c,w,x,g):l.lineTo(I,F)}else l.moveTo(0,0);if(l.closePath(),e)return l=null,e+""||null}var t=Es,n=Rs,i=ib(0),r=null,o=Is,a=Fs,s=Ls,l=null;return e.centroid=function(){var e=(+t.apply(this,arguments)+ +n.apply(this,arguments))/2,i=(+o.apply(this,arguments)+ +a.apply(this,arguments))/2-fb/2;return[ab(i)*e,ub(i)*e]},e.innerRadius=function(n){return arguments.length?(t="function"==typeof n?n:ib(+n),e):t},e.outerRadius=function(t){return arguments.length?(n="function"==typeof t?t:ib(+t),e):n},e.cornerRadius=function(t){return arguments.length?(i="function"==typeof t?t:ib(+t),e):i},e.padRadius=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:ib(+t),e):r},e.startAngle=function(t){return arguments.length?(o="function"==typeof t?t:ib(+t),e):o},e.endAngle=function(t){return arguments.length?(a="function"==typeof t?t:ib(+t),e):a},e.padAngle=function(t){return arguments.length?(s="function"==typeof t?t:ib(+t),e):s},e.context=function(t){return arguments.length?(l=null==t?null:t,e):l},e},e.area=mb,e.line=vb,e.pie=function(){function e(e){var s,l,u,c,d,f=e.length,h=0,p=new Array(f),g=new Array(f),v=+r.apply(this,arguments),m=Math.min(pb,Math.max(-pb,o.apply(this,arguments)-v)),b=Math.min(Math.abs(m)/f,a.apply(this,arguments)),y=b*(m<0?-1:1);for(s=0;s<f;++s)(d=g[p[s]=s]=+t(e[s],s,e))>0&&(h+=d);for(null!=n?p.sort(function(e,t){return n(g[e],g[t])}):null!=i&&p.sort(function(t,n){return i(e[t],e[n])}),s=0,u=h?(m-f*y)/h:0;s<f;++s,v=c)l=p[s],c=v+((d=g[l])>0?d*u:0)+y,g[l]={data:e[l],index:s,value:d,startAngle:v,endAngle:c,padAngle:b};return g}var t=yb,n=bb,i=null,r=ib(0),o=ib(pb),a=ib(0);return e.value=function(n){return arguments.length?(t="function"==typeof n?n:ib(+n),e):t},e.sortValues=function(t){return arguments.length?(n=t,i=null,e):n},e.sort=function(t){return arguments.length?(i=t,n=null,e):i},e.startAngle=function(t){return arguments.length?(r="function"==typeof t?t:ib(+t),e):r},e.endAngle=function(t){return arguments.length?(o="function"==typeof t?t:ib(+t),e):o},e.padAngle=function(t){return arguments.length?(a="function"==typeof t?t:ib(+t),e):a},e},e.areaRadial=Cb,e.radialArea=Cb,e.lineRadial=wb,e.radialLine=wb,e.pointRadial=Sb,e.linkHorizontal=function(){return Gs(Ys)},e.linkVertical=function(){return Gs(Xs)},e.linkRadial=function(){var e=Gs($s);return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e},e.symbol=function(){function e(){var e;if(i||(i=e=gn()),t.apply(this,arguments).draw(i,+n.apply(this,arguments)),e)return i=null,e+""||null}var t=ib(kb),n=ib(64),i=null;return e.type=function(n){return arguments.length?(t="function"==typeof n?n:ib(n),e):t},e.size=function(t){return arguments.length?(n="function"==typeof t?t:ib(+t),e):n},e.context=function(t){return arguments.length?(i=null==t?null:t,e):i},e},e.symbols=Bb,e.symbolCircle=kb,e.symbolCross=Tb,e.symbolDiamond=Pb,e.symbolSquare=Fb,e.symbolStar=Ib,e.symbolTriangle=Nb,e.symbolWye=Hb,e.curveBasisClosed=function(e){return new Zs(e)},e.curveBasisOpen=function(e){return new Ks(e)},e.curveBasis=function(e){return new Qs(e)},e.curveBundle=Wb,e.curveCardinalClosed=Gb,e.curveCardinalOpen=Yb,e.curveCardinal=Ub,e.curveCatmullRomClosed=$b,e.curveCatmullRomOpen=Jb,e.curveCatmullRom=Xb,e.curveLinearClosed=function(e){return new ul(e)},e.curveLinear=gb,e.curveMonotoneX=function(e){return new pl(e)},e.curveMonotoneY=function(e){return new gl(e)},e.curveNatural=function(e){return new ml(e)},e.curveStep=function(e){return new yl(e,.5)},e.curveStepAfter=function(e){return new yl(e,1)},e.curveStepBefore=function(e){return new yl(e,0)},e.stack=function(){function e(e){var o,a,s=t.apply(this,arguments),l=e.length,u=s.length,c=new Array(u);for(o=0;o<u;++o){for(var d,f=s[o],h=c[o]=new Array(l),p=0;p<l;++p)h[p]=d=[0,+r(e[p],f,p,e)],d.data=e[p];h.key=f}for(o=0,a=n(c);o<u;++o)c[a[o]].index=o;return i(c,a),c}var t=ib([]),n=Zb,i=Qb,r=xl;return e.keys=function(n){return arguments.length?(t="function"==typeof n?n:ib(_b.call(n)),e):t},e.value=function(t){return arguments.length?(r="function"==typeof t?t:ib(+t),e):r},e.order=function(t){return arguments.length?(n=null==t?Zb:"function"==typeof t?t:ib(_b.call(t)),e):n},e.offset=function(t){return arguments.length?(i=null==t?Qb:t,e):i},e},e.stackOffsetExpand=function(e,t){if((i=e.length)>0){for(var n,i,r,o=0,a=e[0].length;o<a;++o){for(r=n=0;n<i;++n)r+=e[n][o][1]||0;if(r)for(n=0;n<i;++n)e[n][o][1]/=r}Qb(e,t)}},e.stackOffsetDiverging=function(e,t){if((s=e.length)>1)for(var n,i,r,o,a,s,l=0,u=e[t[0]].length;l<u;++l)for(o=a=0,n=0;n<s;++n)(r=(i=e[t[n]][l])[1]-i[0])>=0?(i[0]=o,i[1]=o+=r):r<0?(i[1]=a,i[0]=a+=r):i[0]=o},e.stackOffsetNone=Qb,e.stackOffsetSilhouette=function(e,t){if((n=e.length)>0){for(var n,i=0,r=e[t[0]],o=r.length;i<o;++i){for(var a=0,s=0;a<n;++a)s+=e[a][i][1]||0;r[i][1]+=r[i][0]=-s/2}Qb(e,t)}},e.stackOffsetWiggle=function(e,t){if((r=e.length)>0&&(i=(n=e[t[0]]).length)>0){for(var n,i,r,o=0,a=1;a<i;++a){for(var s=0,l=0,u=0;s<r;++s){for(var c=e[t[s]],d=c[a][1]||0,f=(d-(c[a-1][1]||0))/2,h=0;h<s;++h){var p=e[t[h]];f+=(p[a][1]||0)-(p[a-1][1]||0)}l+=d,u+=f*d}n[a-1][1]+=n[a-1][0]=o,l&&(o-=u/l)}n[a-1][1]+=n[a-1][0]=o,Qb(e,t)}},e.stackOrderAscending=Kb,e.stackOrderDescending=function(e){return Kb(e).reverse()},e.stackOrderInsideOut=function(e){var t,n,i=e.length,r=e.map(wl),o=Zb(e).sort(function(e,t){return r[t]-r[e]}),a=0,s=0,l=[],u=[];for(t=0;t<i;++t)n=o[t],a<s?(a+=r[n],l.push(n)):(s+=r[n],u.push(n));return u.reverse().concat(l)},e.stackOrderNone=Zb,e.stackOrderReverse=function(e){return Zb(e).reverse()},e.timeInterval=Sa,e.timeMillisecond=Dv,e.timeMilliseconds=Ev,e.utcMillisecond=Dv,e.utcMilliseconds=Ev,e.timeSecond=Fv,e.timeSeconds=Lv,e.utcSecond=Fv,e.utcSeconds=Lv,e.timeMinute=Nv,e.timeMinutes=Ov,e.timeHour=jv,e.timeHours=zv,e.timeDay=qv,e.timeDays=Hv,e.timeWeek=Bv,e.timeWeeks=$v,e.timeSunday=Bv,e.timeSundays=$v,e.timeMonday=Vv,e.timeMondays=Jv,e.timeTuesday=Wv,e.timeTuesdays=Qv,e.timeWednesday=Uv,e.timeWednesdays=Zv,e.timeThursday=Gv,e.timeThursdays=Kv,e.timeFriday=Yv,e.timeFridays=em,e.timeSaturday=Xv,e.timeSaturdays=tm,e.timeMonth=nm,e.timeMonths=im,e.timeYear=rm,e.timeYears=om,e.utcMinute=am,e.utcMinutes=sm,e.utcHour=lm,e.utcHours=um,e.utcDay=cm,e.utcDays=dm,e.utcWeek=fm,e.utcWeeks=ym,e.utcSunday=fm,e.utcSundays=ym,e.utcMonday=hm,e.utcMondays=xm,e.utcTuesday=pm,e.utcTuesdays=wm,e.utcWednesday=gm,e.utcWednesdays=Cm,e.utcThursday=vm,e.utcThursdays=Sm,e.utcFriday=mm,e.utcFridays=_m,e.utcSaturday=bm,e.utcSaturdays=km,e.utcMonth=Tm,e.utcMonths=Mm,e.utcYear=Am,e.utcYears=Dm,e.timeFormatDefaultLocale=Ss,e.timeFormatLocale=Pa,e.isoFormat=Lm,e.isoParse=Nm,e.now=ct,e.timer=ht,e.timerFlush=pt,e.timeout=Dd,e.interval=function(e,t,n){var i=new ft,r=t;return null==t?(i.restart(e,t,n),i):(t=+t,n=null==n?ct():+n,i.restart(function o(a){a+=r,i.restart(o,r+=t,n),e(a)},t,n),i)},e.transition=Jt,e.active=function(e,t){var n,i,r=e.__transition;if(r){t=null==t?null:t+"";for(i in r)if((n=r[i]).state>Fd&&n.name===t)return new $t([[e]],vf,t,+i)}return null},e.interrupt=Hd,e.voronoi=function(){function e(e){return new Kl(e.map(function(i,r){var o=[Math.round(t(i,r,e)/ly)*ly,Math.round(n(i,r,e)/ly)*ly];return o.index=r,o.data=i,o}),i)}var t=Cl,n=Sl,i=null;return e.polygons=function(t){return e(t).polygons()},e.links=function(t){return e(t).links()},e.triangles=function(t){return e(t).triangles()},e.x=function(n){return arguments.length?(t="function"==typeof n?n:ey(+n),e):t},e.y=function(t){return arguments.length?(n="function"==typeof t?t:ey(+t),e):n},e.extent=function(t){return arguments.length?(i=null==t?null:[[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]],e):i&&[[i[0][0],i[0][1]],[i[1][0],i[1][1]]]},e.size=function(t){return arguments.length?(i=null==t?null:[[0,0],[+t[0],+t[1]]],e):i&&[i[1][0]-i[0][0],i[1][1]-i[0][1]]},e},e.zoom=function(){function t(e){e.property("__zoom",au).on("wheel.zoom",u).on("mousedown.zoom",c).on("dblclick.zoom",d).filter(lu).on("touchstart.zoom",h).on("touchmove.zoom",p).on("touchend.zoom touchcancel.zoom",g).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function n(e,t){return(t=Math.max(w,Math.min(C,t)))===e.k?e:new tu(t,e.x,e.y)}function i(e,t,n){var i=t[0]-n[0]*e.k,r=t[1]-n[1]*e.k;return i===e.x&&r===e.y?e:new tu(e.k,i,r)}function r(e,t){var n=e.invertX(t[0][0])-S,i=e.invertX(t[1][0])-_,r=e.invertY(t[0][1])-k,o=e.invertY(t[1][1])-M;return e.translate(i>n?(n+i)/2:Math.min(0,n)||Math.max(0,i),o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o))}function o(e){return[(+e[0][0]+ +e[1][0])/2,(+e[0][1]+ +e[1][1])/2]}function a(e,t,n){e.on("start.zoom",function(){s(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){s(this,arguments).end()}).tween("zoom",function(){var e=this,i=arguments,r=s(e,i),a=y.apply(e,i),l=n||o(a),u=Math.max(a[1][0]-a[0][0],a[1][1]-a[0][1]),c=e.__zoom,d="function"==typeof t?t.apply(e,i):t,f=P(c.invert(l).concat(u/c.k),d.invert(l).concat(u/d.k));return function(e){if(1===e)e=d;else{var t=f(e),n=u/t[2];e=new tu(n,l[0]-t[0]*n,l[1]-t[1]*n)}r.zoom(null,e)}})}function s(e,t){for(var n,i=0,r=D.length;i<r;++i)if((n=D[i]).that===e)return n;return new l(e,t)}function l(e,t){this.that=e,this.args=t,this.index=-1,this.active=0,this.extent=y.apply(e,t)}function u(){if(b.apply(this,arguments)){var e=s(this,arguments),t=this.__zoom,o=Math.max(w,Math.min(C,t.k*Math.pow(2,x.apply(this,arguments)))),a=Ku(this);if(e.wheel)e.mouse[0][0]===a[0]&&e.mouse[0][1]===a[1]||(e.mouse[1]=t.invert(e.mouse[0]=a)),clearTimeout(e.wheel);else{if(t.k===o)return;e.mouse=[a,t.invert(a)],Hd(this),e.start()}fy(),e.wheel=setTimeout(function(){e.wheel=null,e.end()},I),e.zoom("mouse",r(i(n(t,o),e.mouse[0],e.mouse[1]),e.extent))}}function c(){if(!m&&b.apply(this,arguments)){var t=s(this,arguments),n=sc(e.event.view).on("mousemove.zoom",function(){if(fy(),!t.moved){var n=e.event.clientX-a,o=e.event.clientY-l;t.moved=n*n+o*o>F}t.zoom("mouse",r(i(t.that.__zoom,t.mouse[0]=Ku(t.that),t.mouse[1]),t.extent))},!0).on("mouseup.zoom",function(){n.on("mousemove.zoom mouseup.zoom",null),ve(e.event.view,t.moved),fy(),t.end()},!0),o=Ku(this),a=e.event.clientX,l=e.event.clientY;cc(e.event.view),iu(),t.mouse=[o,this.__zoom.invert(o)],Hd(this),t.start()}}function d(){if(b.apply(this,arguments)){var o=this.__zoom,s=Ku(this),l=o.invert(s),u=r(i(n(o,o.k*(e.event.shiftKey?.5:2)),s,l),y.apply(this,arguments));fy(),A>0?sc(this).transition().duration(A).call(a,u,s):sc(this).call(t.transform,u)}}function h(){if(b.apply(this,arguments)){var t,n,i,r,o=s(this,arguments),a=e.event.changedTouches,l=a.length;for(iu(),n=0;n<l;++n)i=a[n],r=[r=lc(this,a,i.identifier),this.__zoom.invert(r),i.identifier],o.touch0?o.touch1||(o.touch1=r):(o.touch0=r,t=!0);if(v&&(v=clearTimeout(v),!o.touch1))return o.end(),void((r=sc(this).on("dblclick.zoom"))&&r.apply(this,arguments));t&&(v=setTimeout(function(){v=null},R),Hd(this),o.start())}}function p(){var t,o,a,l,u=s(this,arguments),c=e.event.changedTouches,d=c.length;for(fy(),v&&(v=clearTimeout(v)),t=0;t<d;++t)o=c[t],a=lc(this,c,o.identifier),u.touch0&&u.touch0[2]===o.identifier?u.touch0[0]=a:u.touch1&&u.touch1[2]===o.identifier&&(u.touch1[0]=a);if(o=u.that.__zoom,u.touch1){var f=u.touch0[0],h=u.touch0[1],p=u.touch1[0],g=u.touch1[1],m=(m=p[0]-f[0])*m+(m=p[1]-f[1])*m,b=(b=g[0]-h[0])*b+(b=g[1]-h[1])*b;o=n(o,Math.sqrt(m/b)),a=[(f[0]+p[0])/2,(f[1]+p[1])/2],l=[(h[0]+g[0])/2,(h[1]+g[1])/2]}else{if(!u.touch0)return;a=u.touch0[0],l=u.touch0[1]}u.zoom("touch",r(i(o,a,l),u.extent))}function g(){var t,n,i=s(this,arguments),r=e.event.changedTouches,o=r.length;for(iu(),m&&clearTimeout(m),m=setTimeout(function(){m=null},R),t=0;t<o;++t)n=r[t],i.touch0&&i.touch0[2]===n.identifier?delete i.touch0:i.touch1&&i.touch1[2]===n.identifier&&delete i.touch1;i.touch1&&!i.touch0&&(i.touch0=i.touch1,delete i.touch1),i.touch0?i.touch0[1]=this.__zoom.invert(i.touch0[0]):i.end()}var v,m,b=ru,y=ou,x=su,w=0,C=1/0,S=-C,_=C,k=S,M=_,A=250,P=pd,D=[],E=f("start","zoom","end"),R=500,I=150,F=0;return t.transform=function(e,t){var n=e.selection?e.selection():e;n.property("__zoom",au),e!==n?a(e,t):n.interrupt().each(function(){s(this,arguments).start().zoom(null,"function"==typeof t?t.apply(this,arguments):t).end()})},t.scaleBy=function(e,n){t.scaleTo(e,function(){return this.__zoom.k*("function"==typeof n?n.apply(this,arguments):n)})},t.scaleTo=function(e,a){t.transform(e,function(){var e=y.apply(this,arguments),t=this.__zoom,s=o(e),l=t.invert(s);return r(i(n(t,"function"==typeof a?a.apply(this,arguments):a),s,l),e)})},t.translateBy=function(e,n,i){t.transform(e,function(){return r(this.__zoom.translate("function"==typeof n?n.apply(this,arguments):n,"function"==typeof i?i.apply(this,arguments):i),y.apply(this,arguments))})},t.translateTo=function(e,n,i){t.transform(e,function(){var e=y.apply(this,arguments),t=this.__zoom,a=o(e);return r(dy.translate(a[0],a[1]).scale(t.k).translate("function"==typeof n?-n.apply(this,arguments):-n,"function"==typeof i?-i.apply(this,arguments):-i),e)})},l.prototype={start:function(){return 1==++this.active&&(this.index=D.push(this)-1,this.emit("start")),this},zoom:function(e,t){return this.mouse&&"mouse"!==e&&(this.mouse[1]=t.invert(this.mouse[0])),this.touch0&&"touch"!==e&&(this.touch0[1]=t.invert(this.touch0[0])),this.touch1&&"touch"!==e&&(this.touch1[1]=t.invert(this.touch1[0])),this.that.__zoom=t,this.emit("zoom"),this},end:function(){return 0==--this.active&&(D.splice(this.index,1),this.index=-1,this.emit("end")),this},emit:function(e){T(new eu(t,e,this.that.__zoom),E.apply,E,[e,this.that,this.args])}},t.wheelDelta=function(e){return arguments.length?(x="function"==typeof e?e:cy(+e),t):x},t.filter=function(e){return arguments.length?(b="function"==typeof e?e:cy(!!e),t):b},t.extent=function(e){return arguments.length?(y="function"==typeof e?e:cy([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),t):y},t.scaleExtent=function(e){return arguments.length?(w=+e[0],C=+e[1],t):[w,C]},t.translateExtent=function(e){return arguments.length?(S=+e[0][0],_=+e[1][0],k=+e[0][1],M=+e[1][1],t):[[S,k],[_,M]]},t.duration=function(e){return arguments.length?(A=+e,t):A},t.interpolate=function(e){return arguments.length?(P=e,t):P},t.on=function(){var e=E.on.apply(E,arguments);return e===E?t:e},t.clickDistance=function(e){return arguments.length?(F=(e=+e)*e,t):Math.sqrt(F)},t},e.zoomTransform=nu,e.zoomIdentity=dy,Object.defineProperty(e,"__esModule",{value:!0})}),function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){"use strict";function n(e,t){var n=(t=t||ee).createElement("script");n.text=e,t.head.appendChild(n).parentNode.removeChild(n)}function i(e){var t=!!e&&"length"in e&&e.length,n=he.type(e);return"function"!==n&&!he.isWindow(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function r(e,t,n){return he.isFunction(t)?he.grep(e,function(e,i){return!!t.call(e,i,e)!==n}):t.nodeType?he.grep(e,function(e){return e===t!==n}):"string"!=typeof t?he.grep(e,function(e){return oe.call(t,e)>-1!==n}):Se.test(t)?he.filter(t,e,n):(t=he.filter(t,e),he.grep(e,function(e){return oe.call(t,e)>-1!==n&&1===e.nodeType}))}function o(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function a(e){var t={};return he.each(e.match(Ae)||[],function(e,n){t[n]=!0}),t}function s(e){return e}function l(e){throw e}function u(e,t,n){var i;try{e&&he.isFunction(i=e.promise)?i.call(e).done(t).fail(n):e&&he.isFunction(i=e.then)?i.call(e,t,n):t.call(void 0,e)}catch(e){n.call(void 0,e)}}function c(){ee.removeEventListener("DOMContentLoaded",c),e.removeEventListener("load",c),he.ready()}function d(){this.expando=he.expando+d.uid++}function f(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:Le.test(e)?JSON.parse(e):e)}function h(e,t,n){var i;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(Ne,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(i))){try{n=f(n)}catch(e){}Fe.set(e,t,n)}else n=void 0;return n}function p(e,t,n,i){var r,o=1,a=20,s=i?function(){return i.cur()}:function(){return he.css(e,t,"")},l=s(),u=n&&n[3]||(he.cssNumber[t]?"":"px"),c=(he.cssNumber[t]||"px"!==u&&+l)&&je.exec(he.css(e,t));if(c&&c[3]!==u){u=u||c[3],n=n||[],c=+l||1;do{o=o||".5",c/=o,he.style(e,t,c+u)}while(o!==(o=s()/l)&&1!==o&&--a)}return n&&(c=+c||+l||0,r=n[1]?c+(n[1]+1)*n[2]:+n[2],i&&(i.unit=u,i.start=c,i.end=r)),r}function g(e){var t,n=e.ownerDocument,i=e.nodeName,r=Be[i];return r||(t=n.body.appendChild(n.createElement(i)),r=he.css(t,"display"),t.parentNode.removeChild(t),"none"===r&&(r="block"),Be[i]=r,r)}function v(e,t){for(var n,i,r=[],o=0,a=e.length;o<a;o++)(i=e[o]).style&&(n=i.style.display,t?("none"===n&&(r[o]=Ie.get(i,"display")||null,r[o]||(i.style.display="")),""===i.style.display&&qe(i)&&(r[o]=g(i))):"none"!==n&&(r[o]="none",Ie.set(i,"display",n)));for(o=0;o<a;o++)null!=r[o]&&(e[o].style.display=r[o]);return e}function m(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&he.nodeName(e,t)?he.merge([e],n):n}function b(e,t){for(var n=0,i=e.length;n<i;n++)Ie.set(e[n],"globalEval",!t||Ie.get(t[n],"globalEval"))}function y(e,t,n,i,r){for(var o,a,s,l,u,c,d=t.createDocumentFragment(),f=[],h=0,p=e.length;h<p;h++)if((o=e[h])||0===o)if("object"===he.type(o))he.merge(f,o.nodeType?[o]:o);else if(Ye.test(o)){for(a=a||d.appendChild(t.createElement("div")),s=(We.exec(o)||["",""])[1].toLowerCase(),l=Ge[s]||Ge._default,a.innerHTML=l[1]+he.htmlPrefilter(o)+l[2],c=l[0];c--;)a=a.lastChild;he.merge(f,a.childNodes),(a=d.firstChild).textContent=""}else f.push(t.createTextNode(o));for(d.textContent="",h=0;o=f[h++];)if(i&&he.inArray(o,i)>-1)r&&r.push(o);else if(u=he.contains(o.ownerDocument,o),a=m(d.appendChild(o),"script"),u&&b(a),n)for(c=0;o=a[c++];)Ue.test(o.type||"")&&n.push(o);return d}function x(){return!0}function w(){return!1}function C(){try{return ee.activeElement}catch(e){}}function S(e,t,n,i,r,o){var a,s;if("object"==typeof t){"string"!=typeof n&&(i=i||n,n=void 0);for(s in t)S(e,s,n,i,t[s],o);return e}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=w;else if(!r)return e;return 1===o&&(a=r,r=function(e){return he().off(e),a.apply(this,arguments)},r.guid=a.guid||(a.guid=he.guid++)),e.each(function(){he.event.add(this,t,r,i,n)})}function _(e,t){return he.nodeName(e,"table")&&he.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e:e}function k(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function T(e){var t=tt.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function M(e,t){var n,i,r,o,a,s,l,u;if(1===t.nodeType){if(Ie.hasData(e)&&(o=Ie.access(e),a=Ie.set(t,o),u=o.events)){delete a.handle,a.events={};for(r in u)for(n=0,i=u[r].length;n<i;n++)he.event.add(t,r,u[r][n])}Fe.hasData(e)&&(s=Fe.access(e),l=he.extend({},s),Fe.set(t,l))}}function A(e,t){var n=t.nodeName.toLowerCase();"input"===n&&Ve.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function P(e,t,i,r){t=ie.apply([],t);var o,a,s,l,u,c,d=0,f=e.length,h=f-1,p=t[0],g=he.isFunction(p);if(g||f>1&&"string"==typeof p&&!de.checkClone&&et.test(p))return e.each(function(n){var o=e.eq(n);g&&(t[0]=p.call(this,n,o.html())),P(o,t,i,r)});if(f&&(o=y(t,e[0].ownerDocument,!1,e,r),a=o.firstChild,1===o.childNodes.length&&(o=a),a||r)){for(l=(s=he.map(m(o,"script"),k)).length;d<f;d++)u=o,d!==h&&(u=he.clone(u,!0,!0),l&&he.merge(s,m(u,"script"))),i.call(e[d],u,d);if(l)for(c=s[s.length-1].ownerDocument,he.map(s,T),d=0;d<l;d++)u=s[d],Ue.test(u.type||"")&&!Ie.access(u,"globalEval")&&he.contains(c,u)&&(u.src?he._evalUrl&&he._evalUrl(u.src):n(u.textContent.replace(nt,""),c))}return e}function D(e,t,n){for(var i,r=t?he.filter(t,e):e,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||he.cleanData(m(i)),i.parentNode&&(n&&he.contains(i.ownerDocument,i)&&b(m(i,"script")),i.parentNode.removeChild(i));return e}function E(e,t,n){var i,r,o,a,s=e.style;return(n=n||ot(e))&&(""!==(a=n.getPropertyValue(t)||n[t])||he.contains(e.ownerDocument,e)||(a=he.style(e,t)),!de.pixelMarginRight()&&rt.test(a)&&it.test(t)&&(i=s.width,r=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=i,s.minWidth=r,s.maxWidth=o)),void 0!==a?a+"":a}function R(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function I(e){if(e in ct)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=ut.length;n--;)if((e=ut[n]+t)in ct)return e}function F(e,t,n){var i=je.exec(t);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):t}function L(e,t,n,i,r){var o,a=0;for(o=n===(i?"border":"content")?4:"width"===t?1:0;o<4;o+=2)"margin"===n&&(a+=he.css(e,n+ze[o],!0,r)),i?("content"===n&&(a-=he.css(e,"padding"+ze[o],!0,r)),"margin"!==n&&(a-=he.css(e,"border"+ze[o]+"Width",!0,r))):(a+=he.css(e,"padding"+ze[o],!0,r),"padding"!==n&&(a+=he.css(e,"border"+ze[o]+"Width",!0,r)));return a}function N(e,t,n){var i,r=!0,o=ot(e),a="border-box"===he.css(e,"boxSizing",!1,o);if(e.getClientRects().length&&(i=e.getBoundingClientRect()[t]),i<=0||null==i){if(((i=E(e,t,o))<0||null==i)&&(i=e.style[t]),rt.test(i))return i;r=a&&(de.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+L(e,t,n||(a?"border":"content"),r,o)+"px"}function O(e,t,n,i,r){return new O.prototype.init(e,t,n,i,r)}function j(){ft&&(e.requestAnimationFrame(j),he.fx.tick())}function z(){return e.setTimeout(function(){dt=void 0}),dt=he.now()}function q(e,t){var n,i=0,r={height:e};for(t=t?1:0;i<4;i+=2-t)n=ze[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function H(e,t,n){for(var i,r=(V.tweeners[t]||[]).concat(V.tweeners["*"]),o=0,a=r.length;o<a;o++)if(i=r[o].call(n,t,e))return i}function B(e,t){var n,i,r,o,a;for(n in e)if(i=he.camelCase(n),r=t[i],o=e[n],he.isArray(o)&&(r=o[1],o=e[n]=o[0]),n!==i&&(e[i]=o,delete e[n]),(a=he.cssHooks[i])&&"expand"in a){o=a.expand(o),delete e[i];for(n in o)n in e||(e[n]=o[n],t[n]=r)}else t[i]=r}function V(e,t,n){var i,r,o=0,a=V.prefilters.length,s=he.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var t=dt||z(),n=Math.max(0,u.startTime+u.duration-t),i=1-(n/u.duration||0),o=0,a=u.tweens.length;o<a;o++)u.tweens[o].run(i);return s.notifyWith(e,[u,i,n]),i<1&&a?n:(s.resolveWith(e,[u]),!1)},u=s.promise({elem:e,props:he.extend({},t),opts:he.extend(!0,{specialEasing:{},easing:he.easing._default},n),originalProperties:t,originalOptions:n,startTime:dt||z(),duration:n.duration,tweens:[],createTween:function(t,n){var i=he.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(i),i},stop:function(t){var n=0,i=t?u.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)u.tweens[n].run(1);return t?(s.notifyWith(e,[u,1,0]),s.resolveWith(e,[u,t])):s.rejectWith(e,[u,t]),this}}),c=u.props;for(B(c,u.opts.specialEasing);o<a;o++)if(i=V.prefilters[o].call(u,e,c,u.opts))return he.isFunction(i.stop)&&(he._queueHooks(u.elem,u.opts.queue).stop=he.proxy(i.stop,i)),i;return he.map(c,H,u),he.isFunction(u.opts.start)&&u.opts.start.call(e,u),he.fx.timer(he.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function W(e){return(e.match(Ae)||[]).join(" ")}function U(e){return e.getAttribute&&e.getAttribute("class")||""}function G(e,t,n,i){var r;if(he.isArray(t))he.each(t,function(t,r){n||_t.test(e)?i(e,r):G(e+"["+("object"==typeof r&&null!=r?t:"")+"]",r,n,i)});else if(n||"object"!==he.type(t))i(e,t);else for(r in t)G(e+"["+r+"]",t[r],n,i)}function Y(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,r=0,o=t.toLowerCase().match(Ae)||[];if(he.isFunction(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function X(e,t,n,i){function r(s){var l;return o[s]=!0,he.each(e[s]||[],function(e,s){var u=s(t,n,i);return"string"!=typeof u||a||o[u]?a?!(l=u):void 0:(t.dataTypes.unshift(u),r(u),!1)}),l}var o={},a=e===Nt;return r(t.dataTypes[0])||!o["*"]&&r("*")}function $(e,t){var n,i,r=he.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((r[n]?e:i||(i={}))[n]=t[n]);return i&&he.extend(!0,e,i),e}function J(e,t,n){for(var i,r,o,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(r in s)if(s[r]&&s[r].test(i)){l.unshift(r);break}if(l[0]in n)o=l[0];else{for(r in n){if(!l[0]||e.converters[r+" "+l[0]]){o=r;break}a||(a=r)}o=o||a}if(o)return o!==l[0]&&l.unshift(o),n[o]}function Q(e,t,n,i){var r,o,a,s,l,u={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)u[a.toLowerCase()]=e.converters[a];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(a=u[l+" "+o]||u["* "+o]))for(r in u)if((s=r.split(" "))[1]===o&&(a=u[l+" "+s[0]]||u["* "+s[0]])){!0===a?a=u[r]:!0!==u[r]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}function Z(e){return he.isWindow(e)?e:9===e.nodeType&&e.defaultView}var K=[],ee=e.document,te=Object.getPrototypeOf,ne=K.slice,ie=K.concat,re=K.push,oe=K.indexOf,ae={},se=ae.toString,le=ae.hasOwnProperty,ue=le.toString,ce=ue.call(Object),de={},fe="3.1.1",he=function(e,t){return new he.fn.init(e,t)},pe=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ge=/^-ms-/,ve=/-([a-z])/g,me=function(e,t){return t.toUpperCase()};he.fn=he.prototype={jquery:fe,constructor:he,length:0,toArray:function(){return ne.call(this)},get:function(e){return null==e?ne.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=he.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return he.each(this,e)},map:function(e){return this.pushStack(he.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(ne.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:re,sort:K.sort,splice:K.splice},he.extend=he.fn.extend=function(){var e,t,n,i,r,o,a=arguments[0]||{},s=1,l=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[s]||{},s++),"object"==typeof a||he.isFunction(a)||(a={}),s===l&&(a=this,s--);s<l;s++)if(null!=(e=arguments[s]))for(t in e)n=a[t],i=e[t],a!==i&&(u&&i&&(he.isPlainObject(i)||(r=he.isArray(i)))?(r?(r=!1,o=n&&he.isArray(n)?n:[]):o=n&&he.isPlainObject(n)?n:{},a[t]=he.extend(u,o,i)):void 0!==i&&(a[t]=i));return a},he.extend({expando:"jQuery"+(fe+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===he.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=he.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==se.call(e)||(t=te(e))&&("function"!=typeof(n=le.call(t,"constructor")&&t.constructor)||ue.call(n)!==ce))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?ae[se.call(e)]||"object":typeof e},globalEval:function(e){n(e)},camelCase:function(e){return e.replace(ge,"ms-").replace(ve,me)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var n,r=0;if(i(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},trim:function(e){return null==e?"":(e+"").replace(pe,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(i(Object(e))?he.merge(n,"string"==typeof e?[e]:e):re.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:oe.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,r=e.length;i<n;i++)e[r++]=t[i];return e.length=r,e},grep:function(e,t,n){for(var i=[],r=0,o=e.length,a=!n;r<o;r++)!t(e[r],r)!==a&&i.push(e[r]);return i},map:function(e,t,n){var r,o,a=0,s=[];if(i(e))for(r=e.length;a<r;a++)null!=(o=t(e[a],a,n))&&s.push(o);else for(a in e)null!=(o=t(e[a],a,n))&&s.push(o);return ie.apply([],s)},guid:1,proxy:function(e,t){var n,i,r;if("string"==typeof t&&(n=e[t],t=e,e=n),he.isFunction(e))return i=ne.call(arguments,2),r=function(){return e.apply(t||this,i.concat(ne.call(arguments)))},r.guid=e.guid=e.guid||he.guid++,r},now:Date.now,support:de}),"function"==typeof Symbol&&(he.fn[Symbol.iterator]=K[Symbol.iterator]),he.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){ae["[object "+t+"]"]=t.toLowerCase()});var be=function(e){function t(e,t,n,i){var r,o,a,s,l,c,f,h=t&&t.ownerDocument,p=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==p&&9!==p&&11!==p)return n;if(!i&&((t?t.ownerDocument||t:z)!==E&&D(t),t=t||E,I)){if(11!==p&&(l=ge.exec(e)))if(r=l[1]){if(9===p){if(!(a=t.getElementById(r)))return n;if(a.id===r)return n.push(a),n}else if(h&&(a=h.getElementById(r))&&O(t,a)&&a.id===r)return n.push(a),n}else{if(l[2])return J.apply(n,t.getElementsByTagName(e)),n;if((r=l[3])&&x.getElementsByClassName&&t.getElementsByClassName)return J.apply(n,t.getElementsByClassName(r)),n}if(x.qsa&&!W[e+" "]&&(!F||!F.test(e))){if(1!==p)h=t,f=e;else if("object"!==t.nodeName.toLowerCase()){for((s=t.getAttribute("id"))?s=s.replace(ye,xe):t.setAttribute("id",s=j),o=(c=_(e)).length;o--;)c[o]="#"+s+" "+d(c[o]);f=c.join(","),h=ve.test(e)&&u(t.parentNode)||t}if(f)try{return J.apply(n,h.querySelectorAll(f)),n}catch(e){}finally{s===j&&t.removeAttribute("id")}}}return T(e.replace(oe,"$1"),t,n,i)}function n(){function e(n,i){return t.push(n+" ")>w.cacheLength&&delete e[t.shift()],e[n+" "]=i}var t=[];return e}function i(e){return e[j]=!0,e}function r(e){var t=E.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),i=n.length;i--;)w.attrHandle[n[i]]=t}function a(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&Ce(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function l(e){return i(function(t){return t=+t,i(function(n,i){for(var r,o=e([],n.length,t),a=o.length;a--;)n[r=o[a]]&&(n[r]=!(i[r]=n[r]))})})}function u(e){return e&&void 0!==e.getElementsByTagName&&e}function c(){}function d(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function f(e,t,n){var i=t.dir,r=t.next,o=r||i,a=n&&"parentNode"===o,s=H++;return t.first?function(t,n,r){for(;t=t[i];)if(1===t.nodeType||a)return e(t,n,r);return!1}:function(t,n,l){var u,c,d,f=[q,s];if(l){for(;t=t[i];)if((1===t.nodeType||a)&&e(t,n,l))return!0}else for(;t=t[i];)if(1===t.nodeType||a)if(d=t[j]||(t[j]={}),c=d[t.uniqueID]||(d[t.uniqueID]={}),r&&r===t.nodeName.toLowerCase())t=t[i]||t;else{if((u=c[o])&&u[0]===q&&u[1]===s)return f[2]=u[2];if(c[o]=f,f[2]=e(t,n,l))return!0}return!1}}function h(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function p(e,n,i){for(var r=0,o=n.length;r<o;r++)t(e,n[r],i);return i}function g(e,t,n,i,r){for(var o,a=[],s=0,l=e.length,u=null!=t;s<l;s++)(o=e[s])&&(n&&!n(o,i,r)||(a.push(o),u&&t.push(s)));return a}function v(e,t,n,r,o,a){return r&&!r[j]&&(r=v(r)),o&&!o[j]&&(o=v(o,a)),i(function(i,a,s,l){var u,c,d,f=[],h=[],v=a.length,m=i||p(t||"*",s.nodeType?[s]:s,[]),b=!e||!i&&t?m:g(m,f,e,s,l),y=n?o||(i?e:v||r)?[]:a:b;if(n&&n(b,y,s,l),r)for(u=g(y,h),r(u,[],s,l),c=u.length;c--;)(d=u[c])&&(y[h[c]]=!(b[h[c]]=d));if(i){if(o||e){if(o){for(u=[],c=y.length;c--;)(d=y[c])&&u.push(b[c]=d);o(null,y=[],u,l)}for(c=y.length;c--;)(d=y[c])&&(u=o?Z(i,d):f[c])>-1&&(i[u]=!(a[u]=d))}}else y=g(y===a?y.splice(v,y.length):y),o?o(null,a,y,l):J.apply(a,y)})}function m(e){for(var t,n,i,r=e.length,o=w.relative[e[0].type],a=o||w.relative[" "],s=o?1:0,l=f(function(e){return e===t},a,!0),u=f(function(e){return Z(t,e)>-1},a,!0),c=[function(e,n,i){var r=!o&&(i||n!==M)||((t=n).nodeType?l(e,n,i):u(e,n,i));return t=null,r}];s<r;s++)if(n=w.relative[e[s].type])c=[f(h(c),n)];else{if((n=w.filter[e[s].type].apply(null,e[s].matches))[j]){for(i=++s;i<r&&!w.relative[e[i].type];i++);return v(s>1&&h(c),s>1&&d(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(oe,"$1"),n,s<i&&m(e.slice(s,i)),i<r&&m(e=e.slice(i)),i<r&&d(e))}c.push(n)}return h(c)}function b(e,n){var r=n.length>0,o=e.length>0,a=function(i,a,s,l,u){var c,d,f,h=0,p="0",v=i&&[],m=[],b=M,y=i||o&&w.find.TAG("*",u),x=q+=null==b?1:Math.random()||.1,C=y.length;for(u&&(M=a===E||a||u);p!==C&&null!=(c=y[p]);p++){if(o&&c){for(d=0,a||c.ownerDocument===E||(D(c),s=!I);f=e[d++];)if(f(c,a||E,s)){l.push(c);break}u&&(q=x)}r&&((c=!f&&c)&&h--,i&&v.push(c))}if(h+=p,r&&p!==h){for(d=0;f=n[d++];)f(v,m,a,s);if(i){if(h>0)for(;p--;)v[p]||m[p]||(m[p]=X.call(l));m=g(m)}J.apply(l,m),u&&!i&&m.length>0&&h+n.length>1&&t.uniqueSort(l)}return u&&(q=x,M=b),v};return r?i(a):a}var y,x,w,C,S,_,k,T,M,A,P,D,E,R,I,F,L,N,O,j="sizzle"+1*new Date,z=e.document,q=0,H=0,B=n(),V=n(),W=n(),U=function(e,t){return e===t&&(P=!0),0},G={}.hasOwnProperty,Y=[],X=Y.pop,$=Y.push,J=Y.push,Q=Y.slice,Z=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},K="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ee="[\\x20\\t\\r\\n\\f]",te="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",ne="\\["+ee+"*("+te+")(?:"+ee+"*([*^$|!~]?=)"+ee+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+te+"))|)"+ee+"*\\]",ie=":("+te+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ne+")*)|.*)\\)|)",re=new RegExp(ee+"+","g"),oe=new RegExp("^"+ee+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ee+"+$","g"),ae=new RegExp("^"+ee+"*,"+ee+"*"),se=new RegExp("^"+ee+"*([>+~]|"+ee+")"+ee+"*"),le=new RegExp("="+ee+"*([^\\]'\"]*?)"+ee+"*\\]","g"),ue=new RegExp(ie),ce=new RegExp("^"+te+"$"),de={ID:new RegExp("^#("+te+")"),CLASS:new RegExp("^\\.("+te+")"),TAG:new RegExp("^("+te+"|[*])"),ATTR:new RegExp("^"+ne),PSEUDO:new RegExp("^"+ie),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ee+"*(even|odd|(([+-]|)(\\d*)n|)"+ee+"*(?:([+-]|)"+ee+"*(\\d+)|))"+ee+"*\\)|)","i"),bool:new RegExp("^(?:"+K+")$","i"),needsContext:new RegExp("^"+ee+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ee+"*((?:-\\d)?\\d*)"+ee+"*\\)|)(?=[^-]|$)","i")},fe=/^(?:input|select|textarea|button)$/i,he=/^h\d$/i,pe=/^[^{]+\{\s*\[native \w/,ge=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ve=/[+~]/,me=new RegExp("\\\\([\\da-f]{1,6}"+ee+"?|("+ee+")|.)","ig"),be=function(e,t,n){var i="0x"+t-65536;return i!==i||n?t:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},ye=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,xe=function(e,t){return t?"\0"===e?"":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},we=function(){D()},Ce=f(function(e){return!0===e.disabled&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{J.apply(Y=Q.call(z.childNodes),z.childNodes),Y[z.childNodes.length].nodeType}catch(e){J={apply:Y.length?function(e,t){$.apply(e,Q.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}x=t.support={},S=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},D=t.setDocument=function(e){var t,n,i=e?e.ownerDocument||e:z;return i!==E&&9===i.nodeType&&i.documentElement?(E=i,R=E.documentElement,I=!S(E),z!==E&&(n=E.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",we,!1):n.attachEvent&&n.attachEvent("onunload",we)),x.attributes=r(function(e){return e.className="i",!e.getAttribute("className")}),x.getElementsByTagName=r(function(e){return e.appendChild(E.createComment("")),!e.getElementsByTagName("*").length}),x.getElementsByClassName=pe.test(E.getElementsByClassName),x.getById=r(function(e){return R.appendChild(e).id=j,!E.getElementsByName||!E.getElementsByName(j).length}),x.getById?(w.filter.ID=function(e){var t=e.replace(me,be);return function(e){return e.getAttribute("id")===t}},w.find.ID=function(e,t){if(void 0!==t.getElementById&&I){var n=t.getElementById(e);return n?[n]:[]}}):(w.filter.ID=function(e){var t=e.replace(me,be);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},w.find.ID=function(e,t){if(void 0!==t.getElementById&&I){var n,i,r,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];for(r=t.getElementsByName(e),i=0;o=r[i++];)if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),w.find.TAG=x.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):x.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],r=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},w.find.CLASS=x.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&I)return t.getElementsByClassName(e)},L=[],F=[],(x.qsa=pe.test(E.querySelectorAll))&&(r(function(e){R.appendChild(e).innerHTML="<a id='"+j+"'></a><select id='"+j+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&F.push("[*^$]="+ee+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||F.push("\\["+ee+"*(?:value|"+K+")"),e.querySelectorAll("[id~="+j+"-]").length||F.push("~="),e.querySelectorAll(":checked").length||F.push(":checked"),e.querySelectorAll("a#"+j+"+*").length||F.push(".#.+[+~]")}),r(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=E.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&F.push("name"+ee+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&F.push(":enabled",":disabled"),R.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&F.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),F.push(",.*:")})),(x.matchesSelector=pe.test(N=R.matches||R.webkitMatchesSelector||R.mozMatchesSelector||R.oMatchesSelector||R.msMatchesSelector))&&r(function(e){x.disconnectedMatch=N.call(e,"*"),N.call(e,"[s!='']:x"),L.push("!=",ie)}),F=F.length&&new RegExp(F.join("|")),L=L.length&&new RegExp(L.join("|")),t=pe.test(R.compareDocumentPosition),O=t||pe.test(R.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},U=t?function(e,t){if(e===t)return P=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!x.sortDetached&&t.compareDocumentPosition(e)===n?e===E||e.ownerDocument===z&&O(z,e)?-1:t===E||t.ownerDocument===z&&O(z,t)?1:A?Z(A,e)-Z(A,t):0:4&n?-1:1)}:function(e,t){if(e===t)return P=!0,0;var n,i=0,r=e.parentNode,o=t.parentNode,s=[e],l=[t];if(!r||!o)return e===E?-1:t===E?1:r?-1:o?1:A?Z(A,e)-Z(A,t):0;if(r===o)return a(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)l.unshift(n);for(;s[i]===l[i];)i++;return i?a(s[i],l[i]):s[i]===z?-1:l[i]===z?1:0},E):E},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==E&&D(e),n=n.replace(le,"='$1']"),x.matchesSelector&&I&&!W[n+" "]&&(!L||!L.test(n))&&(!F||!F.test(n)))try{var i=N.call(e,n);if(i||x.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(e){}return t(n,E,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==E&&D(e),O(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==E&&D(e);var n=w.attrHandle[t.toLowerCase()],i=n&&G.call(w.attrHandle,t.toLowerCase())?n(e,t,!I):void 0;return void 0!==i?i:x.attributes||!I?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},t.escape=function(e){return(e+"").replace(ye,xe)},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],i=0,r=0;if(P=!x.detectDuplicates,A=!x.sortStable&&e.slice(0),e.sort(U),P){for(;t=e[r++];)t===e[r]&&(i=n.push(r));for(;i--;)e.splice(n[i],1)}return A=null,e},C=t.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=C(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i++];)n+=C(t);return n},(w=t.selectors={cacheLength:50,createPseudo:i,match:de,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(me,be),e[3]=(e[3]||e[4]||e[5]||"").replace(me,be),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return de.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&ue.test(n)&&(t=_(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(me,be).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=B[e+" "];return t||(t=new RegExp("(^|"+ee+")"+e+"("+ee+"|$)"))&&B(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,i){return function(r){var o=t.attr(r,e);return null==o?"!="===n:!n||(o+="","="===n?o===i:"!="===n?o!==i:"^="===n?i&&0===o.indexOf(i):"*="===n?i&&o.indexOf(i)>-1:"$="===n?i&&o.slice(-i.length)===i:"~="===n?(" "+o.replace(re," ")+" ").indexOf(i)>-1:"|="===n&&(o===i||o.slice(0,i.length+1)===i+"-"))}},CHILD:function(e,t,n,i,r){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,l){var u,c,d,f,h,p,g=o!==a?"nextSibling":"previousSibling",v=t.parentNode,m=s&&t.nodeName.toLowerCase(),b=!l&&!s,y=!1;if(v){if(o){for(;g;){for(f=t;f=f[g];)if(s?f.nodeName.toLowerCase()===m:1===f.nodeType)return!1;p=g="only"===e&&!p&&"nextSibling"}return!0}if(p=[a?v.firstChild:v.lastChild],a&&b){for(y=(h=(u=(c=(d=(f=v)[j]||(f[j]={}))[f.uniqueID]||(d[f.uniqueID]={}))[e]||[])[0]===q&&u[1])&&u[2],f=h&&v.childNodes[h];f=++h&&f&&f[g]||(y=h=0)||p.pop();)if(1===f.nodeType&&++y&&f===t){c[e]=[q,h,y];break}}else if(b&&(f=t,d=f[j]||(f[j]={}),c=d[f.uniqueID]||(d[f.uniqueID]={}),u=c[e]||[],h=u[0]===q&&u[1],y=h),!1===y)for(;(f=++h&&f&&f[g]||(y=h=0)||p.pop())&&((s?f.nodeName.toLowerCase()!==m:1!==f.nodeType)||!++y||(b&&(d=f[j]||(f[j]={}),c=d[f.uniqueID]||(d[f.uniqueID]={}),c[e]=[q,y]),f!==t)););return(y-=r)===i||y%i==0&&y/i>=0}}},PSEUDO:function(e,n){var r,o=w.pseudos[e]||w.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[j]?o(n):o.length>1?(r=[e,e,"",n],w.setFilters.hasOwnProperty(e.toLowerCase())?i(function(e,t){for(var i,r=o(e,n),a=r.length;a--;)i=Z(e,r[a]),e[i]=!(t[i]=r[a])}):function(e){return o(e,0,r)}):o}},pseudos:{not:i(function(e){var t=[],n=[],r=k(e.replace(oe,"$1"));return r[j]?i(function(e,t,n,i){for(var o,a=r(e,null,i,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),t[0]=null,!n.pop()}}),has:i(function(e){return function(n){return t(e,n).length>0}}),contains:i(function(e){return e=e.replace(me,be),function(t){return(t.textContent||t.innerText||C(t)).indexOf(e)>-1}}),lang:i(function(e){return ce.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(me,be).toLowerCase(),function(t){var n;do{if(n=I?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===R},focus:function(e){return e===E.activeElement&&(!E.hasFocus||E.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:s(!1),disabled:s(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!w.pseudos.empty(e)},header:function(e){return he.test(e.nodeName)},input:function(e){return fe.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:l(function(){return[0]}),last:l(function(e,t){return[t-1]}),eq:l(function(e,t,n){return[n<0?n+t:n]}),even:l(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:l(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:l(function(e,t,n){for(var i=n<0?n+t:n;--i>=0;)e.push(i);return e}),gt:l(function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e})}}).pseudos.nth=w.pseudos.eq;for(y in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[y]=function(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}(y);for(y in{submit:!0,reset:!0})w.pseudos[y]=function(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}(y);return c.prototype=w.filters=w.pseudos,w.setFilters=new c,_=t.tokenize=function(e,n){var i,r,o,a,s,l,u,c=V[e+" "];if(c)return n?0:c.slice(0);for(s=e,l=[],u=w.preFilter;s;){i&&!(r=ae.exec(s))||(r&&(s=s.slice(r[0].length)||s),l.push(o=[])),i=!1,(r=se.exec(s))&&(i=r.shift(),o.push({value:i,type:r[0].replace(oe," ")}),s=s.slice(i.length));for(a in w.filter)!(r=de[a].exec(s))||u[a]&&!(r=u[a](r))||(i=r.shift(),o.push({value:i,type:a,matches:r}),s=s.slice(i.length));if(!i)break}return n?s.length:s?t.error(e):V(e,l).slice(0)},k=t.compile=function(e,t){var n,i=[],r=[],o=W[e+" "];if(!o){for(t||(t=_(e)),n=t.length;n--;)(o=m(t[n]))[j]?i.push(o):r.push(o);(o=W(e,b(r,i))).selector=e}return o},T=t.select=function(e,t,n,i){var r,o,a,s,l,c="function"==typeof e&&e,f=!i&&_(e=c.selector||e);if(n=n||[],1===f.length){if((o=f[0]=f[0].slice(0)).length>2&&"ID"===(a=o[0]).type&&9===t.nodeType&&I&&w.relative[o[1].type]){if(!(t=(w.find.ID(a.matches[0].replace(me,be),t)||[])[0]))return n;c&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(r=de.needsContext.test(e)?0:o.length;r--&&(a=o[r],!w.relative[s=a.type]);)if((l=w.find[s])&&(i=l(a.matches[0].replace(me,be),ve.test(o[0].type)&&u(t.parentNode)||t))){if(o.splice(r,1),!(e=i.length&&d(o)))return J.apply(n,i),n;break}}return(c||k(e,f))(i,t,!I,n,!t||ve.test(e)&&u(t.parentNode)||t),n},x.sortStable=j.split("").sort(U).join("")===j,x.detectDuplicates=!!P,D(),x.sortDetached=r(function(e){return 1&e.compareDocumentPosition(E.createElement("fieldset"))}),r(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),x.attributes&&r(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),r(function(e){return null==e.getAttribute("disabled")})||o(K,function(e,t,n){var i;if(!n)return!0===e[t]?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),t}(e);he.find=be,he.expr=be.selectors,he.expr[":"]=he.expr.pseudos,he.uniqueSort=he.unique=be.uniqueSort,he.text=be.getText,he.isXMLDoc=be.isXML,he.contains=be.contains,he.escapeSelector=be.escape;var ye=function(e,t,n){for(var i=[],r=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&he(e).is(n))break;i.push(e)}return i},xe=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},we=he.expr.match.needsContext,Ce=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,Se=/^.[^:#\[\.,]*$/;he.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?he.find.matchesSelector(i,e)?[i]:[]:he.find.matches(e,he.grep(t,function(e){return 1===e.nodeType}))},he.fn.extend({find:function(e){var t,n,i=this.length,r=this;if("string"!=typeof e)return this.pushStack(he(e).filter(function(){for(t=0;t<i;t++)if(he.contains(r[t],this))return!0}));for(n=this.pushStack([]),t=0;t<i;t++)he.find(e,r[t],n);return i>1?he.uniqueSort(n):n},filter:function(e){return this.pushStack(r(this,e||[],!1))},not:function(e){return this.pushStack(r(this,e||[],!0))},is:function(e){return!!r(this,"string"==typeof e&&we.test(e)?he(e):e||[],!1).length}});var _e,ke=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(he.fn.init=function(e,t,n){var i,r;if(!e)return this;if(n=n||_e,"string"==typeof e){if(!(i="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:ke.exec(e))||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof he?t[0]:t,he.merge(this,he.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:ee,!0)),Ce.test(i[1])&&he.isPlainObject(t))for(i in t)he.isFunction(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return(r=ee.getElementById(i[2]))&&(this[0]=r,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):he.isFunction(e)?void 0!==n.ready?n.ready(e):e(he):he.makeArray(e,this)}).prototype=he.fn,_e=he(ee);var Te=/^(?:parents|prev(?:Until|All))/,Me={children:!0,contents:!0,next:!0,prev:!0};he.fn.extend({has:function(e){var t=he(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(he.contains(this,t[e]))return!0})},closest:function(e,t){var n,i=0,r=this.length,o=[],a="string"!=typeof e&&he(e);if(!we.test(e))for(;i<r;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&he.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?he.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?oe.call(he(e),this[0]):oe.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(he.uniqueSort(he.merge(this.get(),he(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),he.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return ye(e,"parentNode")},parentsUntil:function(e,t,n){return ye(e,"parentNode",n)},next:function(e){return o(e,"nextSibling")},prev:function(e){return o(e,"previousSibling")},nextAll:function(e){return ye(e,"nextSibling")},prevAll:function(e){return ye(e,"previousSibling")},nextUntil:function(e,t,n){return ye(e,"nextSibling",n)},prevUntil:function(e,t,n){return ye(e,"previousSibling",n)},siblings:function(e){return xe((e.parentNode||{}).firstChild,e)},children:function(e){return xe(e.firstChild)},contents:function(e){return e.contentDocument||he.merge([],e.childNodes)}},function(e,t){he.fn[e]=function(n,i){var r=he.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=he.filter(i,r)),this.length>1&&(Me[e]||he.uniqueSort(r),Te.test(e)&&r.reverse()),this.pushStack(r)}});var Ae=/[^\x20\t\r\n\f]+/g;he.Callbacks=function(e){e="string"==typeof e?a(e):he.extend({},e);var t,n,i,r,o=[],s=[],l=-1,u=function(){for(r=e.once,i=t=!0;s.length;l=-1)for(n=s.shift();++l<o.length;)!1===o[l].apply(n[0],n[1])&&e.stopOnFalse&&(l=o.length,n=!1);e.memory||(n=!1),t=!1,r&&(o=n?[]:"")},c={add:function(){return o&&(n&&!t&&(l=o.length-1,s.push(n)),function t(n){he.each(n,function(n,i){he.isFunction(i)?e.unique&&c.has(i)||o.push(i):i&&i.length&&"string"!==he.type(i)&&t(i)})}(arguments),n&&!t&&u()),this},remove:function(){return he.each(arguments,function(e,t){for(var n;(n=he.inArray(t,o,n))>-1;)o.splice(n,1),n<=l&&l--}),this},has:function(e){return e?he.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return r=s=[],o=n="",this},disabled:function(){return!o},lock:function(){return r=s=[],n||t||(o=n=""),this},locked:function(){return!!r},fireWith:function(e,n){return r||(n=n||[],n=[e,n.slice?n.slice():n],s.push(n),t||u()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!i}};return c},he.extend({Deferred:function(t){var n=[["notify","progress",he.Callbacks("memory"),he.Callbacks("memory"),2],["resolve","done",he.Callbacks("once memory"),he.Callbacks("once memory"),0,"resolved"],["reject","fail",he.Callbacks("once memory"),he.Callbacks("once memory"),1,"rejected"]],i="pending",r={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},catch:function(e){return r.then(null,e)},pipe:function(){var e=arguments;return he.Deferred(function(t){he.each(n,function(n,i){var r=he.isFunction(e[i[4]])&&e[i[4]];o[i[1]](function(){var e=r&&r.apply(this,arguments);e&&he.isFunction(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[i[0]+"With"](this,r?[e]:arguments)})}),e=null}).promise()},then:function(t,i,r){function o(t,n,i,r){return function(){var u=this,c=arguments,d=function(){var e,d;if(!(t<a)){if((e=i.apply(u,c))===n.promise())throw new TypeError("Thenable self-resolution");d=e&&("object"==typeof e||"function"==typeof e)&&e.then,he.isFunction(d)?r?d.call(e,o(a,n,s,r),o(a,n,l,r)):(a++,d.call(e,o(a,n,s,r),o(a,n,l,r),o(a,n,s,n.notifyWith))):(i!==s&&(u=void 0,c=[e]),(r||n.resolveWith)(u,c))}},f=r?d:function(){try{d()}catch(e){he.Deferred.exceptionHook&&he.Deferred.exceptionHook(e,f.stackTrace),t+1>=a&&(i!==l&&(u=void 0,c=[e]),n.rejectWith(u,c))}};t?f():(he.Deferred.getStackHook&&(f.stackTrace=he.Deferred.getStackHook()),e.setTimeout(f))}}var a=0;return he.Deferred(function(e){n[0][3].add(o(0,e,he.isFunction(r)?r:s,e.notifyWith)),n[1][3].add(o(0,e,he.isFunction(t)?t:s)),n[2][3].add(o(0,e,he.isFunction(i)?i:l))}).promise()},promise:function(e){return null!=e?he.extend(e,r):r}},o={};return he.each(n,function(e,t){var a=t[2],s=t[5];r[t[1]]=a.add,s&&a.add(function(){i=s},n[3-e][2].disable,n[0][2].lock),a.add(t[3].fire),o[t[0]]=function(){return o[t[0]+"With"](this===o?void 0:this,arguments),this},o[t[0]+"With"]=a.fireWith}),r.promise(o),t&&t.call(o,o),o},when:function(e){var t=arguments.length,n=t,i=Array(n),r=ne.call(arguments),o=he.Deferred(),a=function(e){return function(n){i[e]=this,r[e]=arguments.length>1?ne.call(arguments):n,--t||o.resolveWith(i,r)}};if(t<=1&&(u(e,o.done(a(n)).resolve,o.reject),"pending"===o.state()||he.isFunction(r[n]&&r[n].then)))return o.then();for(;n--;)u(r[n],a(n),o.reject);return o.promise()}});var Pe=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;he.Deferred.exceptionHook=function(t,n){e.console&&e.console.warn&&t&&Pe.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,n)},he.readyException=function(t){e.setTimeout(function(){throw t})};var De=he.Deferred();he.fn.ready=function(e){return De.then(e).catch(function(e){he.readyException(e)}),this},he.extend({isReady:!1,readyWait:1,holdReady:function(e){e?he.readyWait++:he.ready(!0)},ready:function(e){(!0===e?--he.readyWait:he.isReady)||(he.isReady=!0,!0!==e&&--he.readyWait>0||De.resolveWith(ee,[he]))}}),he.ready.then=De.then,"complete"===ee.readyState||"loading"!==ee.readyState&&!ee.documentElement.doScroll?e.setTimeout(he.ready):(ee.addEventListener("DOMContentLoaded",c),e.addEventListener("load",c));var Ee=function(e,t,n,i,r,o,a){var s=0,l=e.length,u=null==n;if("object"===he.type(n)){r=!0;for(s in n)Ee(e,t,s,n[s],!0,o,a)}else if(void 0!==i&&(r=!0,he.isFunction(i)||(a=!0),u&&(a?(t.call(e,i),t=null):(u=t,t=function(e,t,n){return u.call(he(e),n)})),t))for(;s<l;s++)t(e[s],n,a?i:i.call(e[s],s,t(e[s],n)));return r?e:u?t.call(e):l?t(e[0],n):o},Re=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};d.uid=1,d.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Re(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var i,r=this.cache(e);if("string"==typeof t)r[he.camelCase(t)]=n;else for(i in t)r[he.camelCase(i)]=t[i];return r},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][he.camelCase(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i=e[this.expando];if(void 0!==i){if(void 0!==t){he.isArray(t)?t=t.map(he.camelCase):(t=he.camelCase(t),t=t in i?[t]:t.match(Ae)||[]),n=t.length;for(;n--;)delete i[t[n]]}(void 0===t||he.isEmptyObject(i))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!he.isEmptyObject(t)}};var Ie=new d,Fe=new d,Le=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ne=/[A-Z]/g;he.extend({hasData:function(e){return Fe.hasData(e)||Ie.hasData(e)},data:function(e,t,n){return Fe.access(e,t,n)},removeData:function(e,t){Fe.remove(e,t)},_data:function(e,t,n){return Ie.access(e,t,n)},_removeData:function(e,t){Ie.remove(e,t)}}),he.fn.extend({data:function(e,t){var n,i,r,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(r=Fe.get(o),1===o.nodeType&&!Ie.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&0===(i=a[n].name).indexOf("data-")&&(i=he.camelCase(i.slice(5)),h(o,i,r[i]));Ie.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof e?this.each(function(){Fe.set(this,e)}):Ee(this,function(t){var n;if(o&&void 0===t){if(void 0!==(n=Fe.get(o,e)))return n;if(void 0!==(n=h(o,e)))return n}else this.each(function(){Fe.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){Fe.remove(this,e)})}}),he.extend({queue:function(e,t,n){var i;if(e)return t=(t||"fx")+"queue",i=Ie.get(e,t),n&&(!i||he.isArray(n)?i=Ie.access(e,t,he.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){t=t||"fx";var n=he.queue(e,t),i=n.length,r=n.shift(),o=he._queueHooks(e,t);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete o.stop,r.call(e,function(){he.dequeue(e,t)},o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Ie.get(e,n)||Ie.access(e,n,{empty:he.Callbacks("once memory").add(function(){Ie.remove(e,[t+"queue",n])})})}}),he.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?he.queue(this[0],e):void 0===t?this:this.each(function(){var n=he.queue(this,e,t);he._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&he.dequeue(this,e)})},dequeue:function(e){return this.each(function(){he.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,r=he.Deferred(),o=this,a=this.length,s=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=Ie.get(o[a],e+"queueHooks"))&&n.empty&&(i++,n.empty.add(s));return s(),r.promise(t)}});var Oe=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,je=new RegExp("^(?:([+-])=|)("+Oe+")([a-z%]*)$","i"),ze=["Top","Right","Bottom","Left"],qe=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&he.contains(e.ownerDocument,e)&&"none"===he.css(e,"display")},He=function(e,t,n,i){var r,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];r=n.apply(e,i||[]);for(o in t)e.style[o]=a[o];return r},Be={};he.fn.extend({show:function(){return v(this,!0)},hide:function(){return v(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){qe(this)?he(this).show():he(this).hide()})}});var Ve=/^(?:checkbox|radio)$/i,We=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,Ue=/^$|\/(?:java|ecma)script/i,Ge={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ge.optgroup=Ge.option,Ge.tbody=Ge.tfoot=Ge.colgroup=Ge.caption=Ge.thead,Ge.th=Ge.td;var Ye=/<|&#?\w+;/;!function(){var e=ee.createDocumentFragment().appendChild(ee.createElement("div")),t=ee.createElement("input");t.setAttribute("type","radio"),t.setAttribute("checked","checked"),t.setAttribute("name","t"),e.appendChild(t),de.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",de.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var Xe=ee.documentElement,$e=/^key/,Je=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Qe=/^([^.]*)(?:\.(.+)|)/;he.event={global:{},add:function(e,t,n,i,r){var o,a,s,l,u,c,d,f,h,p,g,v=Ie.get(e);if(v)for(n.handler&&(o=n,n=o.handler,r=o.selector),r&&he.find.matchesSelector(Xe,r),n.guid||(n.guid=he.guid++),(l=v.events)||(l=v.events={}),(a=v.handle)||(a=v.handle=function(t){return void 0!==he&&he.event.triggered!==t.type?he.event.dispatch.apply(e,arguments):void 0}),u=(t=(t||"").match(Ae)||[""]).length;u--;)s=Qe.exec(t[u])||[],h=g=s[1],p=(s[2]||"").split(".").sort(),h&&(d=he.event.special[h]||{},h=(r?d.delegateType:d.bindType)||h,d=he.event.special[h]||{},c=he.extend({type:h,origType:g,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&he.expr.match.needsContext.test(r),namespace:p.join(".")},o),(f=l[h])||(f=l[h]=[],f.delegateCount=0,d.setup&&!1!==d.setup.call(e,i,p,a)||e.addEventListener&&e.addEventListener(h,a)),d.add&&(d.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),r?f.splice(f.delegateCount++,0,c):f.push(c),he.event.global[h]=!0)},remove:function(e,t,n,i,r){var o,a,s,l,u,c,d,f,h,p,g,v=Ie.hasData(e)&&Ie.get(e);if(v&&(l=v.events)){for(u=(t=(t||"").match(Ae)||[""]).length;u--;)if(s=Qe.exec(t[u])||[],h=g=s[1],p=(s[2]||"").split(".").sort(),h){for(d=he.event.special[h]||{},f=l[h=(i?d.delegateType:d.bindType)||h]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=f.length;o--;)c=f[o],!r&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(f.splice(o,1),c.selector&&f.delegateCount--,d.remove&&d.remove.call(e,c));a&&!f.length&&(d.teardown&&!1!==d.teardown.call(e,p,v.handle)||he.removeEvent(e,h,v.handle),delete l[h])}else for(h in l)he.event.remove(e,h+t[u],n,i,!0);he.isEmptyObject(l)&&Ie.remove(e,"handle events")}},dispatch:function(e){var t,n,i,r,o,a,s=he.event.fix(e),l=new Array(arguments.length),u=(Ie.get(this,"events")||{})[s.type]||[],c=he.event.special[s.type]||{};for(l[0]=s,t=1;t<arguments.length;t++)l[t]=arguments[t];if(s.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,s)){for(a=he.event.handlers.call(this,s,u),t=0;(r=a[t++])&&!s.isPropagationStopped();)for(s.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!s.rnamespace.test(o.namespace)||(s.handleObj=o,s.data=o.data,void 0!==(i=((he.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,l))&&!1===(s.result=i)&&(s.preventDefault(),s.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,s),s.result}},handlers:function(e,t){var n,i,r,o,a,s=[],l=t.delegateCount,u=e.target;if(l&&u.nodeType&&!("click"===e.type&&e.button>=1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==e.type||!0!==u.disabled)){for(o=[],a={},n=0;n<l;n++)i=t[n],r=i.selector+" ",void 0===a[r]&&(a[r]=i.needsContext?he(r,this).index(u)>-1:he.find(r,this,null,[u]).length),a[r]&&o.push(i);o.length&&s.push({elem:u,handlers:o})}return u=this,l<t.length&&s.push({elem:u,handlers:t.slice(l)}),s},addProp:function(e,t){Object.defineProperty(he.Event.prototype,e,{enumerable:!0,configurable:!0,get:he.isFunction(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[he.expando]?e:new he.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==C()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===C()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&he.nodeName(this,"input"))return this.click(),!1},_default:function(e){return he.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},he.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},he.Event=function(e,t){return this instanceof he.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?x:w,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&he.extend(this,t),this.timeStamp=e&&e.timeStamp||he.now(),void(this[he.expando]=!0)):new he.Event(e,t)},he.Event.prototype={constructor:he.Event,isDefaultPrevented:w,isPropagationStopped:w,isImmediatePropagationStopped:w,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=x,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=x,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=x,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},he.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&$e.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&Je.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},he.event.addProp),he.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){he.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,r=e.relatedTarget,o=e.handleObj;return r&&(r===i||he.contains(i,r))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),he.fn.extend({on:function(e,t,n,i){return S(this,e,t,n,i)},one:function(e,t,n,i){return S(this,e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,he(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=w),this.each(function(){he.event.remove(this,e,n,t)})}});var Ze=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Ke=/<script|<style|<link/i,et=/checked\s*(?:[^=]|=\s*.checked.)/i,tt=/^true\/(.*)/,nt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;he.extend({htmlPrefilter:function(e){return e.replace(Ze,"<$1></$2>")},clone:function(e,t,n){var i,r,o,a,s=e.cloneNode(!0),l=he.contains(e.ownerDocument,e);if(!(de.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||he.isXMLDoc(e)))for(a=m(s),o=m(e),i=0,r=o.length;i<r;i++)A(o[i],a[i]);if(t)if(n)for(o=o||m(e),a=a||m(s),i=0,r=o.length;i<r;i++)M(o[i],a[i]);else M(e,s);return(a=m(s,"script")).length>0&&b(a,!l&&m(e,"script")),s},cleanData:function(e){for(var t,n,i,r=he.event.special,o=0;void 0!==(n=e[o]);o++)if(Re(n)){if(t=n[Ie.expando]){if(t.events)for(i in t.events)r[i]?he.event.remove(n,i):he.removeEvent(n,i,t.handle);n[Ie.expando]=void 0}n[Fe.expando]&&(n[Fe.expando]=void 0)}}}),he.fn.extend({detach:function(e){return D(this,e,!0)},remove:function(e){return D(this,e)},text:function(e){return Ee(this,function(e){return void 0===e?he.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return P(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||_(this,e).appendChild(e)})},prepend:function(){return P(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=_(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return P(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return P(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(he.cleanData(m(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return he.clone(this,e,t)})},html:function(e){return Ee(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Ke.test(e)&&!Ge[(We.exec(e)||["",""])[1].toLowerCase()]){e=he.htmlPrefilter(e);try{for(;n<i;n++)1===(t=this[n]||{}).nodeType&&(he.cleanData(m(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return P(this,arguments,function(t){var n=this.parentNode;he.inArray(this,e)<0&&(he.cleanData(m(this)),n&&n.replaceChild(t,this))},e)}}),he.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){he.fn[e]=function(e){for(var n,i=[],r=he(e),o=r.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),he(r[a])[t](n),re.apply(i,n.get());return this.pushStack(i)}});var it=/^margin/,rt=new RegExp("^("+Oe+")(?!px)[a-z%]+$","i"),ot=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)};!function(){function t(){if(s){s.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",s.innerHTML="",Xe.appendChild(a);var t=e.getComputedStyle(s);n="1%"!==t.top,o="2px"===t.marginLeft,i="4px"===t.width,s.style.marginRight="50%",r="4px"===t.marginRight,Xe.removeChild(a),s=null}}var n,i,r,o,a=ee.createElement("div"),s=ee.createElement("div");s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",de.clearCloneStyle="content-box"===s.style.backgroundClip,a.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",a.appendChild(s),he.extend(de,{pixelPosition:function(){return t(),n},boxSizingReliable:function(){return t(),i},pixelMarginRight:function(){return t(),r},reliableMarginLeft:function(){return t(),o}}))}();var at=/^(none|table(?!-c[ea]).+)/,st={position:"absolute",visibility:"hidden",display:"block"},lt={letterSpacing:"0",fontWeight:"400"},ut=["Webkit","Moz","ms"],ct=ee.createElement("div").style;he.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=E(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,o,a,s=he.camelCase(t),l=e.style;return t=he.cssProps[s]||(he.cssProps[s]=I(s)||s),a=he.cssHooks[t]||he.cssHooks[s],void 0===n?a&&"get"in a&&void 0!==(r=a.get(e,!1,i))?r:l[t]:("string"===(o=typeof n)&&(r=je.exec(n))&&r[1]&&(n=p(e,t,r),o="number"),void(null!=n&&n===n&&("number"===o&&(n+=r&&r[3]||(he.cssNumber[s]?"":"px")),de.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,i))||(l[t]=n))))}},css:function(e,t,n,i){var r,o,a,s=he.camelCase(t);return t=he.cssProps[s]||(he.cssProps[s]=I(s)||s),(a=he.cssHooks[t]||he.cssHooks[s])&&"get"in a&&(r=a.get(e,!0,n)),void 0===r&&(r=E(e,t,i)),"normal"===r&&t in lt&&(r=lt[t]),""===n||n?(o=parseFloat(r),!0===n||isFinite(o)?o||0:r):r}}),he.each(["height","width"],function(e,t){he.cssHooks[t]={get:function(e,n,i){if(n)return!at.test(he.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?N(e,t,i):He(e,st,function(){return N(e,t,i)})},set:function(e,n,i){var r,o=i&&ot(e),a=i&&L(e,t,i,"border-box"===he.css(e,"boxSizing",!1,o),o);return a&&(r=je.exec(n))&&"px"!==(r[3]||"px")&&(e.style[t]=n,n=he.css(e,t)),F(0,n,a)}}}),he.cssHooks.marginLeft=R(de.reliableMarginLeft,function(e,t){if(t)return(parseFloat(E(e,"marginLeft"))||e.getBoundingClientRect().left-He(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),he.each({margin:"",padding:"",border:"Width"},function(e,t){he.cssHooks[e+t]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];i<4;i++)r[e+ze[i]+t]=o[i]||o[i-2]||o[0];return r}},it.test(e)||(he.cssHooks[e+t].set=F)}),he.fn.extend({css:function(e,t){return Ee(this,function(e,t,n){var i,r,o={},a=0;if(he.isArray(t)){for(i=ot(e),r=t.length;a<r;a++)o[t[a]]=he.css(e,t[a],!1,i);return o}return void 0!==n?he.style(e,t,n):he.css(e,t)},e,t,arguments.length>1)}}),he.Tween=O,O.prototype={constructor:O,init:function(e,t,n,i,r,o){this.elem=e,this.prop=n,this.easing=r||he.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(he.cssNumber[n]?"":"px")},cur:function(){var e=O.propHooks[this.prop];return e&&e.get?e.get(this):O.propHooks._default.get(this)},run:function(e){var t,n=O.propHooks[this.prop];return this.options.duration?this.pos=t=he.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):O.propHooks._default.set(this),this}},O.prototype.init.prototype=O.prototype,O.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=he.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){he.fx.step[e.prop]?he.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[he.cssProps[e.prop]]&&!he.cssHooks[e.prop]?e.elem[e.prop]=e.now:he.style(e.elem,e.prop,e.now+e.unit)}}},O.propHooks.scrollTop=O.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},he.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},he.fx=O.prototype.init,he.fx.step={};var dt,ft,ht=/^(?:toggle|show|hide)$/,pt=/queueHooks$/;he.Animation=he.extend(V,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return p(n.elem,e,je.exec(t),n),n}]},tweener:function(e,t){he.isFunction(e)?(t=e,e=["*"]):e=e.match(Ae);for(var n,i=0,r=e.length;i<r;i++)n=e[i],V.tweeners[n]=V.tweeners[n]||[],V.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var i,r,o,a,s,l,u,c,d="width"in t||"height"in t,f=this,h={},p=e.style,g=e.nodeType&&qe(e),m=Ie.get(e,"fxshow");n.queue||(null==(a=he._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,f.always(function(){f.always(function(){a.unqueued--,he.queue(e,"fx").length||a.empty.fire()})}));for(i in t)if(r=t[i],ht.test(r)){if(delete t[i],o=o||"toggle"===r,r===(g?"hide":"show")){if("show"!==r||!m||void 0===m[i])continue;g=!0}h[i]=m&&m[i]||he.style(e,i)}if((l=!he.isEmptyObject(t))||!he.isEmptyObject(h)){d&&1===e.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],null==(u=m&&m.display)&&(u=Ie.get(e,"display")),"none"===(c=he.css(e,"display"))&&(u?c=u:(v([e],!0),u=e.style.display||u,c=he.css(e,"display"),v([e]))),("inline"===c||"inline-block"===c&&null!=u)&&"none"===he.css(e,"float")&&(l||(f.done(function(){p.display=u}),null==u&&(c=p.display,u="none"===c?"":c)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",f.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]})),l=!1;for(i in h)l||(m?"hidden"in m&&(g=m.hidden):m=Ie.access(e,"fxshow",{display:u}),o&&(m.hidden=!g),g&&v([e],!0),f.done(function(){g||v([e]),Ie.remove(e,"fxshow");for(i in h)he.style(e,i,h[i])})),l=H(g?m[i]:0,i,f),i in m||(m[i]=l.start,g&&(l.end=l.start,l.start=0))}}],prefilter:function(e,t){t?V.prefilters.unshift(e):V.prefilters.push(e)}}),he.speed=function(e,t,n){var i=e&&"object"==typeof e?he.extend({},e):{complete:n||!n&&t||he.isFunction(e)&&e,duration:e,easing:n&&t||t&&!he.isFunction(t)&&t};return he.fx.off||ee.hidden?i.duration=0:"number"!=typeof i.duration&&(i.duration in he.fx.speeds?i.duration=he.fx.speeds[i.duration]:i.duration=he.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){he.isFunction(i.old)&&i.old.call(this),i.queue&&he.dequeue(this,i.queue)},i},he.fn.extend({fadeTo:function(e,t,n,i){return this.filter(qe).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=he.isEmptyObject(e),o=he.speed(t,n,i),a=function(){var t=V(this,he.extend({},e),o);(r||Ie.get(this,"finish"))&&t.stop(!0)};return a.finish=a,r||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,r=null!=e&&e+"queueHooks",o=he.timers,a=Ie.get(this);if(r)a[r]&&a[r].stop&&i(a[r]);else for(r in a)a[r]&&a[r].stop&&pt.test(r)&&i(a[r]);for(r=o.length;r--;)o[r].elem!==this||null!=e&&o[r].queue!==e||(o[r].anim.stop(n),t=!1,o.splice(r,1));!t&&n||he.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=Ie.get(this),i=n[e+"queue"],r=n[e+"queueHooks"],o=he.timers,a=i?i.length:0;for(n.finish=!0,he.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),he.each(["toggle","show","hide"],function(e,t){var n=he.fn[t];he.fn[t]=function(e,i,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(q(t,!0),e,i,r)}}),he.each({slideDown:q("show"),slideUp:q("hide"),slideToggle:q("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){he.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),he.timers=[],he.fx.tick=function(){var e,t=0,n=he.timers;for(dt=he.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||he.fx.stop(),dt=void 0},he.fx.timer=function(e){he.timers.push(e),e()?he.fx.start():he.timers.pop()},he.fx.interval=13,he.fx.start=function(){ft||(ft=e.requestAnimationFrame?e.requestAnimationFrame(j):e.setInterval(he.fx.tick,he.fx.interval))},he.fx.stop=function(){e.cancelAnimationFrame?e.cancelAnimationFrame(ft):e.clearInterval(ft),ft=null},he.fx.speeds={slow:600,fast:200,_default:400},he.fn.delay=function(t,n){return t=he.fx?he.fx.speeds[t]||t:t,n=n||"fx",this.queue(n,function(n,i){var r=e.setTimeout(n,t);i.stop=function(){e.clearTimeout(r)}})},function(){var e=ee.createElement("input"),t=ee.createElement("select").appendChild(ee.createElement("option"));e.type="checkbox",de.checkOn=""!==e.value,de.optSelected=t.selected,(e=ee.createElement("input")).value="t",e.type="radio",de.radioValue="t"===e.value}();var gt,vt=he.expr.attrHandle;he.fn.extend({attr:function(e,t){return Ee(this,he.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){he.removeAttr(this,e)})}}),he.extend({attr:function(e,t,n){var i,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?he.prop(e,t,n):(1===o&&he.isXMLDoc(e)||(r=he.attrHooks[t.toLowerCase()]||(he.expr.match.bool.test(t)?gt:void 0)),void 0!==n?null===n?void he.removeAttr(e,t):r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):r&&"get"in r&&null!==(i=r.get(e,t))?i:null==(i=he.find.attr(e,t))?void 0:i)},attrHooks:{type:{set:function(e,t){if(!de.radioValue&&"radio"===t&&he.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,i=0,r=t&&t.match(Ae);if(r&&1===e.nodeType)for(;n=r[i++];)e.removeAttribute(n)}}),gt={set:function(e,t,n){return!1===t?he.removeAttr(e,n):e.setAttribute(n,n),n}},he.each(he.expr.match.bool.source.match(/\w+/g),function(e,t){var n=vt[t]||he.find.attr;vt[t]=function(e,t,i){var r,o,a=t.toLowerCase();return i||(o=vt[a],vt[a]=r,r=null!=n(e,t,i)?a:null,vt[a]=o),r}});var mt=/^(?:input|select|textarea|button)$/i,bt=/^(?:a|area)$/i;he.fn.extend({prop:function(e,t){return Ee(this,he.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[he.propFix[e]||e]})}}),he.extend({prop:function(e,t,n){var i,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&he.isXMLDoc(e)||(t=he.propFix[t]||t,r=he.propHooks[t]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=he.find.attr(e,"tabindex");return t?parseInt(t,10):mt.test(e.nodeName)||bt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),de.optSelected||(he.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),he.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){he.propFix[this.toLowerCase()]=this}),he.fn.extend({addClass:function(e){var t,n,i,r,o,a,s,l=0;if(he.isFunction(e))return this.each(function(t){he(this).addClass(e.call(this,t,U(this)))});if("string"==typeof e&&e)for(t=e.match(Ae)||[];n=this[l++];)if(r=U(n),i=1===n.nodeType&&" "+W(r)+" "){for(a=0;o=t[a++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");r!==(s=W(i))&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,i,r,o,a,s,l=0;if(he.isFunction(e))return this.each(function(t){he(this).removeClass(e.call(this,t,U(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(Ae)||[];n=this[l++];)if(r=U(n),i=1===n.nodeType&&" "+W(r)+" "){for(a=0;o=t[a++];)for(;i.indexOf(" "+o+" ")>-1;)i=i.replace(" "+o+" "," ");r!==(s=W(i))&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):he.isFunction(e)?this.each(function(n){he(this).toggleClass(e.call(this,n,U(this),t),t)}):this.each(function(){var t,i,r,o;if("string"===n)for(i=0,r=he(this),o=e.match(Ae)||[];t=o[i++];)r.hasClass(t)?r.removeClass(t):r.addClass(t);else void 0!==e&&"boolean"!==n||((t=U(this))&&Ie.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":Ie.get(this,"__className__")||""))})},hasClass:function(e){var t,n,i=0;for(t=" "+e+" ";n=this[i++];)if(1===n.nodeType&&(" "+W(U(n))+" ").indexOf(t)>-1)return!0;return!1}});var yt=/\r/g;he.fn.extend({val:function(e){var t,n,i,r=this[0];return arguments.length?(i=he.isFunction(e),this.each(function(n){var r;1===this.nodeType&&(null==(r=i?e.call(this,n,he(this).val()):e)?r="":"number"==typeof r?r+="":he.isArray(r)&&(r=he.map(r,function(e){return null==e?"":e+""})),(t=he.valHooks[this.type]||he.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))})):r?(t=he.valHooks[r.type]||he.valHooks[r.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(r,"value"))?n:"string"==typeof(n=r.value)?n.replace(yt,""):null==n?"":n:void 0}}),he.extend({valHooks:{option:{get:function(e){var t=he.find.attr(e,"value");return null!=t?t:W(he.text(e))}},select:{get:function(e){var t,n,i,r=e.options,o=e.selectedIndex,a="select-one"===e.type,s=a?null:[],l=a?o+1:r.length;for(i=o<0?l:a?o:0;i<l;i++)if(((n=r[i]).selected||i===o)&&!n.disabled&&(!n.parentNode.disabled||!he.nodeName(n.parentNode,"optgroup"))){if(t=he(n).val(),a)return t;s.push(t)}return s},set:function(e,t){for(var n,i,r=e.options,o=he.makeArray(t),a=r.length;a--;)i=r[a],(i.selected=he.inArray(he.valHooks.option.get(i),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),he.each(["radio","checkbox"],function(){he.valHooks[this]={set:function(e,t){if(he.isArray(t))return e.checked=he.inArray(he(e).val(),t)>-1}},de.checkOn||(he.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var xt=/^(?:focusinfocus|focusoutblur)$/;he.extend(he.event,{trigger:function(t,n,i,r){var o,a,s,l,u,c,d,f=[i||ee],h=le.call(t,"type")?t.type:t,p=le.call(t,"namespace")?t.namespace.split("."):[];if(a=s=i=i||ee,3!==i.nodeType&&8!==i.nodeType&&!xt.test(h+he.event.triggered)&&(h.indexOf(".")>-1&&(p=h.split("."),h=p.shift(),p.sort()),u=h.indexOf(":")<0&&"on"+h,t=t[he.expando]?t:new he.Event(h,"object"==typeof t&&t),t.isTrigger=r?2:3,t.namespace=p.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),n=null==n?[t]:he.makeArray(n,[t]),d=he.event.special[h]||{},r||!d.trigger||!1!==d.trigger.apply(i,n))){if(!r&&!d.noBubble&&!he.isWindow(i)){for(l=d.delegateType||h,xt.test(l+h)||(a=a.parentNode);a;a=a.parentNode)f.push(a),s=a;s===(i.ownerDocument||ee)&&f.push(s.defaultView||s.parentWindow||e)}for(o=0;(a=f[o++])&&!t.isPropagationStopped();)t.type=o>1?l:d.bindType||h,(c=(Ie.get(a,"events")||{})[t.type]&&Ie.get(a,"handle"))&&c.apply(a,n),(c=u&&a[u])&&c.apply&&Re(a)&&(t.result=c.apply(a,n),!1===t.result&&t.preventDefault());return t.type=h,r||t.isDefaultPrevented()||d._default&&!1!==d._default.apply(f.pop(),n)||!Re(i)||u&&he.isFunction(i[h])&&!he.isWindow(i)&&((s=i[u])&&(i[u]=null),he.event.triggered=h,i[h](),he.event.triggered=void 0,s&&(i[u]=s)),t.result}},simulate:function(e,t,n){var i=he.extend(new he.Event,n,{type:e,isSimulated:!0});he.event.trigger(i,null,t)}}),he.fn.extend({trigger:function(e,t){return this.each(function(){he.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return he.event.trigger(e,t,n,!0)}}),he.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){he.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),he.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),de.focusin="onfocusin"in e,de.focusin||he.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){he.event.simulate(t,e.target,he.event.fix(e))};he.event.special[t]={setup:function(){var i=this.ownerDocument||this,r=Ie.access(i,t);r||i.addEventListener(e,n,!0),Ie.access(i,t,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=Ie.access(i,t)-1;r?Ie.access(i,t,r):(i.removeEventListener(e,n,!0),Ie.remove(i,t))}}});var wt=e.location,Ct=he.now(),St=/\?/;he.parseXML=function(t){var n;if(!t||"string"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(e){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||he.error("Invalid XML: "+t),n};var _t=/\[\]$/,kt=/\r?\n/g,Tt=/^(?:submit|button|image|reset|file)$/i,Mt=/^(?:input|select|textarea|keygen)/i;he.param=function(e,t){var n,i=[],r=function(e,t){var n=he.isFunction(t)?t():t;i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(he.isArray(e)||e.jquery&&!he.isPlainObject(e))he.each(e,function(){r(this.name,this.value)});else for(n in e)G(n,e[n],t,r);return i.join("&")},he.fn.extend({serialize:function(){return he.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=he.prop(this,"elements");return e?he.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!he(this).is(":disabled")&&Mt.test(this.nodeName)&&!Tt.test(e)&&(this.checked||!Ve.test(e))}).map(function(e,t){var n=he(this).val();return null==n?null:he.isArray(n)?he.map(n,function(e){return{name:t.name,value:e.replace(kt,"\r\n")}}):{name:t.name,value:n.replace(kt,"\r\n")}}).get()}});var At=/%20/g,Pt=/#.*$/,Dt=/([?&])_=[^&]*/,Et=/^(.*?):[ \t]*([^\r\n]*)$/gm,Rt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,It=/^(?:GET|HEAD)$/,Ft=/^\/\//,Lt={},Nt={},Ot="*/".concat("*"),jt=ee.createElement("a");jt.href=wt.href,he.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:wt.href,type:"GET",isLocal:Rt.test(wt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ot,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":he.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?$($(e,he.ajaxSettings),t):$(he.ajaxSettings,e)},ajaxPrefilter:Y(Lt),ajaxTransport:Y(Nt),ajax:function(t,n){function i(t,n,i,s){var u,f,h,x,w,C=n;c||(c=!0,l&&e.clearTimeout(l),r=void 0,a=s||"",S.readyState=t>0?4:0,u=t>=200&&t<300||304===t,i&&(x=J(p,S,i)),x=Q(p,x,S,u),u?(p.ifModified&&((w=S.getResponseHeader("Last-Modified"))&&(he.lastModified[o]=w),(w=S.getResponseHeader("etag"))&&(he.etag[o]=w)),204===t||"HEAD"===p.type?C="nocontent":304===t?C="notmodified":(C=x.state,f=x.data,h=x.error,u=!h)):(h=C,!t&&C||(C="error",t<0&&(t=0))),S.status=t,S.statusText=(n||C)+"",u?m.resolveWith(g,[f,C,S]):m.rejectWith(g,[S,C,h]),S.statusCode(y),y=void 0,d&&v.trigger(u?"ajaxSuccess":"ajaxError",[S,p,u?f:h]),b.fireWith(g,[S,C]),d&&(v.trigger("ajaxComplete",[S,p]),--he.active||he.event.trigger("ajaxStop")))}"object"==typeof t&&(n=t,t=void 0),n=n||{};var r,o,a,s,l,u,c,d,f,h,p=he.ajaxSetup({},n),g=p.context||p,v=p.context&&(g.nodeType||g.jquery)?he(g):he.event,m=he.Deferred(),b=he.Callbacks("once memory"),y=p.statusCode||{},x={},w={},C="canceled",S={readyState:0,getResponseHeader:function(e){var t;if(c){if(!s)for(s={};t=Et.exec(a);)s[t[1].toLowerCase()]=t[2];t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return c?a:null},setRequestHeader:function(e,t){return null==c&&(e=w[e.toLowerCase()]=w[e.toLowerCase()]||e,x[e]=t),this},overrideMimeType:function(e){return null==c&&(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)S.always(e[S.status]);else for(t in e)y[t]=[y[t],e[t]];return this},abort:function(e){var t=e||C;return r&&r.abort(t),i(0,t),this}};if(m.promise(S),p.url=((t||p.url||wt.href)+"").replace(Ft,wt.protocol+"//"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(Ae)||[""],null==p.crossDomain){u=ee.createElement("a");try{u.href=p.url,u.href=u.href,p.crossDomain=jt.protocol+"//"+jt.host!=u.protocol+"//"+u.host}catch(e){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=he.param(p.data,p.traditional)),X(Lt,p,n,S),c)return S;(d=he.event&&p.global)&&0==he.active++&&he.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!It.test(p.type),o=p.url.replace(Pt,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(At,"+")):(h=p.url.slice(o.length),p.data&&(o+=(St.test(o)?"&":"?")+p.data,delete p.data),!1===p.cache&&(o=o.replace(Dt,"$1"),h=(St.test(o)?"&":"?")+"_="+Ct+++h),p.url=o+h),p.ifModified&&(he.lastModified[o]&&S.setRequestHeader("If-Modified-Since",he.lastModified[o]),he.etag[o]&&S.setRequestHeader("If-None-Match",he.etag[o])),(p.data&&p.hasContent&&!1!==p.contentType||n.contentType)&&S.setRequestHeader("Content-Type",p.contentType),S.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Ot+"; q=0.01":""):p.accepts["*"]);for(f in p.headers)S.setRequestHeader(f,p.headers[f]);if(p.beforeSend&&(!1===p.beforeSend.call(g,S,p)||c))return S.abort();if(C="abort",b.add(p.complete),S.done(p.success),S.fail(p.error),r=X(Nt,p,n,S)){if(S.readyState=1,d&&v.trigger("ajaxSend",[S,p]),c)return S;p.async&&p.timeout>0&&(l=e.setTimeout(function(){S.abort("timeout")},p.timeout));try{c=!1,r.send(x,i)}catch(e){if(c)throw e;i(-1,e)}}else i(-1,"No Transport");return S},getJSON:function(e,t,n){return he.get(e,t,n,"json")},getScript:function(e,t){return he.get(e,void 0,t,"script")}}),he.each(["get","post"],function(e,t){he[t]=function(e,n,i,r){return he.isFunction(n)&&(r=r||i,i=n,n=void 0),he.ajax(he.extend({url:e,type:t,dataType:r,data:n,success:i},he.isPlainObject(e)&&e))}}),he._evalUrl=function(e){return he.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},he.fn.extend({wrapAll:function(e){var t;return this[0]&&(he.isFunction(e)&&(e=e.call(this[0])),t=he(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return he.isFunction(e)?this.each(function(t){he(this).wrapInner(e.call(this,t))}):this.each(function(){var t=he(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=he.isFunction(e);return this.each(function(n){he(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){he(this).replaceWith(this.childNodes)}),this}}),he.expr.pseudos.hidden=function(e){return!he.expr.pseudos.visible(e)},he.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},he.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var zt={0:200,1223:204},qt=he.ajaxSettings.xhr();de.cors=!!qt&&"withCredentials"in qt,de.ajax=qt=!!qt,he.ajaxTransport(function(t){var n,i;if(de.cors||qt&&!t.crossDomain)return{send:function(r,o){var a,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a];t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");for(a in r)s.setRequestHeader(a,r[a]);n=function(e){return function(){n&&(n=i=s.onload=s.onerror=s.onabort=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(zt[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=n(),i=s.onerror=n("error"),void 0!==s.onabort?s.onabort=i:s.onreadystatechange=function(){4===s.readyState&&e.setTimeout(function(){n&&i()})},n=n("abort");try{s.send(t.hasContent&&t.data||null)}catch(e){if(n)throw e}},abort:function(){n&&n()}}}),he.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),he.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return he.globalEval(e),e}}}),he.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),he.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(i,r){t=he("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&r("error"===e.type?404:200,e.type)}),ee.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Ht=[],Bt=/(=)\?(?=&|$)|\?\?/;he.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Ht.pop()||he.expando+"_"+Ct++;return this[e]=!0,e}}),he.ajaxPrefilter("json jsonp",function(t,n,i){var r,o,a,s=!1!==t.jsonp&&(Bt.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Bt.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return r=t.jsonpCallback=he.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Bt,"$1"+r):!1!==t.jsonp&&(t.url+=(St.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return a||he.error(r+" was not called"),a[0]},t.dataTypes[0]="json",o=e[r],e[r]=function(){a=arguments},i.always(function(){void 0===o?he(e).removeProp(r):e[r]=o,t[r]&&(t.jsonpCallback=n.jsonpCallback,Ht.push(r)),a&&he.isFunction(o)&&o(a[0]),a=o=void 0}),"script"}),de.createHTMLDocument=function(){var e=ee.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),he.parseHTML=function(e,t,n){if("string"!=typeof e)return[];"boolean"==typeof t&&(n=t,t=!1);var i,r,o;return t||(de.createHTMLDocument?(t=ee.implementation.createHTMLDocument(""),i=t.createElement("base"),i.href=ee.location.href,t.head.appendChild(i)):t=ee),r=Ce.exec(e),o=!n&&[],r?[t.createElement(r[1])]:(r=y([e],t,o),o&&o.length&&he(o).remove(),he.merge([],r.childNodes))},he.fn.load=function(e,t,n){var i,r,o,a=this,s=e.indexOf(" ");return s>-1&&(i=W(e.slice(s)),e=e.slice(0,s)),he.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(r="POST"),a.length>0&&he.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(i?he("<div>").append(he.parseHTML(e)).find(i):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},he.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){he.fn[t]=function(e){return this.on(t,e)}}),he.expr.pseudos.animated=function(e){return he.grep(he.timers,function(t){return e===t.elem}).length},he.offset={setOffset:function(e,t,n){var i,r,o,a,s,l,u=he.css(e,"position"),c=he(e),d={};"static"===u&&(e.style.position="relative"),s=c.offset(),o=he.css(e,"top"),l=he.css(e,"left"),("absolute"===u||"fixed"===u)&&(o+l).indexOf("auto")>-1?(i=c.position(),a=i.top,r=i.left):(a=parseFloat(o)||0,r=parseFloat(l)||0),he.isFunction(t)&&(t=t.call(e,n,he.extend({},s))),null!=t.top&&(d.top=t.top-s.top+a),null!=t.left&&(d.left=t.left-s.left+r),"using"in t?t.using.call(e,d):c.css(d)}},he.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){he.offset.setOffset(this,e,t)});var t,n,i,r,o=this[0];return o?o.getClientRects().length?(i=o.getBoundingClientRect()).width||i.height?(r=o.ownerDocument,n=Z(r),t=r.documentElement,{top:i.top+n.pageYOffset-t.clientTop,left:i.left+n.pageXOffset-t.clientLeft}):i:{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n=this[0],i={top:0,left:0};return"fixed"===he.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),he.nodeName(e[0],"html")||(i=e.offset()),i={top:i.top+he.css(e[0],"borderTopWidth",!0),left:i.left+he.css(e[0],"borderLeftWidth",!0)}),{top:t.top-i.top-he.css(n,"marginTop",!0),left:t.left-i.left-he.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===he.css(e,"position");)e=e.offsetParent;return e||Xe})}}),he.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;he.fn[e]=function(i){return Ee(this,function(e,i,r){var o=Z(e);return void 0===r?o?o[t]:e[i]:void(o?o.scrollTo(n?o.pageXOffset:r,n?r:o.pageYOffset):e[i]=r)},e,i,arguments.length)}}),he.each(["top","left"],function(e,t){he.cssHooks[t]=R(de.pixelPosition,function(e,n){if(n)return n=E(e,t),rt.test(n)?he(e).position()[t]+"px":n})}),he.each({Height:"height",Width:"width"},function(e,t){he.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,i){he.fn[i]=function(r,o){var a=arguments.length&&(n||"boolean"!=typeof r),s=n||(!0===r||!0===o?"margin":"border");return Ee(this,function(t,n,r){var o;return he.isWindow(t)?0===i.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===r?he.css(t,n,s):he.style(t,n,r,s)},t,a?r:void 0,a)}})}),he.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),he.parseJSON=JSON.parse,"function"==typeof define&&define.amd&&define("jquery",[],function(){return he});var Vt=e.jQuery,Wt=e.$;return he.noConflict=function(t){return e.$===he&&(e.$=Wt),t&&e.jQuery===he&&(e.jQuery=Vt),he},t||(e.jQuery=e.$=he),he}),function(e){"function"==typeof define&&define.amd?define(["jquery"],function(t){return e(t,window,document)}):"object"==typeof exports?module.exports=function(t,n){return t||(t=window),n||(n="undefined"!=typeof window?require("jquery"):require("jquery")(t)),e(n,t,t.document)}:e(jQuery,window,document)}(function(e,t,n,i){function r(t){var n,i,o={};e.each(t,function(e){(n=e.match(/^([^A-Z]+?)([A-Z])/))&&-1!=="a aa ai ao as b fn i m o s ".indexOf(n[1]+" ")&&(i=e.replace(n[0],n[2].toLowerCase()),o[i]=e,"o"===n[1]&&r(t[e]))}),t._hungarianMap=o}function o(t,n,a){t._hungarianMap||r(t);var s;e.each(n,function(r){(s=t._hungarianMap[r])===i||!a&&n[s]!==i||("o"===s.charAt(0)?(n[s]||(n[s]={}),e.extend(!0,n[s],n[r]),o(t[s],n[s],a)):n[s]=n[r])})}function a(e){var t=Ge.defaults.oLanguage,n=e.sZeroRecords;!e.sEmptyTable&&n&&"No data available in table"===t.sEmptyTable&&Ee(e,e,"sZeroRecords","sEmptyTable"),!e.sLoadingRecords&&n&&"Loading..."===t.sLoadingRecords&&Ee(e,e,"sZeroRecords","sLoadingRecords"),e.sInfoThousands&&(e.sThousands=e.sInfoThousands),(e=e.sDecimal)&&qe(e)}function s(e){if(ut(e,"ordering","bSort"),ut(e,"orderMulti","bSortMulti"),ut(e,"orderClasses","bSortClasses"),ut(e,"orderCellsTop","bSortCellsTop"),ut(e,"order","aaSorting"),ut(e,"orderFixed","aaSortingFixed"),ut(e,"paging","bPaginate"),ut(e,"pagingType","sPaginationType"),ut(e,"pageLength","iDisplayLength"),ut(e,"searching","bFilter"),"boolean"==typeof e.sScrollX&&(e.sScrollX=e.sScrollX?"100%":""),"boolean"==typeof e.scrollX&&(e.scrollX=e.scrollX?"100%":""),e=e.aoSearchCols)for(var t=0,n=e.length;t<n;t++)e[t]&&o(Ge.models.oSearch,e[t])}function l(t){ut(t,"orderable","bSortable"),ut(t,"orderData","aDataSort"),ut(t,"orderSequence","asSorting"),ut(t,"orderDataType","sortDataType");var n=t.aDataSort;"number"==typeof n&&!e.isArray(n)&&(t.aDataSort=[n])}function u(n){if(!Ge.__browser){var i={};Ge.__browser=i;var r=e("<div/>").css({position:"fixed",top:0,left:-1*e(t).scrollLeft(),height:1,width:1,overflow:"hidden"}).append(e("<div/>").css({position:"absolute",top:1,left:1,width:100,overflow:"scroll"}).append(e("<div/>").css({width:"100%",height:10}))).appendTo("body"),o=r.children(),a=o.children();i.barWidth=o[0].offsetWidth-o[0].clientWidth,i.bScrollOversize=100===a[0].offsetWidth&&100!==o[0].clientWidth,i.bScrollbarLeft=1!==Math.round(a.offset().left),i.bBounding=!!r[0].getBoundingClientRect().width,r.remove()}e.extend(n.oBrowser,Ge.__browser),n.oScroll.iBarWidth=Ge.__browser.barWidth}function c(e,t,n,r,o,a){var s,l=!1;for(n!==i&&(s=n,l=!0);r!==o;)e.hasOwnProperty(r)&&(s=l?t(s,e[r],r,e):e[r],l=!0,r+=a);return s}function d(t,i){var r=Ge.defaults.column,o=t.aoColumns.length,r=e.extend({},Ge.models.oColumn,r,{nTh:i||n.createElement("th"),sTitle:r.sTitle?r.sTitle:i?i.innerHTML:"",aDataSort:r.aDataSort?r.aDataSort:[o],mData:r.mData?r.mData:o,idx:o});t.aoColumns.push(r),(r=t.aoPreSearchCols)[o]=e.extend({},Ge.models.oSearch,r[o]),f(t,o,e(i).data())}function f(t,n,r){var n=t.aoColumns[n],a=t.oClasses,s=e(n.nTh);if(!n.sWidthOrig){n.sWidthOrig=s.attr("width")||null;var u=(s.attr("style")||"").match(/width:\s*(\d+[pxem%]+)/);u&&(n.sWidthOrig=u[1])}r!==i&&null!==r&&(l(r),o(Ge.defaults.column,r),r.mDataProp!==i&&!r.mData&&(r.mData=r.mDataProp),r.sType&&(n._sManualType=r.sType),r.className&&!r.sClass&&(r.sClass=r.className),e.extend(n,r),Ee(n,r,"sWidth","sWidthOrig"),r.iDataSort!==i&&(n.aDataSort=[r.iDataSort]),Ee(n,r,"aDataSort"));var c=n.mData,d=k(c),f=n.mRender?k(n.mRender):null,r=function(e){return"string"==typeof e&&-1!==e.indexOf("@")};n._bAttrSrc=e.isPlainObject(c)&&(r(c.sort)||r(c.type)||r(c.filter)),n._setter=null,n.fnGetData=function(e,t,n){var r=d(e,t,i,n);return f&&t?f(r,t,e,n):r},n.fnSetData=function(e,t,n){return T(c)(e,t,n)},"number"!=typeof c&&(t._rowReadObject=!0),t.oFeatures.bSort||(n.bSortable=!1,s.addClass(a.sSortableNone)),t=-1!==e.inArray("asc",n.asSorting),r=-1!==e.inArray("desc",n.asSorting),n.bSortable&&(t||r)?t&&!r?(n.sSortingClass=a.sSortableAsc,n.sSortingClassJUI=a.sSortJUIAscAllowed):!t&&r?(n.sSortingClass=a.sSortableDesc,n.sSortingClassJUI=a.sSortJUIDescAllowed):(n.sSortingClass=a.sSortable,n.sSortingClassJUI=a.sSortJUI):(n.sSortingClass=a.sSortableNone,n.sSortingClassJUI="")}function h(e){if(!1!==e.oFeatures.bAutoWidth){var t=e.aoColumns;ge(e);for(var n=0,i=t.length;n<i;n++)t[n].nTh.style.width=t[n].sWidth}(""!==(t=e.oScroll).sY||""!==t.sX)&&he(e),Le(e,null,"column-sizing",[e])}function p(e,t){var n=m(e,"bVisible");return"number"==typeof n[t]?n[t]:null}function g(t,n){var i=m(t,"bVisible");return-1!==(i=e.inArray(n,i))?i:null}function v(t){var n=0;return e.each(t.aoColumns,function(t,i){i.bVisible&&"none"!==e(i.nTh).css("display")&&n++}),n}function m(t,n){var i=[];return e.map(t.aoColumns,function(e,t){e[n]&&i.push(t)}),i}function b(e){var t,n,r,o,a,s,l,u,c,d=e.aoColumns,f=e.aoData,h=Ge.ext.type.detect;for(t=0,n=d.length;t<n;t++)if(l=d[t],c=[],!l.sType&&l._sManualType)l.sType=l._sManualType;else if(!l.sType){for(r=0,o=h.length;r<o;r++){for(a=0,s=f.length;a<s&&(c[a]===i&&(c[a]=C(e,a,t,"type")),(u=h[r](c[a],e))||r===h.length-1)&&"html"!==u;a++);if(u){l.sType=u;break}}l.sType||(l.sType="string")}}function y(t,n,r,o){var a,s,l,u,c,f,h=t.aoColumns;if(n)for(a=n.length-1;0<=a;a--){var p=(f=n[a]).targets!==i?f.targets:f.aTargets;for(e.isArray(p)||(p=[p]),s=0,l=p.length;s<l;s++)if("number"==typeof p[s]&&0<=p[s]){for(;h.length<=p[s];)d(t);o(p[s],f)}else if("number"==typeof p[s]&&0>p[s])o(h.length+p[s],f);else if("string"==typeof p[s])for(u=0,c=h.length;u<c;u++)("_all"==p[s]||e(h[u].nTh).hasClass(p[s]))&&o(u,f)}if(r)for(a=0,t=r.length;a<t;a++)o(a,r[a])}function x(t,n,r,o){var a=t.aoData.length,s=e.extend(!0,{},Ge.models.oRow,{src:r?"dom":"data",idx:a});s._aData=n,t.aoData.push(s);for(var l=t.aoColumns,u=0,c=l.length;u<c;u++)l[u].sType=null;return t.aiDisplayMaster.push(a),(n=t.rowIdFn(n))!==i&&(t.aIds[n]=s),(r||!t.oFeatures.bDeferRender)&&R(t,a,r,o),a}function w(t,n){var i;return n instanceof e||(n=e(n)),n.map(function(e,n){return i=E(t,n),x(t,i.data,n,i.cells)})}function C(e,t,n,r){var o=e.iDraw,a=e.aoColumns[n],s=e.aoData[t]._aData,l=a.sDefaultContent,u=a.fnGetData(s,r,{settings:e,row:t,col:n});if(u===i)return e.iDrawError!=o&&null===l&&(De(e,0,"Requested unknown parameter "+("function"==typeof a.mData?"{function}":"'"+a.mData+"'")+" for row "+t+", column "+n,4),e.iDrawError=o),l;if(u!==s&&null!==u||null===l||r===i){if("function"==typeof u)return u.call(s)}else u=l;return null===u&&"display"==r?"":u}function S(e,t,n,i){e.aoColumns[n].fnSetData(e.aoData[t]._aData,i,{settings:e,row:t,col:n})}function _(t){return e.map(t.match(/(\\.|[^\.])+/g)||[""],function(e){return e.replace(/\\\./g,".")})}function k(t){if(e.isPlainObject(t)){var n={};return e.each(t,function(e,t){t&&(n[e]=k(t))}),function(e,t,r,o){var a=n[t]||n._;return a!==i?a(e,t,r,o):e}}if(null===t)return function(e){return e};if("function"==typeof t)return function(e,n,i,r){return t(e,n,i,r)};if("string"==typeof t&&(-1!==t.indexOf(".")||-1!==t.indexOf("[")||-1!==t.indexOf("("))){var r=function(t,n,o){var a,s;if(""!==o)for(var l=0,u=(s=_(o)).length;l<u;l++){if(o=s[l].match(ct),a=s[l].match(dt),o){if(s[l]=s[l].replace(ct,""),""!==s[l]&&(t=t[s[l]]),a=[],s.splice(0,l+1),s=s.join("."),e.isArray(t))for(l=0,u=t.length;l<u;l++)a.push(r(t[l],n,s));t=""===(t=o[0].substring(1,o[0].length-1))?a:a.join(t);break}if(a)s[l]=s[l].replace(dt,""),t=t[s[l]]();else{if(null===t||t[s[l]]===i)return i;t=t[s[l]]}}return t};return function(e,n){return r(e,n,t)}}return function(e){return e[t]}}function T(t){if(e.isPlainObject(t))return T(t._);if(null===t)return function(){};if("function"==typeof t)return function(e,n,i){t(e,"set",n,i)};if("string"==typeof t&&(-1!==t.indexOf(".")||-1!==t.indexOf("[")||-1!==t.indexOf("("))){var n=function(t,r,o){var a;a=(o=_(o))[o.length-1];for(var s,l,u=0,c=o.length-1;u<c;u++){if(s=o[u].match(ct),l=o[u].match(dt),s){if(o[u]=o[u].replace(ct,""),t[o[u]]=[],(a=o.slice()).splice(0,u+1),s=a.join("."),e.isArray(r))for(l=0,c=r.length;l<c;l++)a={},n(a,r[l],s),t[o[u]].push(a);else t[o[u]]=r;return}l&&(o[u]=o[u].replace(dt,""),t=t[o[u]](r)),null!==t[o[u]]&&t[o[u]]!==i||(t[o[u]]={}),t=t[o[u]]}a.match(dt)?t[a.replace(dt,"")](r):t[a.replace(ct,"")]=r};return function(e,i){return n(e,i,t)}}return function(e,n){e[t]=n}}function M(e){return rt(e.aoData,"_aData")}function A(e){e.aoData.length=0,e.aiDisplayMaster.length=0,e.aiDisplay.length=0,e.aIds={}}function P(e,t,n){for(var r=-1,o=0,a=e.length;o<a;o++)e[o]==t?r=o:e[o]>t&&e[o]--;-1!=r&&n===i&&e.splice(r,1)}function D(e,t,n,r){var o,a=e.aoData[t],s=function(n,i){for(;n.childNodes.length;)n.removeChild(n.firstChild);n.innerHTML=C(e,t,i,"display")};if("dom"!==n&&(n&&"auto"!==n||"dom"!==a.src)){var l=a.anCells;if(l)if(r!==i)s(l[r],r);else for(n=0,o=l.length;n<o;n++)s(l[n],n)}else a._aData=E(e,a,r,r===i?i:a._aData).data;if(a._aSortData=null,a._aFilterData=null,s=e.aoColumns,r!==i)s[r].sType=null;else{for(n=0,o=s.length;n<o;n++)s[n].sType=null;I(e,a)}}function E(t,n,r,o){var a,s,l,u=[],c=n.firstChild,d=0,f=t.aoColumns,h=t._rowReadObject,o=o!==i?o:h?{}:[],p=function(e,t){if("string"==typeof e){var n=e.indexOf("@");-1!==n&&(n=e.substring(n+1),T(e)(o,t.getAttribute(n)))}},g=function(t){r!==i&&r!==d||(s=f[d],l=e.trim(t.innerHTML),s&&s._bAttrSrc?(T(s.mData._)(o,l),p(s.mData.sort,t),p(s.mData.type,t),p(s.mData.filter,t)):h?(s._setter||(s._setter=T(s.mData)),s._setter(o,l)):o[d]=l),d++};if(c)for(;c;)"TD"!=(a=c.nodeName.toUpperCase())&&"TH"!=a||(g(c),u.push(c)),c=c.nextSibling;else for(c=0,a=(u=n.anCells).length;c<a;c++)g(u[c]);return(n=n.firstChild?n:n.nTr)&&(n=n.getAttribute("id"))&&T(t.rowId)(o,n),{data:o,cells:u}}function R(t,i,r,o){var a,s,l,u,c,d=t.aoData[i],f=d._aData,h=[];if(null===d.nTr){for(a=r||n.createElement("tr"),d.nTr=a,d.anCells=h,a._DT_RowIndex=i,I(t,d),u=0,c=t.aoColumns.length;u<c;u++)l=t.aoColumns[u],(s=r?o[u]:n.createElement(l.sCellType))._DT_CellIndex={row:i,column:u},h.push(s),r&&!l.mRender&&l.mData===u||e.isPlainObject(l.mData)&&l.mData._===u+".display"||(s.innerHTML=C(t,i,u,"display")),l.sClass&&(s.className+=" "+l.sClass),l.bVisible&&!r?a.appendChild(s):!l.bVisible&&r&&s.parentNode.removeChild(s),l.fnCreatedCell&&l.fnCreatedCell.call(t.oInstance,s,C(t,i,u),f,i,u);Le(t,"aoRowCreatedCallback",null,[a,f,i])}d.nTr.setAttribute("role","row")}function I(t,n){var i=n.nTr,r=n._aData;if(i){var o=t.rowIdFn(r);o&&(i.id=o),r.DT_RowClass&&(o=r.DT_RowClass.split(" "),n.__rowc=n.__rowc?lt(n.__rowc.concat(o)):o,e(i).removeClass(n.__rowc.join(" ")).addClass(r.DT_RowClass)),r.DT_RowAttr&&e(i).attr(r.DT_RowAttr),r.DT_RowData&&e(i).data(r.DT_RowData)}}function F(t){var n,i,r,o,a,s=t.nTHead,l=t.nTFoot,u=0===e("th, td",s).length,c=t.oClasses,d=t.aoColumns;for(u&&(o=e("<tr/>").appendTo(s)),n=0,i=d.length;n<i;n++)a=d[n],r=e(a.nTh).addClass(a.sClass),u&&r.appendTo(o),t.oFeatures.bSort&&(r.addClass(a.sSortingClass),!1!==a.bSortable&&(r.attr("tabindex",t.iTabIndex).attr("aria-controls",t.sTableId),_e(t,a.nTh,n))),a.sTitle!=r[0].innerHTML&&r.html(a.sTitle),Oe(t,"header")(t,r,a,c);if(u&&z(t.aoHeader,s),e(s).find(">tr").attr("role","row"),e(s).find(">tr>th, >tr>td").addClass(c.sHeaderTH),e(l).find(">tr>th, >tr>td").addClass(c.sFooterTH),null!==l)for(n=0,i=(t=t.aoFooter[0]).length;n<i;n++)a=d[n],a.nTf=t[n].cell,a.sClass&&e(a.nTf).addClass(a.sClass)}function L(t,n,r){var o,a,s,l,u=[],c=[],d=t.aoColumns.length;if(n){for(r===i&&(r=!1),o=0,a=n.length;o<a;o++){for(u[o]=n[o].slice(),u[o].nTr=n[o].nTr,s=d-1;0<=s;s--)!t.aoColumns[s].bVisible&&!r&&u[o].splice(s,1);c.push([])}for(o=0,a=u.length;o<a;o++){if(t=u[o].nTr)for(;s=t.firstChild;)t.removeChild(s);for(s=0,n=u[o].length;s<n;s++)if(l=d=1,c[o][s]===i){for(t.appendChild(u[o][s].cell),c[o][s]=1;u[o+d]!==i&&u[o][s].cell==u[o+d][s].cell;)c[o+d][s]=1,d++;for(;u[o][s+l]!==i&&u[o][s].cell==u[o][s+l].cell;){for(r=0;r<d;r++)c[o+r][s+l]=1;l++}e(u[o][s].cell).attr("rowspan",d).attr("colspan",l)}}}}function N(t){n=Le(t,"aoPreDrawCallback","preDraw",[t]);if(-1!==e.inArray(!1,n))de(t,!1);else{var n=[],r=0,o=t.asStripeClasses,a=o.length,s=t.oLanguage,l=t.iInitDisplayStart,u="ssp"==je(t),c=t.aiDisplay;t.bDrawing=!0,l!==i&&-1!==l&&(t._iDisplayStart=u?l:l>=t.fnRecordsDisplay()?0:l,t.iInitDisplayStart=-1);var l=t._iDisplayStart,d=t.fnDisplayEnd();if(t.bDeferLoading)t.bDeferLoading=!1,t.iDraw++,de(t,!1);else if(u){if(!t.bDestroying&&!B(t))return}else t.iDraw++;if(0!==c.length)for(s=u?t.aoData.length:d,u=u?0:l;u<s;u++){var f=c[u],h=t.aoData[f];if(null===h.nTr&&R(t,f),f=h.nTr,0!==a){var p=o[r%a];h._sRowStripe!=p&&(e(f).removeClass(h._sRowStripe).addClass(p),h._sRowStripe=p)}Le(t,"aoRowCallback",null,[f,h._aData,r,u]),n.push(f),r++}else r=s.sZeroRecords,1==t.iDraw&&"ajax"==je(t)?r=s.sLoadingRecords:s.sEmptyTable&&0===t.fnRecordsTotal()&&(r=s.sEmptyTable),n[0]=e("<tr/>",{class:a?o[0]:""}).append(e("<td />",{valign:"top",colSpan:v(t),class:t.oClasses.sRowEmpty}).html(r))[0];Le(t,"aoHeaderCallback","header",[e(t.nTHead).children("tr")[0],M(t),l,d,c]),Le(t,"aoFooterCallback","footer",[e(t.nTFoot).children("tr")[0],M(t),l,d,c]),(o=e(t.nTBody)).children().detach(),o.append(e(n)),Le(t,"aoDrawCallback","draw",[t]),t.bSorted=!1,t.bFiltered=!1,t.bDrawing=!1}}function O(e,t){var n=e.oFeatures,i=n.bFilter;n.bSort&&we(e),i?Y(e,e.oPreviousSearch):e.aiDisplay=e.aiDisplayMaster.slice(),!0!==t&&(e._iDisplayStart=0),e._drawHold=t,N(e),e._drawHold=!1}function j(t){var n=t.oClasses,i=e(t.nTable),i=e("<div/>").insertBefore(i),r=t.oFeatures,o=e("<div/>",{id:t.sTableId+"_wrapper",class:n.sWrapper+(t.nTFoot?"":" "+n.sNoFooter)});t.nHolding=i[0],t.nTableWrapper=o[0],t.nTableReinsertBefore=t.nTable.nextSibling;for(var a,s,l,u,c,d,f=t.sDom.split(""),h=0;h<f.length;h++){if(a=null,"<"==(s=f[h])){if(l=e("<div/>")[0],"'"==(u=f[h+1])||'"'==u){for(c="",d=2;f[h+d]!=u;)c+=f[h+d],d++;"H"==c?c=n.sJUIHeader:"F"==c&&(c=n.sJUIFooter),-1!=c.indexOf(".")?(u=c.split("."),l.id=u[0].substr(1,u[0].length-1),l.className=u[1]):"#"==c.charAt(0)?l.id=c.substr(1,c.length-1):l.className=c,h+=d}o.append(l),o=e(l)}else if(">"==s)o=o.parent();else if("l"==s&&r.bPaginate&&r.bLengthChange)a=se(t);else if("f"==s&&r.bFilter)a=G(t);else if("r"==s&&r.bProcessing)a=ce(t);else if("t"==s)a=fe(t);else if("i"==s&&r.bInfo)a=te(t);else if("p"==s&&r.bPaginate)a=le(t);else if(0!==Ge.ext.feature.length)for(d=0,u=(l=Ge.ext.feature).length;d<u;d++)if(s==l[d].cFeature){a=l[d].fnInit(t);break}a&&((l=t.aanFeatures)[s]||(l[s]=[]),l[s].push(a),o.append(a))}i.replaceWith(o),t.nHolding=null}function z(t,n){var i,r,o,a,s,l,u,c,d,f,h=e(n).children("tr");for(t.splice(0,t.length),o=0,l=h.length;o<l;o++)t.push([]);for(o=0,l=h.length;o<l;o++)for(r=(i=h[o]).firstChild;r;){if("TD"==r.nodeName.toUpperCase()||"TH"==r.nodeName.toUpperCase()){for(c=1*r.getAttribute("colspan"),d=1*r.getAttribute("rowspan"),c=c&&0!==c&&1!==c?c:1,d=d&&0!==d&&1!==d?d:1,a=0,s=t[o];s[a];)a++;for(u=a,f=1===c,s=0;s<c;s++)for(a=0;a<d;a++)t[o+a][u+s]={cell:r,unique:f},t[o+a].nTr=i}r=r.nextSibling}}function q(e,t,n){var i=[];n||(n=e.aoHeader,t&&(n=[],z(n,t)));for(var t=0,r=n.length;t<r;t++)for(var o=0,a=n[t].length;o<a;o++)!n[t][o].unique||i[o]&&e.bSortCellsTop||(i[o]=n[t][o].cell);return i}function H(t,n,i){if(Le(t,"aoServerParams","serverParams",[n]),n&&e.isArray(n)){var r={},o=/(.*?)\[\]$/;e.each(n,function(e,t){var n=t.name.match(o);n?(n=n[0],r[n]||(r[n]=[]),r[n].push(t.value)):r[t.name]=t.value}),n=r}var a,s=t.ajax,l=t.oInstance,u=function(e){Le(t,null,"xhr",[t,e,t.jqXHR]),i(e)};if(e.isPlainObject(s)&&s.data){a=s.data;var c=e.isFunction(a)?a(n,t):a,n=e.isFunction(a)&&c?c:e.extend(!0,n,c);delete s.data}c={data:n,success:function(e){var n=e.error||e.sError;n&&De(t,0,n),t.json=e,u(e)},dataType:"json",cache:!1,type:t.sServerMethod,error:function(n,i){var r=Le(t,null,"xhr",[t,null,t.jqXHR]);-1===e.inArray(!0,r)&&("parsererror"==i?De(t,0,"Invalid JSON response",1):4===n.readyState&&De(t,0,"Ajax error",7)),de(t,!1)}},t.oAjaxData=n,Le(t,null,"preXhr",[t,n]),t.fnServerData?t.fnServerData.call(l,t.sAjaxSource,e.map(n,function(e,t){return{name:t,value:e}}),u,t):t.sAjaxSource||"string"==typeof s?t.jqXHR=e.ajax(e.extend(c,{url:s||t.sAjaxSource})):e.isFunction(s)?t.jqXHR=s.call(l,n,u,t):(t.jqXHR=e.ajax(e.extend(c,s)),s.data=a)}function B(e){return!e.bAjaxDataGet||(e.iDraw++,de(e,!0),H(e,V(e),function(t){W(e,t)}),!1)}function V(t){var n,i,r,o,a=t.aoColumns,s=a.length,l=t.oFeatures,u=t.oPreviousSearch,c=t.aoPreSearchCols,d=[],f=xe(t);n=t._iDisplayStart,i=!1!==l.bPaginate?t._iDisplayLength:-1;var h=function(e,t){d.push({name:e,value:t})};h("sEcho",t.iDraw),h("iColumns",s),h("sColumns",rt(a,"sName").join(",")),h("iDisplayStart",n),h("iDisplayLength",i);var p={draw:t.iDraw,columns:[],order:[],start:n,length:i,search:{value:u.sSearch,regex:u.bRegex}};for(n=0;n<s;n++)r=a[n],o=c[n],i="function"==typeof r.mData?"function":r.mData,p.columns.push({data:i,name:r.sName,searchable:r.bSearchable,orderable:r.bSortable,search:{value:o.sSearch,regex:o.bRegex}}),h("mDataProp_"+n,i),l.bFilter&&(h("sSearch_"+n,o.sSearch),h("bRegex_"+n,o.bRegex),h("bSearchable_"+n,r.bSearchable)),l.bSort&&h("bSortable_"+n,r.bSortable);return l.bFilter&&(h("sSearch",u.sSearch),h("bRegex",u.bRegex)),l.bSort&&(e.each(f,function(e,t){p.order.push({column:t.col,dir:t.dir}),h("iSortCol_"+e,t.col),h("sSortDir_"+e,t.dir)}),h("iSortingCols",f.length)),null===(a=Ge.ext.legacy.ajax)?t.sAjaxSource?d:p:a?d:p}function W(e,t){var n=U(e,t),r=t.sEcho!==i?t.sEcho:t.draw,o=t.iTotalRecords!==i?t.iTotalRecords:t.recordsTotal,a=t.iTotalDisplayRecords!==i?t.iTotalDisplayRecords:t.recordsFiltered;if(r){if(1*r<e.iDraw)return;e.iDraw=1*r}for(A(e),e._iRecordsTotal=parseInt(o,10),e._iRecordsDisplay=parseInt(a,10),r=0,o=n.length;r<o;r++)x(e,n[r]);e.aiDisplay=e.aiDisplayMaster.slice(),e.bAjaxDataGet=!1,N(e),e._bInitComplete||oe(e,t),e.bAjaxDataGet=!0,de(e,!1)}function U(t,n){var r=e.isPlainObject(t.ajax)&&t.ajax.dataSrc!==i?t.ajax.dataSrc:t.sAjaxDataProp;return"data"===r?n.aaData||n[r]:""!==r?k(r)(n):n}function G(t){var i=t.oClasses,r=t.sTableId,o=t.oLanguage,a=t.oPreviousSearch,s=t.aanFeatures,l='<input type="search" class="'+i.sFilterInput+'"/>',u=(u=o.sSearch).match(/_INPUT_/)?u.replace("_INPUT_",l):u+l,i=e("<div/>",{id:s.f?null:r+"_filter",class:i.sFilter}).append(e("<label/>").append(u)),s=function(){var e=this.value?this.value:"";e!=a.sSearch&&(Y(t,{sSearch:e,bRegex:a.bRegex,bSmart:a.bSmart,bCaseInsensitive:a.bCaseInsensitive}),t._iDisplayStart=0,N(t))},l=null!==t.searchDelay?t.searchDelay:"ssp"===je(t)?400:0,c=e("input",i).val(a.sSearch).attr("placeholder",o.sSearchPlaceholder).on("keyup.DT search.DT input.DT paste.DT cut.DT",l?vt(s,l):s).on("keypress.DT",function(e){if(13==e.keyCode)return!1}).attr("aria-controls",r);return e(t.nTable).on("search.dt.DT",function(e,i){if(t===i)try{c[0]!==n.activeElement&&c.val(a.sSearch)}catch(e){}}),i[0]}function Y(e,t,n){var r=e.oPreviousSearch,o=e.aoPreSearchCols,a=function(e){r.sSearch=e.sSearch,r.bRegex=e.bRegex,r.bSmart=e.bSmart,r.bCaseInsensitive=e.bCaseInsensitive};if(b(e),"ssp"!=je(e)){for(J(e,t.sSearch,n,t.bEscapeRegex!==i?!t.bEscapeRegex:t.bRegex,t.bSmart,t.bCaseInsensitive),a(t),t=0;t<o.length;t++)$(e,o[t].sSearch,t,o[t].bEscapeRegex!==i?!o[t].bEscapeRegex:o[t].bRegex,o[t].bSmart,o[t].bCaseInsensitive);X(e)}else a(t);e.bFiltered=!0,Le(e,null,"search",[e])}function X(t){for(var n,i,r=Ge.ext.search,o=t.aiDisplay,a=0,s=r.length;a<s;a++){for(var l=[],u=0,c=o.length;u<c;u++)i=o[u],n=t.aoData[i],r[a](t,n._aFilterData,i,n._aData,u)&&l.push(i);o.length=0,e.merge(o,l)}}function $(e,t,n,i,r,o){if(""!==t){for(var a=[],s=e.aiDisplay,i=Q(t,i,r,o),r=0;r<s.length;r++)t=e.aoData[s[r]]._aFilterData[n],i.test(t)&&a.push(s[r]);e.aiDisplay=a}}function J(e,t,n,i,r,o){var a,i=Q(t,i,r,o),o=e.oPreviousSearch.sSearch,s=e.aiDisplayMaster,r=[];if(0!==Ge.ext.search.length&&(n=!0),a=Z(e),0>=t.length)e.aiDisplay=s.slice();else{for((a||n||o.length>t.length||0!==t.indexOf(o)||e.bSorted)&&(e.aiDisplay=s.slice()),t=e.aiDisplay,n=0;n<t.length;n++)i.test(e.aoData[t[n]]._sFilterRow)&&r.push(t[n]);e.aiDisplay=r}}function Q(t,n,i,r){return t=n?t:ft(t),i&&(t="^(?=.*?"+e.map(t.match(/"[^"]+"|[^ ]+/g)||[""],function(e){if('"'===e.charAt(0))var t=e.match(/^"(.*)"$/),e=t?t[1]:e;return e.replace('"',"")}).join(")(?=.*?")+").*$"),RegExp(t,r?"i":"")}function Z(e){var t,n,i,r,o,a,s,l,u=e.aoColumns,c=Ge.ext.type.search;for(t=!1,n=0,r=e.aoData.length;n<r;n++)if(!(l=e.aoData[n])._aFilterData){for(a=[],i=0,o=u.length;i<o;i++)(t=u[i]).bSearchable?(s=C(e,n,i,"filter"),c[t.sType]&&(s=c[t.sType](s)),null===s&&(s=""),"string"!=typeof s&&s.toString&&(s=s.toString())):s="",s.indexOf&&-1!==s.indexOf("&")&&(ht.innerHTML=s,s=pt?ht.textContent:ht.innerText),s.replace&&(s=s.replace(/[\r\n]/g,"")),a.push(s);l._aFilterData=a,l._sFilterRow=a.join("  "),t=!0}return t}function K(e){return{search:e.sSearch,smart:e.bSmart,regex:e.bRegex,caseInsensitive:e.bCaseInsensitive}}function ee(e){return{sSearch:e.search,bSmart:e.smart,bRegex:e.regex,bCaseInsensitive:e.caseInsensitive}}function te(t){var n=t.sTableId,i=t.aanFeatures.i,r=e("<div/>",{class:t.oClasses.sInfo,id:i?null:n+"_info"});return i||(t.aoDrawCallback.push({fn:ne,sName:"information"}),r.attr("role","status").attr("aria-live","polite"),e(t.nTable).attr("aria-describedby",n+"_info")),r[0]}function ne(t){var n=t.aanFeatures.i;if(0!==n.length){var i=t.oLanguage,r=t._iDisplayStart+1,o=t.fnDisplayEnd(),a=t.fnRecordsTotal(),s=t.fnRecordsDisplay(),l=s?i.sInfo:i.sInfoEmpty;s!==a&&(l+=" "+i.sInfoFiltered),l=ie(t,l+=i.sInfoPostFix),null!==(i=i.fnInfoCallback)&&(l=i.call(t.oInstance,t,r,o,a,s,l)),e(n).html(l)}}function ie(e,t){var n=e.fnFormatNumber,i=e._iDisplayStart+1,r=e._iDisplayLength,o=e.fnRecordsDisplay(),a=-1===r;return t.replace(/_START_/g,n.call(e,i)).replace(/_END_/g,n.call(e,e.fnDisplayEnd())).replace(/_MAX_/g,n.call(e,e.fnRecordsTotal())).replace(/_TOTAL_/g,n.call(e,o)).replace(/_PAGE_/g,n.call(e,a?1:Math.ceil(i/r))).replace(/_PAGES_/g,n.call(e,a?1:Math.ceil(o/r)))}function re(e){var t,n,i,r=e.iInitDisplayStart,o=e.aoColumns;n=e.oFeatures;var a=e.bDeferLoading;if(e.bInitialised){for(j(e),F(e),L(e,e.aoHeader),L(e,e.aoFooter),de(e,!0),n.bAutoWidth&&ge(e),t=0,n=o.length;t<n;t++)(i=o[t]).sWidth&&(i.nTh.style.width=ye(i.sWidth));Le(e,null,"preInit",[e]),O(e),("ssp"!=(o=je(e))||a)&&("ajax"==o?H(e,[],function(n){var i=U(e,n);for(t=0;t<i.length;t++)x(e,i[t]);e.iInitDisplayStart=r,O(e),de(e,!1),oe(e,n)},e):(de(e,!1),oe(e)))}else setTimeout(function(){re(e)},200)}function oe(e,t){e._bInitComplete=!0,(t||e.oInit.aaData)&&h(e),Le(e,null,"plugin-init",[e,t]),Le(e,"aoInitComplete","init",[e,t])}function ae(e,t){var n=parseInt(t,10);e._iDisplayLength=n,Ne(e),Le(e,null,"length",[e,n])}function se(t){for(var n=t.oClasses,i=t.sTableId,r=t.aLengthMenu,o=(a=e.isArray(r[0]))?r[0]:r,r=a?r[1]:r,a=e("<select/>",{name:i+"_length","aria-controls":i,class:n.sLengthSelect}),s=0,l=o.length;s<l;s++)a[0][s]=new Option(r[s],o[s]);var u=e("<div><label/></div>").addClass(n.sLength);return t.aanFeatures.l||(u[0].id=i+"_length"),u.children().append(t.oLanguage.sLengthMenu.replace("_MENU_",a[0].outerHTML)),e("select",u).val(t._iDisplayLength).on("change.DT",function(){ae(t,e(this).val()),N(t)}),e(t.nTable).on("length.dt.DT",function(n,i,r){t===i&&e("select",u).val(r)}),u[0]}function le(t){var n=t.sPaginationType,i=Ge.ext.pager[n],r="function"==typeof i,o=function(e){N(e)},n=e("<div/>").addClass(t.oClasses.sPaging+n)[0],a=t.aanFeatures;return r||i.fnInit(t,n,o),a.p||(n.id=t.sTableId+"_paginate",t.aoDrawCallback.push({fn:function(e){if(r){var t,n=e._iDisplayStart,s=e._iDisplayLength,l=e.fnRecordsDisplay(),n=(u=-1===s)?0:Math.ceil(n/s),s=u?1:Math.ceil(l/s),l=i(n,s),u=0;for(t=a.p.length;u<t;u++)Oe(e,"pageButton")(e,a.p[u],u,l,n,s)}else i.fnUpdate(e,o)},sName:"pagination"})),n}function ue(e,t,n){var i=e._iDisplayStart,r=e._iDisplayLength,o=e.fnRecordsDisplay();return 0===o||-1===r?i=0:"number"==typeof t?(i=t*r)>o&&(i=0):"first"==t?i=0:"previous"==t?0>(i=0<=r?i-r:0)&&(i=0):"next"==t?i+r<o&&(i+=r):"last"==t?i=Math.floor((o-1)/r)*r:De(e,0,"Unknown paging action: "+t,5),t=e._iDisplayStart!==i,e._iDisplayStart=i,t&&(Le(e,null,"page",[e]),n&&N(e)),t}function ce(t){return e("<div/>",{id:t.aanFeatures.r?null:t.sTableId+"_processing",class:t.oClasses.sProcessing}).html(t.oLanguage.sProcessing).insertBefore(t.nTable)[0]}function de(t,n){t.oFeatures.bProcessing&&e(t.aanFeatures.r).css("display",n?"block":"none"),Le(t,null,"processing",[t,n])}function fe(t){var n=e(t.nTable);n.attr("role","grid");var i=t.oScroll;if(""===i.sX&&""===i.sY)return t.nTable;var r=i.sX,o=i.sY,a=t.oClasses,s=n.children("caption"),l=s.length?s[0]._captionSide:null,u=e(n[0].cloneNode(!1)),c=e(n[0].cloneNode(!1)),d=n.children("tfoot");d.length||(d=null),u=e("<div/>",{class:a.sScrollWrapper}).append(e("<div/>",{class:a.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,width:r?r?ye(r):null:"100%"}).append(e("<div/>",{class:a.sScrollHeadInner}).css({"box-sizing":"content-box",width:i.sXInner||"100%"}).append(u.removeAttr("id").css("margin-left",0).append("top"===l?s:null).append(n.children("thead"))))).append(e("<div/>",{class:a.sScrollBody}).css({position:"relative",overflow:"auto",width:r?ye(r):null}).append(n)),d&&u.append(e("<div/>",{class:a.sScrollFoot}).css({overflow:"hidden",border:0,width:r?r?ye(r):null:"100%"}).append(e("<div/>",{class:a.sScrollFootInner}).append(c.removeAttr("id").css("margin-left",0).append("bottom"===l?s:null).append(n.children("tfoot")))));var f=(n=u.children())[0],a=n[1],h=d?n[2]:null;return r&&e(a).on("scroll.DT",function(){var e=this.scrollLeft;f.scrollLeft=e,d&&(h.scrollLeft=e)}),e(a).css(o&&i.bCollapse?"max-height":"height",o),t.nScrollHead=f,t.nScrollBody=a,t.nScrollFoot=h,t.aoDrawCallback.push({fn:he,sName:"scrolling"}),u[0]}function he(t){var n,r,o,a,s,l=(d=t.oScroll).sX,u=d.sXInner,c=d.sY,d=d.iBarWidth,f=e(t.nScrollHead),g=f[0].style,v=(b=f.children("div"))[0].style,m=b.children("table"),b=t.nScrollBody,y=e(b),x=b.style,w=e(t.nScrollFoot).children("div"),C=w.children("table"),S=e(t.nTHead),_=e(t.nTable),k=_[0],T=k.style,M=t.nTFoot?e(t.nTFoot):null,A=t.oBrowser,P=A.bScrollOversize,D=rt(t.aoColumns,"nTh"),E=[],R=[],I=[],F=[],L=function(e){(e=e.style).paddingTop="0",e.paddingBottom="0",e.borderTopWidth="0",e.borderBottomWidth="0",e.height=0};r=b.scrollHeight>b.clientHeight,t.scrollBarVis!==r&&t.scrollBarVis!==i?(t.scrollBarVis=r,h(t)):(t.scrollBarVis=r,_.children("thead, tfoot").remove(),M&&(o=M.clone().prependTo(_),n=M.find("tr"),o=o.find("tr")),a=S.clone().prependTo(_),S=S.find("tr"),r=a.find("tr"),a.find("th, td").removeAttr("tabindex"),l||(x.width="100%",f[0].style.width="100%"),e.each(q(t,a),function(e,n){s=p(t,e),n.style.width=t.aoColumns[s].sWidth}),M&&pe(function(e){e.style.width=""},o),f=_.outerWidth(),""===l?(T.width="100%",P&&(_.find("tbody").height()>b.offsetHeight||"scroll"==y.css("overflow-y"))&&(T.width=ye(_.outerWidth()-d)),f=_.outerWidth()):""!==u&&(T.width=ye(u),f=_.outerWidth()),pe(L,r),pe(function(t){I.push(t.innerHTML),E.push(ye(e(t).css("width")))},r),pe(function(t,n){-1!==e.inArray(t,D)&&(t.style.width=E[n])},S),e(r).height(0),M&&(pe(L,o),pe(function(t){F.push(t.innerHTML),R.push(ye(e(t).css("width")))},o),pe(function(e,t){e.style.width=R[t]},n),e(o).height(0)),pe(function(e,t){e.innerHTML='<div class="dataTables_sizing" style="height:0;overflow:hidden;">'+I[t]+"</div>",e.style.width=E[t]},r),M&&pe(function(e,t){e.innerHTML='<div class="dataTables_sizing" style="height:0;overflow:hidden;">'+F[t]+"</div>",e.style.width=R[t]},o),_.outerWidth()<f?(n=b.scrollHeight>b.offsetHeight||"scroll"==y.css("overflow-y")?f+d:f,P&&(b.scrollHeight>b.offsetHeight||"scroll"==y.css("overflow-y"))&&(T.width=ye(n-d)),(""===l||""!==u)&&De(t,1,"Possible column misalignment",6)):n="100%",x.width=ye(n),g.width=ye(n),M&&(t.nScrollFoot.style.width=ye(n)),!c&&P&&(x.height=ye(k.offsetHeight+d)),l=_.outerWidth(),m[0].style.width=ye(l),v.width=ye(l),u=_.height()>b.clientHeight||"scroll"==y.css("overflow-y"),v[c="padding"+(A.bScrollbarLeft?"Left":"Right")]=u?d+"px":"0px",M&&(C[0].style.width=ye(l),w[0].style.width=ye(l),w[0].style[c]=u?d+"px":"0px"),_.children("colgroup").insertBefore(_.children("thead")),y.scroll(),!t.bSorted&&!t.bFiltered||t._drawHold||(b.scrollTop=0))}function pe(e,t,n){for(var i,r,o=0,a=0,s=t.length;a<s;){for(i=t[a].firstChild,r=n?n[a].firstChild:null;i;)1===i.nodeType&&(n?e(i,r,o):e(i,o),o++),i=i.nextSibling,r=n?r.nextSibling:null;a++}}function ge(n){var i,r,o=n.nTable,a=n.aoColumns,s=(w=n.oScroll).sY,l=w.sX,u=w.sXInner,c=a.length,d=m(n,"bVisible"),f=e("th",n.nTHead),g=o.getAttribute("width"),b=o.parentNode,y=!1,x=n.oBrowser,w=x.bScrollOversize;for((i=o.style.width)&&-1!==i.indexOf("%")&&(g=i),i=0;i<d.length;i++)null!==(r=a[d[i]]).sWidth&&(r.sWidth=ve(r.sWidthOrig,b),y=!0);if(w||!y&&!l&&!s&&c==v(n)&&c==f.length)for(i=0;i<c;i++)null!==(d=p(n,i))&&(a[d].sWidth=ye(f.eq(i).width()));else{(c=e(o).clone().css("visibility","hidden").removeAttr("id")).find("tbody tr").remove();var C=e("<tr/>").appendTo(c.find("tbody"));for(c.find("thead, tfoot").remove(),c.append(e(n.nTHead).clone()).append(e(n.nTFoot).clone()),c.find("tfoot th, tfoot td").css("width",""),f=q(n,c.find("thead")[0]),i=0;i<d.length;i++)r=a[d[i]],f[i].style.width=null!==r.sWidthOrig&&""!==r.sWidthOrig?ye(r.sWidthOrig):"",r.sWidthOrig&&l&&e(f[i]).append(e("<div/>").css({width:r.sWidthOrig,margin:0,padding:0,border:0,height:1}));if(n.aoData.length)for(i=0;i<d.length;i++)y=d[i],r=a[y],e(me(n,y)).clone(!1).append(r.sContentPadding).appendTo(C);for(e("[name]",c).removeAttr("name"),r=e("<div/>").css(l||s?{position:"absolute",top:0,left:0,height:1,right:0,overflow:"hidden"}:{}).append(c).appendTo(b),l&&u?c.width(u):l?(c.css("width","auto"),c.removeAttr("width"),c.width()<b.clientWidth&&g&&c.width(b.clientWidth)):s?c.width(b.clientWidth):g&&c.width(g),i=s=0;i<d.length;i++)b=e(f[i]),u=b.outerWidth()-b.width(),b=x.bBounding?Math.ceil(f[i].getBoundingClientRect().width):b.outerWidth(),s+=b,a[d[i]].sWidth=ye(b-u);o.style.width=ye(s),r.remove()}g&&(o.style.width=ye(g)),!g&&!l||n._reszEvt||(o=function(){e(t).on("resize.DT-"+n.sInstance,vt(function(){h(n)}))},w?setTimeout(o,1e3):o(),n._reszEvt=!0)}function ve(t,i){if(!t)return 0;var r=e("<div/>").css("width",ye(t)).appendTo(i||n.body),o=r[0].offsetWidth;return r.remove(),o}function me(t,n){var i=be(t,n);if(0>i)return null;var r=t.aoData[i];return r.nTr?r.anCells[n]:e("<td/>").html(C(t,i,n,"display"))[0]}function be(e,t){for(var n,i=-1,r=-1,o=0,a=e.aoData.length;o<a;o++)n=C(e,o,t,"display")+"",n=n.replace(gt,""),(n=n.replace(/&nbsp;/g," ")).length>i&&(i=n.length,r=o);return r}function ye(e){return null===e?"0px":"number"==typeof e?0>e?"0px":e+"px":e.match(/\d$/)?e+"px":e}function xe(t){var n,r,o,a,s,l,u=[],c=t.aoColumns;n=t.aaSortingFixed,r=e.isPlainObject(n);var d=[];for(o=function(t){t.length&&!e.isArray(t[0])?d.push(t):e.merge(d,t)},e.isArray(n)&&o(n),r&&n.pre&&o(n.pre),o(t.aaSorting),r&&n.post&&o(n.post),t=0;t<d.length;t++)for(n=0,r=(o=c[l=d[t][0]].aDataSort).length;n<r;n++)a=o[n],s=c[a].sType||"string",d[t]._idx===i&&(d[t]._idx=e.inArray(d[t][1],c[a].asSorting)),u.push({src:l,col:a,dir:d[t][1],index:d[t]._idx,type:s,formatter:Ge.ext.type.order[s+"-pre"]});return u}function we(e){var t,n,i,r,o=[],a=Ge.ext.type.order,s=e.aoData,l=0,u=e.aiDisplayMaster;for(b(e),t=0,n=(r=xe(e)).length;t<n;t++)(i=r[t]).formatter&&l++,Te(e,i.col);if("ssp"!=je(e)&&0!==r.length){for(t=0,n=u.length;t<n;t++)o[u[t]]=t;l===r.length?u.sort(function(e,t){var n,i,a,l,u=r.length,c=s[e]._aSortData,d=s[t]._aSortData;for(a=0;a<u;a++)if(l=r[a],n=c[l.col],i=d[l.col],0!==(n=n<i?-1:n>i?1:0))return"asc"===l.dir?n:-n;return n=o[e],i=o[t],n<i?-1:n>i?1:0}):u.sort(function(e,t){var n,i,l,u,c=r.length,d=s[e]._aSortData,f=s[t]._aSortData;for(l=0;l<c;l++)if(u=r[l],n=d[u.col],i=f[u.col],u=a[u.type+"-"+u.dir]||a["string-"+u.dir],0!==(n=u(n,i)))return n;return n=o[e],i=o[t],n<i?-1:n>i?1:0})}e.bSorted=!0}function Ce(e){for(var t,n,i=e.aoColumns,r=xe(e),e=e.oLanguage.oAria,o=0,a=i.length;o<a;o++){var s=(n=i[o]).asSorting;t=n.sTitle.replace(/<.*?>/g,"");var l=n.nTh;l.removeAttribute("aria-sort"),n.bSortable&&(0<r.length&&r[0].col==o?(l.setAttribute("aria-sort","asc"==r[0].dir?"ascending":"descending"),n=s[r[0].index+1]||s[0]):n=s[0],t+="asc"===n?e.sSortAscending:e.sSortDescending),l.setAttribute("aria-label",t)}}function Se(t,n,r,o){var a=t.aaSorting,s=t.aoColumns[n].asSorting,l=function(t,n){var r=t._idx;return r===i&&(r=e.inArray(t[1],s)),r+1<s.length?r+1:n?null:0};"number"==typeof a[0]&&(a=t.aaSorting=[a]),r&&t.oFeatures.bSortMulti?-1!==(r=e.inArray(n,rt(a,"0")))?(null===(n=l(a[r],!0))&&1===a.length&&(n=0),null===n?a.splice(r,1):(a[r][1]=s[n],a[r]._idx=n)):(a.push([n,s[0],0]),a[a.length-1]._idx=0):a.length&&a[0][0]==n?(n=l(a[0]),a.length=1,a[0][1]=s[n],a[0]._idx=n):(a.length=0,a.push([n,s[0]]),a[0]._idx=0),O(t),"function"==typeof o&&o(t)}function _e(e,t,n,i){var r=e.aoColumns[n];Ie(t,{},function(t){!1!==r.bSortable&&(e.oFeatures.bProcessing?(de(e,!0),setTimeout(function(){Se(e,n,t.shiftKey,i),"ssp"!==je(e)&&de(e,!1)},0)):Se(e,n,t.shiftKey,i))})}function ke(t){var n,i,r=t.aLastSort,o=t.oClasses.sSortColumn,a=xe(t),s=t.oFeatures;if(s.bSort&&s.bSortClasses){for(s=0,n=r.length;s<n;s++)i=r[s].src,e(rt(t.aoData,"anCells",i)).removeClass(o+(2>s?s+1:3));for(s=0,n=a.length;s<n;s++)i=a[s].src,e(rt(t.aoData,"anCells",i)).addClass(o+(2>s?s+1:3))}t.aLastSort=a}function Te(e,t){var n,i=e.aoColumns[t],r=Ge.ext.order[i.sSortDataType];r&&(n=r.call(e.oInstance,e,t,g(e,t)));for(var o,a=Ge.ext.type.order[i.sType+"-pre"],s=0,l=e.aoData.length;s<l;s++)(i=e.aoData[s])._aSortData||(i._aSortData=[]),(!i._aSortData[t]||r)&&(o=r?n[s]:C(e,s,t,"sort"),i._aSortData[t]=a?a(o):o)}function Me(t){if(t.oFeatures.bStateSave&&!t.bDestroying){var n={time:+new Date,start:t._iDisplayStart,length:t._iDisplayLength,order:e.extend(!0,[],t.aaSorting),search:K(t.oPreviousSearch),columns:e.map(t.aoColumns,function(e,n){return{visible:e.bVisible,search:K(t.aoPreSearchCols[n])}})};Le(t,"aoStateSaveParams","stateSaveParams",[t,n]),t.oSavedState=n,t.fnStateSaveCallback.call(t.oInstance,t,n)}}function Ae(t,n,r){var o,a,s=t.aoColumns,n=function(n){if(n&&n.time){var l=Le(t,"aoStateLoadParams","stateLoadParams",[t,n]);if(-1===e.inArray(!1,l)&&!(0<(l=t.iStateDuration)&&n.time<+new Date-1e3*l||n.columns&&s.length!==n.columns.length)){if(t.oLoadedState=e.extend(!0,{},n),n.start!==i&&(t._iDisplayStart=n.start,t.iInitDisplayStart=n.start),n.length!==i&&(t._iDisplayLength=n.length),n.order!==i&&(t.aaSorting=[],e.each(n.order,function(e,n){t.aaSorting.push(n[0]>=s.length?[0,n[1]]:n)})),n.search!==i&&e.extend(t.oPreviousSearch,ee(n.search)),n.columns)for(o=0,a=n.columns.length;o<a;o++)(l=n.columns[o]).visible!==i&&(s[o].bVisible=l.visible),l.search!==i&&e.extend(t.aoPreSearchCols[o],ee(l.search));Le(t,"aoStateLoaded","stateLoaded",[t,n])}}r()};if(t.oFeatures.bStateSave){var l=t.fnStateLoadCallback.call(t.oInstance,t,n);l!==i&&n(l)}else r()}function Pe(t){var n=Ge.settings;return-1!==(t=e.inArray(t,rt(n,"nTable")))?n[t]:null}function De(e,n,i,r){if(i="DataTables warning: "+(e?"table id="+e.sTableId+" - ":"")+i,r&&(i+=". For more information about this error, please see http://datatables.net/tn/"+r),n)t.console&&console.log&&console.log(i);else if(n=Ge.ext,n=n.sErrMode||n.errMode,e&&Le(e,null,"error",[e,r,i]),"alert"==n)alert(i);else{if("throw"==n)throw Error(i);"function"==typeof n&&n(e,r,i)}}function Ee(t,n,r,o){e.isArray(r)?e.each(r,function(i,r){e.isArray(r)?Ee(t,n,r[0],r[1]):Ee(t,n,r)}):(o===i&&(o=r),n[r]!==i&&(t[o]=n[r]))}function Re(t,n,i){var r,o;for(o in n)n.hasOwnProperty(o)&&(r=n[o],e.isPlainObject(r)?(e.isPlainObject(t[o])||(t[o]={}),e.extend(!0,t[o],r)):t[o]=i&&"data"!==o&&"aaData"!==o&&e.isArray(r)?r.slice():r);return t}function Ie(t,n,i){e(t).on("click.DT",n,function(e){t.blur(),i(e)}).on("keypress.DT",n,function(e){13===e.which&&(e.preventDefault(),i(e))}).on("selectstart.DT",function(){return!1})}function Fe(e,t,n,i){n&&e[t].push({fn:n,sName:i})}function Le(t,n,i,r){var o=[];return n&&(o=e.map(t[n].slice().reverse(),function(e){return e.fn.apply(t.oInstance,r)})),null!==i&&(n=e.Event(i+".dt"),e(t.nTable).trigger(n,r),o.push(n.result)),o}function Ne(e){var t=e._iDisplayStart,n=e.fnDisplayEnd(),i=e._iDisplayLength;t>=n&&(t=n-i),t-=t%i,(-1===i||0>t)&&(t=0),e._iDisplayStart=t}function Oe(t,n){var i=t.renderer,r=Ge.ext.renderer[n];return e.isPlainObject(i)&&i[n]?r[i[n]]||r._:"string"==typeof i?r[i]||r._:r._}function je(e){return e.oFeatures.bServerSide?"ssp":e.ajax||e.sAjaxSource?"ajax":"dom"}function ze(e,t){var n=[],n=Rt.numbers_length,i=Math.floor(n/2);return t<=n?n=at(0,t):e<=i?((n=at(0,n-2)).push("ellipsis"),n.push(t-1)):(e>=t-1-i?n=at(t-(n-2),t):((n=at(e-i+2,e+i-1)).push("ellipsis"),n.push(t-1)),n.splice(0,0,"ellipsis"),n.splice(0,0,0)),n.DT_el="span",n}function qe(t){e.each({num:function(e){return It(e,t)},"num-fmt":function(e){return It(e,t,Ze)},"html-num":function(e){return It(e,t,$e)},"html-num-fmt":function(e){return It(e,t,$e,Ze)}},function(e,n){Be.type.order[e+t+"-pre"]=n,e.match(/^html\-/)&&(Be.type.search[e+t]=Be.type.search.html)})}function He(e){return function(){var t=[Pe(this[Ge.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return Ge.ext.internal[e].apply(this,t)}}var Be,Ve,We,Ue,Ge=function(t){this.$=function(e,t){return this.api(!0).$(e,t)},this._=function(e,t){return this.api(!0).rows(e,t).data()},this.api=function(e){return new Ve(e?Pe(this[Be.iApiIndex]):this)},this.fnAddData=function(t,n){var r=this.api(!0),o=e.isArray(t)&&(e.isArray(t[0])||e.isPlainObject(t[0]))?r.rows.add(t):r.row.add(t);return(n===i||n)&&r.draw(),o.flatten().toArray()},this.fnAdjustColumnSizing=function(e){var t=this.api(!0).columns.adjust(),n=t.settings()[0],r=n.oScroll;e===i||e?t.draw(!1):(""!==r.sX||""!==r.sY)&&he(n)},this.fnClearTable=function(e){var t=this.api(!0).clear();(e===i||e)&&t.draw()},this.fnClose=function(e){this.api(!0).row(e).child.hide()},this.fnDeleteRow=function(e,t,n){var r=this.api(!0),o=(e=r.rows(e)).settings()[0],a=o.aoData[e[0][0]];return e.remove(),t&&t.call(this,o,a),(n===i||n)&&r.draw(),a},this.fnDestroy=function(e){this.api(!0).destroy(e)},this.fnDraw=function(e){this.api(!0).draw(e)},this.fnFilter=function(e,t,n,r,o,a){o=this.api(!0),null===t||t===i?o.search(e,n,r,a):o.column(t).search(e,n,r,a),o.draw()},this.fnGetData=function(e,t){var n=this.api(!0);if(e!==i){var r=e.nodeName?e.nodeName.toLowerCase():"";return t!==i||"td"==r||"th"==r?n.cell(e,t).data():n.row(e).data()||null}return n.data().toArray()},this.fnGetNodes=function(e){var t=this.api(!0);return e!==i?t.row(e).node():t.rows().nodes().flatten().toArray()},this.fnGetPosition=function(e){var t=this.api(!0),n=e.nodeName.toUpperCase();return"TR"==n?t.row(e).index():"TD"==n||"TH"==n?(e=t.cell(e).index(),[e.row,e.columnVisible,e.column]):null},this.fnIsOpen=function(e){return this.api(!0).row(e).child.isShown()},this.fnOpen=function(e,t,n){return this.api(!0).row(e).child(t,n).show().child()[0]},this.fnPageChange=function(e,t){var n=this.api(!0).page(e);(t===i||t)&&n.draw(!1)},this.fnSetColumnVis=function(e,t,n){e=this.api(!0).column(e).visible(t),(n===i||n)&&e.columns.adjust().draw()},this.fnSettings=function(){return Pe(this[Be.iApiIndex])},this.fnSort=function(e){this.api(!0).order(e).draw()},this.fnSortListener=function(e,t,n){this.api(!0).order.listener(e,t,n)},this.fnUpdate=function(e,t,n,r,o){var a=this.api(!0);return n===i||null===n?a.row(t).data(e):a.cell(t,n).data(e),(o===i||o)&&a.columns.adjust(),(r===i||r)&&a.draw(),0},this.fnVersionCheck=Be.fnVersionCheck;var n=this,r=t===i,c=this.length;r&&(t={}),this.oApi=this.internal=Be.internal;for(var h in Ge.ext.internal)h&&(this[h]=He(h));return this.each(function(){var h,p={},g=1<c?Re(p,t,!0):t,v=0,p=this.getAttribute("id"),m=!1,b=Ge.defaults,C=e(this);if("table"!=this.nodeName.toLowerCase())De(null,0,"Non-table node initialisation ("+this.nodeName+")",2);else{s(b),l(b.column),o(b,b,!0),o(b.column,b.column,!0),o(b,e.extend(g,C.data()));var S=Ge.settings,v=0;for(h=S.length;v<h;v++){var _=S[v];if(_.nTable==this||_.nTHead.parentNode==this||_.nTFoot&&_.nTFoot.parentNode==this){var T=g.bRetrieve!==i?g.bRetrieve:b.bRetrieve;if(r||T)return _.oInstance;if(g.bDestroy!==i?g.bDestroy:b.bDestroy){_.oInstance.fnDestroy();break}return void De(_,0,"Cannot reinitialise DataTable",3)}if(_.sTableId==this.id){S.splice(v,1);break}}null!==p&&""!==p||(this.id=p="DataTables_Table_"+Ge.ext._unique++);var M=e.extend(!0,{},Ge.models.oSettings,{sDestroyWidth:C[0].style.width,sInstance:p,sTableId:p});M.nTable=this,M.oApi=n.internal,M.oInit=g,S.push(M),M.oInstance=1===n.length?n:C.dataTable(),s(g),g.oLanguage&&a(g.oLanguage),g.aLengthMenu&&!g.iDisplayLength&&(g.iDisplayLength=e.isArray(g.aLengthMenu[0])?g.aLengthMenu[0][0]:g.aLengthMenu[0]),g=Re(e.extend(!0,{},b),g),Ee(M.oFeatures,g,"bPaginate bLengthChange bFilter bSort bSortMulti bInfo bProcessing bAutoWidth bSortClasses bServerSide bDeferRender".split(" ")),Ee(M,g,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback","renderer","searchDelay","rowId",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"],["bJQueryUI","bJUI"]]),Ee(M.oScroll,g,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]),Ee(M.oLanguage,g,"fnInfoCallback"),Fe(M,"aoDrawCallback",g.fnDrawCallback,"user"),Fe(M,"aoServerParams",g.fnServerParams,"user"),Fe(M,"aoStateSaveParams",g.fnStateSaveParams,"user"),Fe(M,"aoStateLoadParams",g.fnStateLoadParams,"user"),Fe(M,"aoStateLoaded",g.fnStateLoaded,"user"),Fe(M,"aoRowCallback",g.fnRowCallback,"user"),Fe(M,"aoRowCreatedCallback",g.fnCreatedRow,"user"),Fe(M,"aoHeaderCallback",g.fnHeaderCallback,"user"),Fe(M,"aoFooterCallback",g.fnFooterCallback,"user"),Fe(M,"aoInitComplete",g.fnInitComplete,"user"),Fe(M,"aoPreDrawCallback",g.fnPreDrawCallback,"user"),M.rowIdFn=k(g.rowId),u(M);var A=M.oClasses;g.bJQueryUI?(e.extend(A,Ge.ext.oJUIClasses,g.oClasses),g.sDom===b.sDom&&"lfrtip"===b.sDom&&(M.sDom='<"H"lfr>t<"F"ip>'),M.renderer?e.isPlainObject(M.renderer)&&!M.renderer.header&&(M.renderer.header="jqueryui"):M.renderer="jqueryui"):e.extend(A,Ge.ext.classes,g.oClasses),C.addClass(A.sTable),M.iInitDisplayStart===i&&(M.iInitDisplayStart=g.iDisplayStart,M._iDisplayStart=g.iDisplayStart),null!==g.iDeferLoading&&(M.bDeferLoading=!0,p=e.isArray(g.iDeferLoading),M._iRecordsDisplay=p?g.iDeferLoading[0]:g.iDeferLoading,M._iRecordsTotal=p?g.iDeferLoading[1]:g.iDeferLoading);var P=M.oLanguage;e.extend(!0,P,g.oLanguage),P.sUrl&&(e.ajax({dataType:"json",url:P.sUrl,success:function(t){a(t),o(b.oLanguage,t),e.extend(!0,P,t),re(M)},error:function(){re(M)}}),m=!0),null===g.asStripeClasses&&(M.asStripeClasses=[A.sStripeOdd,A.sStripeEven]);var p=M.asStripeClasses,D=C.children("tbody").find("tr").eq(0);if(-1!==e.inArray(!0,e.map(p,function(e){return D.hasClass(e)}))&&(e("tbody tr",this).removeClass(p.join(" ")),M.asDestroyStripes=p.slice()),p=[],0!==(S=this.getElementsByTagName("thead")).length&&(z(M.aoHeader,S[0]),p=q(M)),null===g.aoColumns)for(S=[],v=0,h=p.length;v<h;v++)S.push(null);else S=g.aoColumns;for(v=0,h=S.length;v<h;v++)d(M,p?p[v]:null);if(y(M,g.aoColumnDefs,S,function(e,t){f(M,e,t)}),D.length){var E=function(e,t){return null!==e.getAttribute("data-"+t)?t:null};e(D[0]).children("th, td").each(function(e,t){var n=M.aoColumns[e];if(n.mData===e){var r=E(t,"sort")||E(t,"order"),o=E(t,"filter")||E(t,"search");null===r&&null===o||(n.mData={_:e+".display",sort:null!==r?e+".@data-"+r:i,type:null!==r?e+".@data-"+r:i,filter:null!==o?e+".@data-"+o:i},f(M,e))}})}var R=M.oFeatures,p=function(){if(g.aaSorting===i){t=M.aaSorting;for(v=0,h=t.length;v<h;v++)t[v][1]=M.aoColumns[v].asSorting[0]}ke(M),R.bSort&&Fe(M,"aoDrawCallback",function(){if(M.bSorted){var t=xe(M),n={};e.each(t,function(e,t){n[t.src]=t.dir}),Le(M,null,"order",[M,t,n]),Ce(M)}}),Fe(M,"aoDrawCallback",function(){(M.bSorted||"ssp"===je(M)||R.bDeferRender)&&ke(M)},"sc");var t=C.children("caption").each(function(){this._captionSide=e(this).css("caption-side")}),n=C.children("thead");if(0===n.length&&(n=e("<thead/>").appendTo(C)),M.nTHead=n[0],0===(n=C.children("tbody")).length&&(n=e("<tbody/>").appendTo(C)),M.nTBody=n[0],0===(n=C.children("tfoot")).length&&t.length>0&&(""!==M.oScroll.sX||""!==M.oScroll.sY)&&(n=e("<tfoot/>").appendTo(C)),0===n.length||0===n.children().length?C.addClass(A.sNoFooter):n.length>0&&(M.nTFoot=n[0],z(M.aoFooter,M.nTFoot)),g.aaData)for(v=0;v<g.aaData.length;v++)x(M,g.aaData[v]);else(M.bDeferLoading||"dom"==je(M))&&w(M,e(M.nTBody).children("tr"));M.aiDisplay=M.aiDisplayMaster.slice(),M.bInitialised=!0,!1===m&&re(M)};g.bStateSave?(R.bStateSave=!0,Fe(M,"aoDrawCallback",Me,"state_save"),Ae(M,g,p)):p()}}),n=null,this},Ye={},Xe=/[\r\n]/g,$e=/<.*?>/g,Je=/^\d{2,4}[\.\/\-]\d{1,2}[\.\/\-]\d{1,2}([T ]{1}\d{1,2}[:\.]\d{2}([\.:]\d{2})?)?$/,Qe=RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\|\\$|\\^|\\-)","g"),Ze=/[',$%\u2009\u202F\u20BD\u20a9\u20BArfk]/gi,Ke=function(e){return!e||!0===e||"-"===e},et=function(e){var t=parseInt(e,10);return!isNaN(t)&&isFinite(e)?t:null},tt=function(e,t){return Ye[t]||(Ye[t]=RegExp(ft(t),"g")),"string"==typeof e&&"."!==t?e.replace(/\./g,"").replace(Ye[t],"."):e},nt=function(e,t,n){var i="string"==typeof e;return!!Ke(e)||(t&&i&&(e=tt(e,t)),n&&i&&(e=e.replace(Ze,"")),!isNaN(parseFloat(e))&&isFinite(e))},it=function(e,t,n){return!!Ke(e)||(Ke(e)||"string"==typeof e?!!nt(e.replace($e,""),t,n)||null:null)},rt=function(e,t,n){var r=[],o=0,a=e.length;if(n!==i)for(;o<a;o++)e[o]&&e[o][t]&&r.push(e[o][t][n]);else for(;o<a;o++)e[o]&&r.push(e[o][t]);return r},ot=function(e,t,n,r){var o=[],a=0,s=t.length;if(r!==i)for(;a<s;a++)e[t[a]][n]&&o.push(e[t[a]][n][r]);else for(;a<s;a++)o.push(e[t[a]][n]);return o},at=function(e,t){var n,r=[];t===i?(t=0,n=e):(n=t,t=e);for(var o=t;o<n;o++)r.push(o);return r},st=function(e){for(var t=[],n=0,i=e.length;n<i;n++)e[n]&&t.push(e[n]);return t},lt=function(e){var t;e:{if(!(2>e.length))for(var n=(t=e.slice().sort())[0],i=1,r=t.length;i<r;i++){if(t[i]===n){t=!1;break e}n=t[i]}t=!0}if(t)return e.slice();t=[];var o,r=e.length,a=0,i=0;e:for(;i<r;i++){for(n=e[i],o=0;o<a;o++)if(t[o]===n)continue e;t.push(n),a++}return t};Ge.util={throttle:function(e,t){var n,r,o=t!==i?t:200;return function(){var t=this,a=+new Date,s=arguments;n&&a<n+o?(clearTimeout(r),r=setTimeout(function(){n=i,e.apply(t,s)},o)):(n=a,e.apply(t,s))}},escapeRegex:function(e){return e.replace(Qe,"\\$1")}};var ut=function(e,t,n){e[t]!==i&&(e[n]=e[t])},ct=/\[.*?\]$/,dt=/\(\)$/,ft=Ge.util.escapeRegex,ht=e("<div>")[0],pt=ht.textContent!==i,gt=/<.*?>/g,vt=Ge.util.throttle,mt=[],bt=Array.prototype,yt=function(t){var n,i,r=Ge.settings,o=e.map(r,function(e){return e.nTable});return t?t.nTable&&t.oApi?[t]:t.nodeName&&"table"===t.nodeName.toLowerCase()?-1!==(n=e.inArray(t,o))?[r[n]]:null:t&&"function"==typeof t.settings?t.settings().toArray():("string"==typeof t?i=e(t):t instanceof e&&(i=t),i?i.map(function(){return-1!==(n=e.inArray(this,o))?r[n]:null}).toArray():void 0):[]};Ve=function(t,n){if(!(this instanceof Ve))return new Ve(t,n);var i=[],r=function(e){(e=yt(e))&&(i=i.concat(e))};if(e.isArray(t))for(var o=0,a=t.length;o<a;o++)r(t[o]);else r(t);this.context=lt(i),n&&e.merge(this,n),this.selector={rows:null,cols:null,opts:null},Ve.extend(this,this,mt)},Ge.Api=Ve,e.extend(Ve.prototype,{any:function(){return 0!==this.count()},concat:bt.concat,context:[],count:function(){return this.flatten().length},each:function(e){for(var t=0,n=this.length;t<n;t++)e.call(this,this[t],t,this);return this},eq:function(e){var t=this.context;return t.length>e?new Ve(t[e],this[e]):null},filter:function(e){var t=[];if(bt.filter)t=bt.filter.call(this,e,this);else for(var n=0,i=this.length;n<i;n++)e.call(this,this[n],n,this)&&t.push(this[n]);return new Ve(this.context,t)},flatten:function(){var e=[];return new Ve(this.context,e.concat.apply(e,this.toArray()))},join:bt.join,indexOf:bt.indexOf||function(e,t){for(var n=t||0,i=this.length;n<i;n++)if(this[n]===e)return n;return-1},iterator:function(e,t,n,r){var o,a,s,l,u,c,d,f=[],h=this.context,p=this.selector;for("string"==typeof e&&(r=n,n=t,t=e,e=!1),a=0,s=h.length;a<s;a++){var g=new Ve(h[a]);if("table"===t)(o=n.call(g,h[a],a))!==i&&f.push(o);else if("columns"===t||"rows"===t)(o=n.call(g,h[a],this[a],a))!==i&&f.push(o);else if("column"===t||"column-rows"===t||"row"===t||"cell"===t)for(d=this[a],"column-rows"===t&&(c=_t(h[a],p.opts)),l=0,u=d.length;l<u;l++)o=d[l],(o="cell"===t?n.call(g,h[a],o.row,o.column,a,l):n.call(g,h[a],o,a,l,c))!==i&&f.push(o)}return f.length||r?(e=new Ve(h,e?f.concat.apply([],f):f),t=e.selector,t.rows=p.rows,t.cols=p.cols,t.opts=p.opts,e):this},lastIndexOf:bt.lastIndexOf||function(e,t){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(e){var t=[];if(bt.map)t=bt.map.call(this,e,this);else for(var n=0,i=this.length;n<i;n++)t.push(e.call(this,this[n],n));return new Ve(this.context,t)},pluck:function(e){return this.map(function(t){return t[e]})},pop:bt.pop,push:bt.push,reduce:bt.reduce||function(e,t){return c(this,e,t,0,this.length,1)},reduceRight:bt.reduceRight||function(e,t){return c(this,e,t,this.length-1,-1,-1)},reverse:bt.reverse,selector:null,shift:bt.shift,slice:function(){return new Ve(this.context,this)},sort:bt.sort,splice:bt.splice,toArray:function(){return bt.slice.call(this)},to$:function(){return e(this)},toJQuery:function(){return e(this)},unique:function(){return new Ve(this.context,lt(this))},unshift:bt.unshift}),Ve.extend=function(t,n,i){if(i.length&&n&&(n instanceof Ve||n.__dt_wrapper)){var r,o,a;for(r=0,o=i.length;r<o;r++)a=i[r],n[a.name]="function"==typeof a.val?function(e,t,n){return function(){var i=t.apply(e,arguments);return Ve.extend(i,i,n.methodExt),i}}(t,a.val,a):e.isPlainObject(a.val)?{}:a.val,n[a.name].__dt_wrapper=!0,Ve.extend(t,n[a.name],a.propExt)}},Ve.register=We=function(t,n){if(e.isArray(t))for(var i=0,r=t.length;i<r;i++)Ve.register(t[i],n);else for(var o,a,s=t.split("."),l=mt,i=0,r=s.length;i<r;i++){o=(a=-1!==s[i].indexOf("()"))?s[i].replace("()",""):s[i];var u;e:{u=0;for(var c=l.length;u<c;u++)if(l[u].name===o){u=l[u];break e}u=null}u||(u={name:o,val:{},methodExt:[],propExt:[]},l.push(u)),i===r-1?u.val=n:l=a?u.methodExt:u.propExt}},Ve.registerPlural=Ue=function(t,n,r){Ve.register(t,r),Ve.register(n,function(){var t=r.apply(this,arguments);return t===this?this:t instanceof Ve?t.length?e.isArray(t[0])?new Ve(t.context,t[0]):t[0]:i:t})},We("tables()",function(t){var n;if(t){n=Ve;var i=this.context;if("number"==typeof t)t=[i[t]];else var r=e.map(i,function(e){return e.nTable}),t=e(r).filter(t).map(function(){var t=e.inArray(this,r);return i[t]}).toArray();n=new n(t)}else n=this;return n}),We("table()",function(e){var t=(e=this.tables(e)).context;return t.length?new Ve(t[0]):e}),Ue("tables().nodes()","table().node()",function(){return this.iterator("table",function(e){return e.nTable},1)}),Ue("tables().body()","table().body()",function(){return this.iterator("table",function(e){return e.nTBody},1)}),Ue("tables().header()","table().header()",function(){return this.iterator("table",function(e){return e.nTHead},1)}),Ue("tables().footer()","table().footer()",function(){return this.iterator("table",function(e){return e.nTFoot},1)}),Ue("tables().containers()","table().container()",function(){return this.iterator("table",function(e){return e.nTableWrapper},1)}),We("draw()",function(e){return this.iterator("table",function(t){"page"===e?N(t):("string"==typeof e&&(e="full-hold"!==e),O(t,!1===e))})}),We("page()",function(e){return e===i?this.page.info().page:this.iterator("table",function(t){ue(t,e)})}),We("page.info()",function(){if(0===this.context.length)return i;var e=this.context[0],t=e._iDisplayStart,n=e.oFeatures.bPaginate?e._iDisplayLength:-1,r=e.fnRecordsDisplay(),o=-1===n;return{page:o?0:Math.floor(t/n),pages:o?1:Math.ceil(r/n),start:t,end:e.fnDisplayEnd(),length:n,recordsTotal:e.fnRecordsTotal(),recordsDisplay:r,serverSide:"ssp"===je(e)}}),We("page.len()",function(e){return e===i?0!==this.context.length?this.context[0]._iDisplayLength:i:this.iterator("table",function(t){ae(t,e)})});var xt=function(e,t,n){if(n){var i=new Ve(e);i.one("draw",function(){n(i.ajax.json())})}if("ssp"==je(e))O(e,t);else{de(e,!0);var r=e.jqXHR;r&&4!==r.readyState&&r.abort(),H(e,[],function(n){A(e);for(var i=0,r=(n=U(e,n)).length;i<r;i++)x(e,n[i]);O(e,t),de(e,!1)})}};We("ajax.json()",function(){var e=this.context;if(0<e.length)return e[0].json}),We("ajax.params()",function(){var e=this.context;if(0<e.length)return e[0].oAjaxData}),We("ajax.reload()",function(e,t){return this.iterator("table",function(n){xt(n,!1===t,e)})}),We("ajax.url()",function(t){var n=this.context;return t===i?0===n.length?i:(n=n[0]).ajax?e.isPlainObject(n.ajax)?n.ajax.url:n.ajax:n.sAjaxSource:this.iterator("table",function(n){e.isPlainObject(n.ajax)?n.ajax.url=t:n.ajax=t})}),We("ajax.url().load()",function(e,t){return this.iterator("table",function(n){xt(n,!1===t,e)})});var wt=function(t,n,r,o,a){var s,l,u,c,d,f,h=[];for(u=typeof n,n&&"string"!==u&&"function"!==u&&n.length!==i||(n=[n]),u=0,c=n.length;u<c;u++)for(d=0,f=(l=n[u]&&n[u].split&&!n[u].match(/[\[\(:]/)?n[u].split(","):[n[u]]).length;d<f;d++)(s=r("string"==typeof l[d]?e.trim(l[d]):l[d]))&&s.length&&(h=h.concat(s));if((t=Be.selector[t]).length)for(u=0,c=t.length;u<c;u++)h=t[u](o,a,h);return lt(h)},Ct=function(t){return t||(t={}),t.filter&&t.search===i&&(t.search=t.filter),e.extend({search:"none",order:"current",page:"all"},t)},St=function(e){for(var t=0,n=e.length;t<n;t++)if(0<e[t].length)return e[0]=e[t],e[0].length=1,e.length=1,e.context=[e.context[t]],e;return e.length=0,e},_t=function(t,n){var i,r,o,a=[],s=t.aiDisplay;i=t.aiDisplayMaster;var l=n.search;if(r=n.order,o=n.page,"ssp"==je(t))return"removed"===l?[]:at(0,i.length);if("current"==o)for(i=t._iDisplayStart,r=t.fnDisplayEnd();i<r;i++)a.push(s[i]);else if("current"==r||"applied"==r)a="none"==l?i.slice():"applied"==l?s.slice():e.map(i,function(t){return-1===e.inArray(t,s)?t:null});else if("index"==r||"original"==r)for(i=0,r=t.aoData.length;i<r;i++)"none"==l?a.push(i):(-1===(o=e.inArray(i,s))&&"removed"==l||0<=o&&"applied"==l)&&a.push(i);return a};We("rows()",function(t,n){t===i?t="":e.isPlainObject(t)&&(n=t,t="");var n=Ct(n),r=this.iterator("table",function(r){var o,a=n;return wt("row",t,function(t){var n=et(t);if(null!==n&&!a)return[n];if(o||(o=_t(r,a)),null!==n&&-1!==e.inArray(n,o))return[n];if(null===t||t===i||""===t)return o;if("function"==typeof t)return e.map(o,function(e){var n=r.aoData[e];return t(e,n._aData,n.nTr)?e:null});if(n=st(ot(r.aoData,o,"nTr")),t.nodeName)return t._DT_RowIndex!==i?[t._DT_RowIndex]:t._DT_CellIndex?[t._DT_CellIndex.row]:(n=e(t).closest("*[data-dt-row]")).length?[n.data("dt-row")]:[];if("string"==typeof t&&"#"===t.charAt(0)){var s=r.aIds[t.replace(/^#/,"")];if(s!==i)return[s.idx]}return e(n).filter(t).map(function(){return this._DT_RowIndex}).toArray()},r,a)},1);return r.selector.rows=t,r.selector.opts=n,r}),We("rows().nodes()",function(){return this.iterator("row",function(e,t){return e.aoData[t].nTr||i},1)}),We("rows().data()",function(){return this.iterator(!0,"rows",function(e,t){return ot(e.aoData,t,"_aData")},1)}),Ue("rows().cache()","row().cache()",function(e){return this.iterator("row",function(t,n){var i=t.aoData[n];return"search"===e?i._aFilterData:i._aSortData},1)}),Ue("rows().invalidate()","row().invalidate()",function(e){return this.iterator("row",function(t,n){D(t,n,e)})}),Ue("rows().indexes()","row().index()",function(){return this.iterator("row",function(e,t){return t},1)}),Ue("rows().ids()","row().id()",function(e){for(var t=[],n=this.context,i=0,r=n.length;i<r;i++)for(var o=0,a=this[i].length;o<a;o++){var s=n[i].rowIdFn(n[i].aoData[this[i][o]]._aData);t.push((!0===e?"#":"")+s)}return new Ve(n,t)}),Ue("rows().remove()","row().remove()",function(){var e=this;return this.iterator("row",function(t,n,r){var o,a,s,l,u,c=t.aoData,d=c[n];for(c.splice(n,1),o=0,a=c.length;o<a;o++)if(s=c[o],u=s.anCells,null!==s.nTr&&(s.nTr._DT_RowIndex=o),null!==u)for(s=0,l=u.length;s<l;s++)u[s]._DT_CellIndex.row=o;P(t.aiDisplayMaster,n),P(t.aiDisplay,n),P(e[r],n,!1),Ne(t),(n=t.rowIdFn(d._aData))!==i&&delete t.aIds[n]}),this.iterator("table",function(e){for(var t=0,n=e.aoData.length;t<n;t++)e.aoData[t].idx=t}),this}),We("rows.add()",function(t){var n=this.iterator("table",function(e){var n,i,r,o=[];for(i=0,r=t.length;i<r;i++)(n=t[i]).nodeName&&"TR"===n.nodeName.toUpperCase()?o.push(w(e,n)[0]):o.push(x(e,n));return o},1),i=this.rows(-1);return i.pop(),e.merge(i,n),i}),We("row()",function(e,t){return St(this.rows(e,t))}),We("row().data()",function(e){var t=this.context;return e===i?t.length&&this.length?t[0].aoData[this[0]]._aData:i:(t[0].aoData[this[0]]._aData=e,D(t[0],this[0],"data"),this)}),We("row().node()",function(){var e=this.context;return e.length&&this.length?e[0].aoData[this[0]].nTr||null:null}),We("row.add()",function(t){t instanceof e&&t.length&&(t=t[0]);var n=this.iterator("table",function(e){return t.nodeName&&"TR"===t.nodeName.toUpperCase()?w(e,t)[0]:x(e,t)});return this.row(n[0])});var kt=function(e,t){var n=e.context;n.length&&(n=n[0].aoData[t!==i?t:e[0]])&&n._details&&(n._details.remove(),n._detailsShow=i,n._details=i)},Tt=function(e,t){var n=e.context;if(n.length&&e.length){var i=n[0].aoData[e[0]];if(i._details){(i._detailsShow=t)?i._details.insertAfter(i.nTr):i._details.detach();var r=n[0],o=new Ve(r),a=r.aoData;o.off("draw.dt.DT_details column-visibility.dt.DT_details destroy.dt.DT_details"),0<rt(a,"_details").length&&(o.on("draw.dt.DT_details",function(e,t){r===t&&o.rows({page:"current"}).eq(0).each(function(e){(e=a[e])._detailsShow&&e._details.insertAfter(e.nTr)})}),o.on("column-visibility.dt.DT_details",function(e,t){if(r===t)for(var n,i=v(t),o=0,s=a.length;o<s;o++)(n=a[o])._details&&n._details.children("td[colspan]").attr("colspan",i)}),o.on("destroy.dt.DT_details",function(e,t){if(r===t)for(var n=0,i=a.length;n<i;n++)a[n]._details&&kt(o,n)}))}}};We("row().child()",function(t,n){o=this.context;if(t===i)return o.length&&this.length?o[0].aoData[this[0]]._details:i;if(!0===t)this.child.show();else if(!1===t)kt(this);else if(o.length&&this.length){var r=o[0],o=o[0].aoData[this[0]],a=[],s=function(t,n){if(e.isArray(t)||t instanceof e)for(var i=0,o=t.length;i<o;i++)s(t[i],n);else t.nodeName&&"tr"===t.nodeName.toLowerCase()?a.push(t):(i=e("<tr><td/></tr>").addClass(n),e("td",i).addClass(n).html(t)[0].colSpan=v(r),a.push(i[0]))};s(t,n),o._details&&o._details.detach(),o._details=e(a),o._detailsShow&&o._details.insertAfter(o.nTr)}return this}),We(["row().child.show()","row().child().show()"],function(){return Tt(this,!0),this}),We(["row().child.hide()","row().child().hide()"],function(){return Tt(this,!1),this}),We(["row().child.remove()","row().child().remove()"],function(){return kt(this),this}),We("row().child.isShown()",function(){var e=this.context;return!(!e.length||!this.length)&&(e[0].aoData[this[0]]._detailsShow||!1)});var Mt=/^([^:]+):(name|visIdx|visible)$/,At=function(e,t,n,i,r){for(var n=[],i=0,o=r.length;i<o;i++)n.push(C(e,r[i],t));return n};We("columns()",function(t,n){t===i?t="":e.isPlainObject(t)&&(n=t,t="");var n=Ct(n),r=this.iterator("table",function(i){var r=t,o=n,a=i.aoColumns,s=rt(a,"sName"),l=rt(a,"nTh");return wt("column",r,function(t){var n=et(t);if(""===t)return at(a.length);if(null!==n)return[n>=0?n:a.length+n];if("function"==typeof t){var r=_t(i,o);return e.map(a,function(e,n){return t(n,At(i,n,0,0,r),l[n])?n:null})}var u="string"==typeof t?t.match(Mt):"";if(u)switch(u[2]){case"visIdx":case"visible":if((n=parseInt(u[1],10))<0){var c=e.map(a,function(e,t){return e.bVisible?t:null});return[c[c.length+n]]}return[p(i,n)];case"name":return e.map(s,function(e,t){return e===u[1]?t:null});default:return[]}return t.nodeName&&t._DT_CellIndex?[t._DT_CellIndex.column]:(n=e(l).filter(t).map(function(){return e.inArray(this,l)}).toArray()).length||!t.nodeName?n:(n=e(t).closest("*[data-dt-column]")).length?[n.data("dt-column")]:[]},i,o)},1);return r.selector.cols=t,r.selector.opts=n,r}),Ue("columns().header()","column().header()",function(){return this.iterator("column",function(e,t){return e.aoColumns[t].nTh},1)}),Ue("columns().footer()","column().footer()",function(){return this.iterator("column",function(e,t){return e.aoColumns[t].nTf},1)}),Ue("columns().data()","column().data()",function(){return this.iterator("column-rows",At,1)}),Ue("columns().dataSrc()","column().dataSrc()",function(){return this.iterator("column",function(e,t){return e.aoColumns[t].mData},1)}),Ue("columns().cache()","column().cache()",function(e){return this.iterator("column-rows",function(t,n,i,r,o){return ot(t.aoData,o,"search"===e?"_aFilterData":"_aSortData",n)},1)}),Ue("columns().nodes()","column().nodes()",function(){return this.iterator("column-rows",function(e,t,n,i,r){return ot(e.aoData,r,"anCells",t)},1)}),Ue("columns().visible()","column().visible()",function(t,n){var r=this.iterator("column",function(n,r){if(t===i)return n.aoColumns[r].bVisible;var o,a,s,l=n.aoColumns,u=l[r],c=n.aoData;if(t!==i&&u.bVisible!==t){if(t){var d=e.inArray(!0,rt(l,"bVisible"),r+1);for(o=0,a=c.length;o<a;o++)s=c[o].nTr,l=c[o].anCells,s&&s.insertBefore(l[r],l[d]||null)}else e(rt(n.aoData,"anCells",r)).detach();u.bVisible=t,L(n,n.aoHeader),L(n,n.aoFooter),Me(n)}});return t!==i&&(this.iterator("column",function(e,i){Le(e,null,"column-visibility",[e,i,t,n])}),(n===i||n)&&this.columns.adjust()),r}),Ue("columns().indexes()","column().index()",function(e){return this.iterator("column",function(t,n){return"visible"===e?g(t,n):n},1)}),We("columns.adjust()",function(){return this.iterator("table",function(e){h(e)},1)}),We("column.index()",function(e,t){if(0!==this.context.length){var n=this.context[0];if("fromVisible"===e||"toData"===e)return p(n,t);if("fromData"===e||"toVisible"===e)return g(n,t)}}),We("column()",function(e,t){return St(this.columns(e,t))}),We("cells()",function(t,n,r){if(e.isPlainObject(t)&&(t.row===i?(r=t,t=null):(r=n,n=null)),e.isPlainObject(n)&&(r=n,n=null),null===n||n===i)return this.iterator("table",function(n){var o,a,s,l,u,c,d,f=t,h=Ct(r),p=n.aoData,g=_t(n,h),v=st(ot(p,g,"anCells")),m=e([].concat.apply([],v)),b=n.aoColumns.length;return wt("cell",f,function(t){var r="function"==typeof t;if(null===t||t===i||r){for(a=[],s=0,l=g.length;s<l;s++)for(o=g[s],u=0;u<b;u++)c={row:o,column:u},r?(d=p[o],t(c,C(n,o,u),d.anCells?d.anCells[u]:null)&&a.push(c)):a.push(c);return a}return e.isPlainObject(t)?[t]:(r=m.filter(t).map(function(e,t){return{row:t._DT_CellIndex.row,column:t._DT_CellIndex.column}}).toArray()).length||!t.nodeName?r:(d=e(t).closest("*[data-dt-row]")).length?[{row:d.data("dt-row"),column:d.data("dt-column")}]:[]},n,h)});var o,a,s,l,u,c=this.columns(n,r),d=this.rows(t,r),f=this.iterator("table",function(e,t){for(o=[],a=0,s=d[t].length;a<s;a++)for(l=0,u=c[t].length;l<u;l++)o.push({row:d[t][a],column:c[t][l]});return o},1);return e.extend(f.selector,{cols:n,rows:t,opts:r}),f}),Ue("cells().nodes()","cell().node()",function(){return this.iterator("cell",function(e,t,n){return(e=e.aoData[t])&&e.anCells?e.anCells[n]:i},1)}),We("cells().data()",function(){return this.iterator("cell",function(e,t,n){return C(e,t,n)},1)}),Ue("cells().cache()","cell().cache()",function(e){return e="search"===e?"_aFilterData":"_aSortData",this.iterator("cell",function(t,n,i){return t.aoData[n][e][i]},1)}),Ue("cells().render()","cell().render()",function(e){return this.iterator("cell",function(t,n,i){return C(t,n,i,e)},1)}),Ue("cells().indexes()","cell().index()",function(){return this.iterator("cell",function(e,t,n){return{row:t,column:n,columnVisible:g(e,n)}},1)}),Ue("cells().invalidate()","cell().invalidate()",function(e){return this.iterator("cell",function(t,n,i){D(t,n,e,i)})}),We("cell()",function(e,t,n){return St(this.cells(e,t,n))}),We("cell().data()",function(e){var t=this.context,n=this[0];return e===i?t.length&&n.length?C(t[0],n[0].row,n[0].column):i:(S(t[0],n[0].row,n[0].column,e),D(t[0],n[0].row,"data",n[0].column),this)}),We("order()",function(t,n){var r=this.context;return t===i?0!==r.length?r[0].aaSorting:i:("number"==typeof t?t=[[t,n]]:t.length&&!e.isArray(t[0])&&(t=Array.prototype.slice.call(arguments)),this.iterator("table",function(e){e.aaSorting=t.slice()}))}),We("order.listener()",function(e,t,n){return this.iterator("table",function(i){_e(i,e,t,n)})}),We("order.fixed()",function(t){if(!t){var n=(n=this.context).length?n[0].aaSortingFixed:i;return e.isArray(n)?{pre:n}:n}return this.iterator("table",function(n){n.aaSortingFixed=e.extend(!0,{},t)})}),We(["columns().order()","column().order()"],function(t){var n=this;return this.iterator("table",function(i,r){var o=[];e.each(n[r],function(e,n){o.push([n,t])}),i.aaSorting=o})}),We("search()",function(t,n,r,o){var a=this.context;return t===i?0!==a.length?a[0].oPreviousSearch.sSearch:i:this.iterator("table",function(i){i.oFeatures.bFilter&&Y(i,e.extend({},i.oPreviousSearch,{sSearch:t+"",bRegex:null!==n&&n,bSmart:null===r||r,bCaseInsensitive:null===o||o}),1)})}),Ue("columns().search()","column().search()",function(t,n,r,o){return this.iterator("column",function(a,s){var l=a.aoPreSearchCols;if(t===i)return l[s].sSearch;a.oFeatures.bFilter&&(e.extend(l[s],{sSearch:t+"",bRegex:null!==n&&n,bSmart:null===r||r,bCaseInsensitive:null===o||o}),Y(a,a.oPreviousSearch,1))})}),We("state()",function(){return this.context.length?this.context[0].oSavedState:null}),We("state.clear()",function(){return this.iterator("table",function(e){e.fnStateSaveCallback.call(e.oInstance,e,{})})}),We("state.loaded()",function(){return this.context.length?this.context[0].oLoadedState:null}),We("state.save()",function(){return this.iterator("table",function(e){Me(e)})}),Ge.versionCheck=Ge.fnVersionCheck=function(e){for(var t,n,i=Ge.version.split("."),r=0,o=(e=e.split(".")).length;r<o;r++)if(t=parseInt(i[r],10)||0,n=parseInt(e[r],10)||0,t!==n)return t>n;return!0},Ge.isDataTable=Ge.fnIsDataTable=function(t){var n=e(t).get(0),i=!1;return t instanceof Ge.Api||(e.each(Ge.settings,function(t,r){var o=r.nScrollHead?e("table",r.nScrollHead)[0]:null,a=r.nScrollFoot?e("table",r.nScrollFoot)[0]:null;r.nTable!==n&&o!==n&&a!==n||(i=!0)}),i)},Ge.tables=Ge.fnTables=function(t){var n=!1;e.isPlainObject(t)&&(n=t.api,t=t.visible);var i=e.map(Ge.settings,function(n){if(!t||t&&e(n.nTable).is(":visible"))return n.nTable});return n?new Ve(i):i},Ge.camelToHungarian=o,We("$()",function(t,n){var i=this.rows(n).nodes(),i=e(i);return e([].concat(i.filter(t).toArray(),i.find(t).toArray()))}),e.each(["on","one","off"],function(t,n){We(n+"()",function(){var t=Array.prototype.slice.call(arguments);t[0]=e.map(t[0].split(/\s/),function(e){return e.match(/\.dt\b/)?e:e+".dt"}).join(" ");var i=e(this.tables().nodes());return i[n].apply(i,t),this})}),We("clear()",function(){return this.iterator("table",function(e){A(e)})}),We("settings()",function(){return new Ve(this.context,this.context)}),We("init()",function(){var e=this.context;return e.length?e[0].oInit:null}),We("data()",function(){return this.iterator("table",function(e){return rt(e.aoData,"_aData")}).flatten()}),We("destroy()",function(n){return n=n||!1,this.iterator("table",function(i){var r,o=i.nTableWrapper.parentNode,a=i.oClasses,s=i.nTable,l=i.nTBody,u=i.nTHead,c=i.nTFoot,d=e(s),l=e(l),f=e(i.nTableWrapper),h=e.map(i.aoData,function(e){return e.nTr});i.bDestroying=!0,Le(i,"aoDestroyCallback","destroy",[i]),n||new Ve(i).columns().visible(!0),f.off(".DT").find(":not(tbody *)").off(".DT"),e(t).off(".DT-"+i.sInstance),s!=u.parentNode&&(d.children("thead").detach(),d.append(u)),c&&s!=c.parentNode&&(d.children("tfoot").detach(),d.append(c)),i.aaSorting=[],i.aaSortingFixed=[],ke(i),e(h).removeClass(i.asStripeClasses.join(" ")),e("th, td",u).removeClass(a.sSortable+" "+a.sSortableAsc+" "+a.sSortableDesc+" "+a.sSortableNone),i.bJUI&&(e("th span."+a.sSortIcon+", td span."+a.sSortIcon,u).detach(),e("th, td",u).each(function(){var t=e("div."+a.sSortJUIWrapper,this);e(this).append(t.contents()),t.detach()})),l.children().detach(),l.append(h),d[u=n?"remove":"detach"](),f[u](),!n&&o&&(o.insertBefore(s,i.nTableReinsertBefore),d.css("width",i.sDestroyWidth).removeClass(a.sTable),(r=i.asDestroyStripes.length)&&l.children().each(function(t){e(this).addClass(i.asDestroyStripes[t%r])})),-1!==(o=e.inArray(i,Ge.settings))&&Ge.settings.splice(o,1)})}),e.each(["column","row","cell"],function(e,t){We(t+"s().every()",function(e){var n=this.selector.opts,r=this;return this.iterator(t,function(o,a,s,l,u){e.call(r[t](a,"cell"===t?s:n,"cell"===t?n:i),a,s,l,u)})})}),We("i18n()",function(t,n,r){var o=this.context[0];return(t=k(t)(o.oLanguage))===i&&(t=n),r!==i&&e.isPlainObject(t)&&(t=t[r]!==i?t[r]:t._),t.replace("%d",r)}),Ge.version="1.10.15",Ge.settings=[],Ge.models={},Ge.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0},Ge.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null,idx:-1},Ge.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:!1,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null},Ge.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bJQueryUI:!1,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollCollapse:!1,bServerSide:!1,bSort:!0,bSortMulti:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(e){try{return JSON.parse((-1===e.iStateDuration?sessionStorage:localStorage).getItem("DataTables_"+e.sInstance+"_"+location.pathname))}catch(e){}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(e,t){try{(-1===e.iStateDuration?sessionStorage:localStorage).setItem("DataTables_"+e.sInstance+"_"+location.pathname,JSON.stringify(t))}catch(e){}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sSearchPlaceholder:"",sUrl:"",sZeroRecords:"No matching records found"},oSearch:e.extend({},Ge.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",searchDelay:null,sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null,rowId:"DT_RowId"},r(Ge.defaults),Ge.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bVisible:!0,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null},r(Ge.defaults.column),Ge.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1,bScrollbarLeft:!1,bBounding:!1,barWidth:0},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aIds:{},aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,searchDelay:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oSavedState:null,oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:!0,jqXHR:null,json:i,oAjaxData:i,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,bJUI:null,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return"ssp"==je(this)?1*this._iRecordsTotal:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return"ssp"==je(this)?1*this._iRecordsDisplay:this.aiDisplay.length},fnDisplayEnd:function(){var e=this._iDisplayLength,t=this._iDisplayStart,n=t+e,i=this.aiDisplay.length,r=this.oFeatures,o=r.bPaginate;return r.bServerSide?!1===o||-1===e?t+i:Math.min(t+e,this._iRecordsDisplay):!o||n>i||-1===e?i:n},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{},rowIdFn:null,rowId:null},Ge.ext=Be={buttons:{},classes:{},builder:"-source-",errMode:"alert",feature:[],search:[],selector:{cell:[],column:[],row:[]},internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:Ge.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:Ge.version},e.extend(Be,{afnFiltering:Be.search,aTypes:Be.type.detect,ofnSearch:Be.type.search,oSort:Be.type.order,afnSortData:Be.order,aoFeatures:Be.feature,oApi:Be.internal,oStdClasses:Be.classes,oPagination:Be.pager}),e.extend(Ge.ext.classes,{sTable:"dataTable",sNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",sPageButtonDisabled:"disabled",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",sLengthSelect:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""});var Pt="ui-state-default",Dt="css_right ui-icon ui-icon-",Et="fg-toolbar ui-toolbar ui-widget-header ui-helper-clearfix";e.extend(Ge.ext.oJUIClasses,Ge.ext.classes,{sPageButton:"fg-button ui-button "+Pt,sPageButtonActive:"ui-state-disabled",sPageButtonDisabled:"ui-state-disabled",sPaging:"dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi ui-buttonset-multi paging_",sSortAsc:Pt+" sorting_asc",sSortDesc:Pt+" sorting_desc",sSortable:Pt+" sorting",sSortableAsc:Pt+" sorting_asc_disabled",sSortableDesc:Pt+" sorting_desc_disabled",sSortableNone:Pt+" sorting_disabled",sSortJUIAsc:Dt+"triangle-1-n",sSortJUIDesc:Dt+"triangle-1-s",sSortJUI:Dt+"carat-2-n-s",sSortJUIAscAllowed:Dt+"carat-1-n",sSortJUIDescAllowed:Dt+"carat-1-s",sSortJUIWrapper:"DataTables_sort_wrapper",sSortIcon:"DataTables_sort_icon",sScrollHead:"dataTables_scrollHead "+Pt,sScrollFoot:"dataTables_scrollFoot "+Pt,sHeaderTH:Pt,sFooterTH:Pt,sJUIHeader:Et+" ui-corner-tl ui-corner-tr",sJUIFooter:Et+" ui-corner-bl ui-corner-br"});var Rt=Ge.ext.pager;e.extend(Rt,{simple:function(){return["previous","next"]},full:function(){return["first","previous","next","last"]},numbers:function(e,t){return[ze(e,t)]},simple_numbers:function(e,t){return["previous",ze(e,t),"next"]},full_numbers:function(e,t){return["first","previous",ze(e,t),"next","last"]},first_last_numbers:function(e,t){return["first",ze(e,t),"last"]},_numbers:ze,numbers_length:7}),e.extend(!0,Ge.ext.renderer,{pageButton:{_:function(t,r,o,a,s,l){var u,c,d,f=t.oClasses,h=t.oLanguage.oPaginate,p=t.oLanguage.oAria.paginate||{},g=0,v=function(n,i){var r,a,d,m;for(r=0,a=i.length;r<a;r++)if(m=i[r],e.isArray(m))d=e("<"+(m.DT_el||"div")+"/>").appendTo(n),v(d,m);else{switch(u=null,c="",m){case"ellipsis":n.append('<span class="ellipsis">&#x2026;</span>');break;case"first":u=h.sFirst,c=m+(s>0?"":" "+f.sPageButtonDisabled);break;case"previous":u=h.sPrevious,c=m+(s>0?"":" "+f.sPageButtonDisabled);break;case"next":u=h.sNext,c=m+(s<l-1?"":" "+f.sPageButtonDisabled);break;case"last":u=h.sLast,c=m+(s<l-1?"":" "+f.sPageButtonDisabled);break;default:u=m+1,c=s===m?f.sPageButtonActive:""}null!==u&&(Ie(d=e("<a>",{class:f.sPageButton+" "+c,"aria-controls":t.sTableId,"aria-label":p[m],"data-dt-idx":g,tabindex:t.iTabIndex,id:0===o&&"string"==typeof m?t.sTableId+"_"+m:null}).html(u).appendTo(n),{action:m},function(e){ue(t,e.data.action,!0)}),g++)}};try{d=e(r).find(n.activeElement).data("dt-idx")}catch(e){}v(e(r).empty(),a),d!==i&&e(r).find("[data-dt-idx="+d+"]").focus()}}}),e.extend(Ge.ext.type.detect,[function(e,t){var n=t.oLanguage.sDecimal;return nt(e,n)?"num"+n:null},function(e){if(e&&!(e instanceof Date)&&!Je.test(e))return null;var t=Date.parse(e);return null!==t&&!isNaN(t)||Ke(e)?"date":null},function(e,t){var n=t.oLanguage.sDecimal;return nt(e,n,!0)?"num-fmt"+n:null},function(e,t){var n=t.oLanguage.sDecimal;return it(e,n)?"html-num"+n:null},function(e,t){var n=t.oLanguage.sDecimal;return it(e,n,!0)?"html-num-fmt"+n:null},function(e){return Ke(e)||"string"==typeof e&&-1!==e.indexOf("<")?"html":null}]),e.extend(Ge.ext.type.search,{html:function(e){return Ke(e)?e:"string"==typeof e?e.replace(Xe," ").replace($e,""):""},string:function(e){return Ke(e)?e:"string"==typeof e?e.replace(Xe," "):e}});var It=function(e,t,n,i){return 0===e||e&&"-"!==e?(t&&(e=tt(e,t)),e.replace&&(n&&(e=e.replace(n,"")),i&&(e=e.replace(i,""))),1*e):-1/0};e.extend(Be.type.order,{"date-pre":function(e){return Date.parse(e)||-1/0},"html-pre":function(e){return Ke(e)?"":e.replace?e.replace(/<.*?>/g,"").toLowerCase():e+""},"string-pre":function(e){return Ke(e)?"":"string"==typeof e?e.toLowerCase():e.toString?e.toString():""},"string-asc":function(e,t){return e<t?-1:e>t?1:0},"string-desc":function(e,t){return e<t?1:e>t?-1:0}}),qe(""),e.extend(!0,Ge.ext.renderer,{header:{_:function(t,n,i,r){e(t.nTable).on("order.dt.DT",function(e,o,a,s){t===o&&(e=i.idx,n.removeClass(i.sSortingClass+" "+r.sSortAsc+" "+r.sSortDesc).addClass("asc"==s[e]?r.sSortAsc:"desc"==s[e]?r.sSortDesc:i.sSortingClass))})},jqueryui:function(t,n,i,r){e("<div/>").addClass(r.sSortJUIWrapper).append(n.contents()).append(e("<span/>").addClass(r.sSortIcon+" "+i.sSortingClassJUI)).appendTo(n),e(t.nTable).on("order.dt.DT",function(e,o,a,s){t===o&&(e=i.idx,n.removeClass(r.sSortAsc+" "+r.sSortDesc).addClass("asc"==s[e]?r.sSortAsc:"desc"==s[e]?r.sSortDesc:i.sSortingClass),n.find("span."+r.sSortIcon).removeClass(r.sSortJUIAsc+" "+r.sSortJUIDesc+" "+r.sSortJUI+" "+r.sSortJUIAscAllowed+" "+r.sSortJUIDescAllowed).addClass("asc"==s[e]?r.sSortJUIAsc:"desc"==s[e]?r.sSortJUIDesc:i.sSortingClassJUI))})}}});var Ft=function(e){return"string"==typeof e?e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):e};return Ge.render={number:function(e,t,n,i,r){return{display:function(o){if("number"!=typeof o&&"string"!=typeof o)return o;var a=0>o?"-":"",s=parseFloat(o);return isNaN(s)?Ft(o):(s=s.toFixed(n),o=Math.abs(s),s=parseInt(o,10),o=n?t+(o-s).toFixed(n).substring(2):"",a+(i||"")+s.toString().replace(/\B(?=(\d{3})+(?!\d))/g,e)+o+(r||""))}}},text:function(){return{display:Ft}}},e.extend(Ge.ext.internal,{_fnExternApiFunc:He,_fnBuildAjax:H,_fnAjaxUpdate:B,_fnAjaxParameters:V,_fnAjaxUpdateDraw:W,_fnAjaxDataSrc:U,_fnAddColumn:d,_fnColumnOptions:f,_fnAdjustColumnSizing:h,_fnVisibleToColumnIndex:p,_fnColumnIndexToVisible:g,_fnVisbleColumns:v,_fnGetColumns:m,_fnColumnTypes:b,_fnApplyColumnDefs:y,_fnHungarianMap:r,_fnCamelToHungarian:o,_fnLanguageCompat:a,_fnBrowserDetect:u,_fnAddData:x,_fnAddTr:w,_fnNodeToDataIndex:function(e,t){return t._DT_RowIndex!==i?t._DT_RowIndex:null},_fnNodeToColumnIndex:function(t,n,i){return e.inArray(i,t.aoData[n].anCells)},_fnGetCellData:C,_fnSetCellData:S,_fnSplitObjNotation:_,_fnGetObjectDataFn:k,_fnSetObjectDataFn:T,_fnGetDataMaster:M,_fnClearTable:A,_fnDeleteIndex:P,_fnInvalidate:D,_fnGetRowElements:E,_fnCreateTr:R,_fnBuildHead:F,_fnDrawHead:L,_fnDraw:N,_fnReDraw:O,_fnAddOptionsHtml:j,_fnDetectHeader:z,_fnGetUniqueThs:q,_fnFeatureHtmlFilter:G,_fnFilterComplete:Y,_fnFilterCustom:X,_fnFilterColumn:$,_fnFilter:J,_fnFilterCreateSearch:Q,_fnEscapeRegex:ft,_fnFilterData:Z,_fnFeatureHtmlInfo:te,_fnUpdateInfo:ne,_fnInfoMacros:ie,_fnInitialise:re,_fnInitComplete:oe,_fnLengthChange:ae,_fnFeatureHtmlLength:se,_fnFeatureHtmlPaginate:le,_fnPageChange:ue,_fnFeatureHtmlProcessing:ce,_fnProcessingDisplay:de,_fnFeatureHtmlTable:fe,_fnScrollDraw:he,_fnApplyToChildren:pe,_fnCalculateColumnWidths:ge,_fnThrottle:vt,_fnConvertToWidth:ve,_fnGetWidestNode:me,_fnGetMaxLenString:be,_fnStringToCss:ye,_fnSortFlatten:xe,_fnSort:we,_fnSortAria:Ce,_fnSortListener:Se,_fnSortAttachListener:_e,_fnSortingClasses:ke,_fnSortData:Te,_fnSaveState:Me,_fnLoadState:Ae,_fnSettingsFromNode:Pe,_fnLog:De,_fnMap:Ee,_fnBindAction:Ie,_fnCallbackReg:Fe,_fnCallbackFire:Le,_fnLengthOverflow:Ne,_fnRenderer:Oe,_fnDataSource:je,_fnRowAttributes:I,_fnCalculateEnd:function(){}}),e.fn.dataTable=Ge,Ge.$=e,e.fn.dataTableSettings=Ge.settings,e.fn.dataTableExt=Ge.ext,e.fn.DataTable=function(t){return e(this).dataTable(t).api()},e.each(Ge,function(t,n){e.fn.DataTable[t]=n}),e.fn.dataTable}),function(e,t,n){"use strict";function i(e,n,i,o){var a,s={},l=t("#menu-afro"),u=t("#menu-emro"),c=t("#menu-euro"),d=t("#menu-paho"),f=t("#menu-searo"),h=t("#menu-wpro"),p={};e.forEach(function(e){var t=e.ISO3,n=e.Region;p[t]={region:n,income:e["income category"]};for(var r in i)t===i[r]&&(s[t]=r);switch(a='<a class="item" href="#" data-value="'+t+'"><i class="'+s[t].toLowerCase()+' flag"></i>'+e.Country+"</a>",n){case"AFRO":l.append(a);break;case"EMRO":u.append(a);break;case"EURO":c.append(a);break;case"PAHO":d.append(a);break;case"SEARO":f.append(a);break;case"WPRO":h.append(a)}}),r(e,n,p,o,i)}function r(n,i,r,c,d){var f=document.getElementById("viz-global-a").getContext("2d"),h=(new e(f,{type:"bar",data:{labels:["Pre-vac","2015 est.","Pre-vac","2015 est."],datasets:[{type:"line",pointBackgroundColor:"#f57f17",showLine:!1,fill:!1,pointRadius:3,data:[3.5,.9,3.3,2.7]},{type:"line",pointBackgroundColor:"#f57f17",showLine:!1,fill:!1,pointRadius:3,data:[6.8,2.2,6.1,5]},{type:"bar",backgroundColor:"#c62828",label:"world",data:[4.6,1.3,4.3,3.5]}]},options:{title:{display:!0},legend:{display:!1,position:"top",fullWidth:!1,onClick:null},tooltips:{enabled:!1,mode:"index",position:"nearest",custom:function(e){e.dataPoints?l(this,e,e.dataPoints[0].index,[4.6,1.3,4.3,3.5],[6.8,2.2,6.1,5],[3.5,.9,3.3,2.7],"%"):document.getElementById("chartjs-tooltip").remove()}},scales:{yAxes:[{ticks:{min:0}}],xAxes:[{barPercentage:.4}]}}}),document.getElementById("viz-global-b").getContext("2d")),p=(new e(h,{type:"bar",data:{labels:["Pre-vac","2015 est.","Pre-vac","2015 est."],datasets:[{type:"line",pointBackgroundColor:"#f57f17",showLine:!1,fill:!1,pointRadius:3,data:[23162,6098,240769,199231]},{type:"line",pointBackgroundColor:"#f57f17",showLine:!1,fill:!1,pointRadius:3,data:[45456,14589,442995,367134]},{type:"bar",backgroundColor:"#c62828",label:"world",data:[31036,8922,310367,256640]}]},options:{title:{display:!0},legend:{display:!1,position:"top",fullWidth:!1,onClick:null},tooltips:{enabled:!1,mode:"index",position:"nearest",custom:function(e){e.dataPoints?l(this,e,e.dataPoints[0].index,[31036,8922,310367,256640],[45456,14589,442995,367134],[23162,6098,240769,199231],"#"):document.getElementById("chartjs-tooltip").remove()}},scales:{yAxes:[{ticks:{callback:function(e,t,n){return e.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}}}],xAxes:[{barPercentage:.4}]}}}),document.getElementById("viz-global-c").getContext("2d")),g=(new e(p,{type:"bar",data:{labels:["Under 5 yrs","General pop"],datasets:[{type:"line",pointBackgroundColor:"#f57f17",showLine:!1,fill:!1,pointRadius:3,data:[15856,57615]},{type:"line",pointBackgroundColor:"#f57f17",showLine:!1,fill:!1,pointRadius:3,data:[32149,111884]},{type:"bar",backgroundColor:"#2196f3",label:"world",data:[22067,76818]}]},options:{title:{display:!0},legend:{display:!1,position:"top",fullWidth:!1,onClick:null},tooltips:{enabled:!1,mode:"index",position:"nearest",custom:function(e){e.dataPoints?l(this,e,e.dataPoints[0].index,[22067,76818],[32149,111884],[15856,57615],"#"):document.getElementById("chartjs-tooltip").remove()}},scales:{yAxes:[{ticks:{callback:function(e,t,n){return e.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}}}],xAxes:[{barPercentage:.4}]}}}),document.getElementById("vizC").getContext("2d")),v=new e(g,{type:"line",data:{datasets:[{label:"% infants vaccinated with birth dose of Hep B",borderColor:"#f9a825",pointBackgroundColor:"#f9a825",fill:!1},{label:"% infants vaccinated with 3 doses of Hep B",borderColor:"#2196f3",pointBackgroundColor:"#2196f3",fill:!1}]},options:{legend:{position:"bottom",labels:{usePointStyle:!0},onClick:null},scales:{yAxes:[{ticks:{min:0,max:100}}]},tooltips:{enabled:!1}}}),m=document.getElementById("vizD-1").getContext("2d"),b=new e(m,{type:"bar",data:{labels:["Pre-vac","2015 est.","Pre-vac","2015 est."],datasets:[{type:"line",pointBackgroundColor:"#f57f17",showLine:!1,fill:!1,pointRadius:3},{type:"line",pointBackgroundColor:"#f57f17",showLine:!1,fill:!1,pointRadius:3},{type:"bar",backgroundColor:"#c62828"}]},options:{title:{display:!1},legend:!1,scales:{yAxes:[{ticks:{min:0}}],xAxes:[{barPercentage:.4}]},tooltips:{enabled:!1,mode:"index",position:"nearest"}}}),y=document.getElementById("vizD-1b").getContext("2d"),x=new e(y,{type:"bar",data:{labels:["Pre-vac","2015 est.","Pre-vac","2015 est."],datasets:[{type:"line",pointBackgroundColor:"#f57f17",showLine:!1,fill:!1,pointRadius:3},{type:"line",pointBackgroundColor:"#f57f17",showLine:!1,fill:!1,pointRadius:3},{type:"bar",backgroundColor:"#7e57c2",label:"region"}]},options:{title:{display:!1},legend:!1,scales:{yAxes:[{ticks:{min:0}}],xAxes:[{barPercentage:.4}]},tooltips:{enabled:!1,mode:"index",position:"nearest"}}}),w=document.getElementById("vizD-1c").getContext("2d"),C=new e(w,{type:"bar",data:{labels:["Pre-vac","2015 est.","Pre-vac","2015 est."],datasets:[{type:"line",pointBackgroundColor:"#f57f17",showLine:!1,fill:!1,pointRadius:3},{type:"line",pointBackgroundColor:"#f57f17",showLine:!1,fill:!1,pointRadius:3},{type:"bar",backgroundColor:"#26a69a",label:"income"}]},options:{title:{display:!1},legend:!1,scales:{yAxes:[{ticks:{min:0}}],xAxes:[{barPercentage:.4}]},tooltips:{enabled:!1,mode:"index",position:"nearest"}}}),S={labels:["Pre-vac","2015 est.","Pre-vac","2015 est."],datasets:[{type:"line",pointBackgroundColor:"#f57f17",showLine:!1,fill:!1,pointRadius:3},{type:"line",pointBackgroundColor:"#f57f17",showLine:!1,fill:!1,pointRadius:3},{type:"bar",backgroundColor:"#c62828"}]},_=document.getElementById("vizD-2").getContext("2d"),k=new e(_,{type:"bar",data:S,options:{scaleBeginAtZero:!0,title:{display:!1},legend:!1,tooltips:{enabled:!1,mode:"index",position:"nearest"},scales:{yAxes:[{ticks:{callback:function(e,t,n){return e.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}}}],xAxes:[{barPercentage:.4}]}}}),T=document.getElementById("vizD-2b").getContext("2d"),M=new e(T,{type:"bar",data:{labels:["Pre-vac","2015 est.","Pre-vac","2015 est."],datasets:[{type:"line",pointBackgroundColor:"#f57f17",showLine:!1,fill:!1,pointRadius:3},{type:"line",pointBackgroundColor:"#f57f17",showLine:!1,fill:!1,pointRadius:3},{type:"bar",backgroundColor:"#7e57c2",label:"region"}]},options:{scaleBeginAtZero:!0,title:{display:!1},legend:!1,tooltips:{enabled:!1,mode:"index",position:"nearest"},scales:{yAxes:[{ticks:{callback:function(e,t,n){return e.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}}}],xAxes:[{barPercentage:.4}]}}}),A=document.getElementById("vizD-2c").getContext("2d"),P=new e(A,{type:"bar",data:{labels:["Pre-vac","2015 est.","Pre-vac","2015 est."],datasets:[{type:"line",pointBackgroundColor:"#f57f17",showLine:!1,fill:!1,pointRadius:3},{type:"line",pointBackgroundColor:"#f57f17",showLine:!1,fill:!1,pointRadius:3},{type:"bar",backgroundColor:"#26a69a",label:"income"}]},options:{scaleBeginAtZero:!0,title:{display:!1},legend:!1,tooltips:{enabled:!1,mode:"index",position:"nearest"},scales:{yAxes:[{ticks:{callback:function(e,t,n){return e.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}}}],xAxes:[{barPercentage:.4}]}}}),D={labels:["Under 5 yrs","General pop"],datasets:[{type:"line",pointBackgroundColor:"#f57f17",showLine:!1,fill:!1,pointRadius:3},{type:"line",pointBackgroundColor:"#f57f17",showLine:!1,fill:!1,pointRadius:3},{type:"bar",backgroundColor:"#2196f3"}]},E=document.getElementById("vizD-3").getContext("2d"),R=new e(E,{type:"bar",data:D,options:{title:{display:!1},legend:!1,tooltips:{enabled:!1,mode:"index",position:"nearest"},scales:{yAxes:[{ticks:{callback:function(e,t,n){return e.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}}}],xAxes:[{barPercentage:.4}]}}}),I={labels:["Under 5 yrs","General pop"],datasets:[{type:"line",pointBackgroundColor:"#f57f17",showLine:!1,fill:!1,pointRadius:3},{type:"line",pointBackgroundColor:"#f57f17",showLine:!1,fill:!1,pointRadius:3},{type:"bar",backgroundColor:"#7e57c2",label:"region"}]},F=document.getElementById("vizD-3b").getContext("2d"),L=new e(F,{type:"bar",data:I,options:{title:{display:!1},legend:!1,tooltips:{enabled:!1,mode:"index",position:"nearest"},scales:{yAxes:[{ticks:{callback:function(e,t,n){return e.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}}}],xAxes:[{barPercentage:.4}]}}}),N={labels:["Under 5 yrs","General pop"],datasets:[{type:"line",pointBackgroundColor:"#f57f17",showLine:!1,fill:!1,pointRadius:3},{type:"line",pointBackgroundColor:"#f57f17",showLine:!1,fill:!1,pointRadius:3},{type:"bar",backgroundColor:"#26a69a",label:"income"}]},O=document.getElementById("vizD-3c").getContext("2d"),j=new e(O,{type:"bar",data:N,options:{scaleBeginAtZero:!0,title:{display:!1},legend:!1,tooltips:{enabled:!1,mode:"index",position:"nearest"},scales:{yAxes:[{ticks:{callback:function(e,t,n){return e.toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}}}],xAxes:[{barPercentage:.4}]}}}),z=2015,q="DZA";o(n,z,q),a(n,i,z,q,v,b,x,C,k,M,P,R,L,j),s(i,q),u(n,c,i,z,q,v,b,x,C,k,M,P,R,L,j,r,d),t("#year-dropdown").dropdown({on:"hover",onChange:function(e,t,i){o(n,z=e,q)}}),t(".current-country").html('<i class="dz flag"></i> Algeria'),t(".regional-group").html(r[q].region),t(".income-group").html(r[q].income),t("#country-dropdown").dropdown({on:"hover",onChange:function(e,l,u){o(n,z,q=e),a(n,i,z,q,v,b,x,C,k,M,P,R,L,j),s(i,q),t("#dropdown-current-country").html(l),t(".current-country").html(l),t(".regional-group").html(r[q].region),t(".income-group").html(r[q].income)}})}function o(e,n,i){var r={"births-1980-1985":[1980,1985],"births-1985-1990":[1986,1990],"births-1990-1995":[1991,1995],"births-1995-2000":[1996,2e3],"births-2000-2005":[2001,2005],"births-2005-2010":[2006,2010],"births-2010-2015":[2011,2015]},o={"InfMort1985-1990":[1985,1990],"InfMort1990-1995":[1991,1995],"InfMort1995-2000":[1996,2e3],"InfMort2000-2005":[2001,2005],"InfMort2005-2010":[2006,2010],"InfMort2010-2015":[2011,2015]},a=t("#chartA-total-pop"),s=t("#chartA-total-pop-u5"),l=t("#chartA-births"),u=t("#chartA-infant-mortality"),c=t("#chartA-urban-population"),d=t("#chartA-births-attended"),f=t("#chartA-births-attended-year");t("#total-pop-year").html("("+n+")"),e.forEach(function(e){if(e.ISO3===i){a.html((1e3*e["pop"+n]).toLocaleString());for(var h=1990;h<=2015;h+=5)+n>=h&&(s.html((1e3*e["U5"+h]).toLocaleString()),c.html(Math.round(10*e["UrbPop"+h])/10+"%"),t("#under-five-pop-years").html("("+h+")"),t("#urban-pop-years").html("("+h+")"));""===s&&s.html("N/A");for(var p in r)+n>=r[p][0]&&+n<=r[p][1]&&(l.html((1e3*e[p]).toLocaleString()),t("#birth-years").html("("+(r[p][0]-1)+" &ndash; "+r[p][1]+")"));""===l.html()&&l.html("N/A");for(var p in o)+n>=o[p][0]&&+n<=o[p][1]&&(u.html(Math.round(10*e[p])/10+" per 1,000"),t("#infant-mortality-years").html("("+(o[p][0]-1)+" &ndash; "+o[p][1]+")"));""===l.html()&&u.html("N/A"),e.BirthSkilledPer?d.html(e.BirthSkilledPer):d.html("N/A"),e.BirthSkilledYear&&f.html("("+e.BirthSkilledYear+")")}})}function a(e,n,i,r,o,a,s,u,c,d,f,h,p,g){var v=t("#chartB-hepB-intro-year"),m=t("#chartB-hepB-birth-year"),b=t("#chartB-schedule"),y=t("#chartB-type"),x=[],w=[],C=[],S=[],_=[],k=[],T=[],M=[],A=[],P=[],D=[],E=[],R=[],I=[],F=[],L=[],N=[],O=[],j=[],z=[],q=[],H=[],B=[],V=[],W=[],U=[],G=[],Y=[],X=[],$=[];e.forEach(function(e){if(e.ISO3===r){v.html(Math.round(e.HepBintroduced)),m.html(Math.round(e.HepBintroducedBirth)),e.schedule?b.html(e.schedule):b.html("N/A"),y.html(e.Type);for(var t=1990;t<=2016;t++)e["Cov_HepB_BD_"+t]?x.push(e["Cov_HepB_BD_"+t]):x.push(null),e["Cov_HepB3_"+t]?w.push(e["Cov_HepB3_"+t]):w.push(null),C.push(String(t));S=[e.PreU5EstPre,e.PostU5EstPre,e.PreGPEstPre,e.PostGPEstPre],_=[e.PreU5EstPreLowCI,e.PostU5EstPreLowCI,e.PreGPEstPreLowCI,e.PostGPEstPreLowCI],k=[e.PreU5EstPreHighCI,e.PostU5EstPreHighCI,e.PreGPEstPreHighCI,e.PostGPEstPreHighCI],T=[e["PreU5EstPre-region"],e["PostU5EstPre-region"],e["PreGPEstPre-region"],e["PostGPEstPre-region"]],P=[e["PreU5EstPre-income"],e["PostU5EstPre-income"],e["PreGPEstPre-income"],e["PostGPEstPre-income"]],M=[e["PreU5EstPreLowCI-region"],e["PostU5EstPreLowCI-region"],e["PreGPEstPreLowCI-region"],e["PostGPEstPreLowCI-region"]],A=[e["PreU5EstPreHighCI-region"],e["PostU5EstPreHighCI-region"],e["PreGPEstPreHighCI-region"],e["PostGPEstPreHighCI-region"]],D=[e["PreU5EstPreLowCI-income"],e["PostU5EstPreLowCI-income"],e["PreGPEstPreLowCI-income"],e["PostGPEstPreLowCI-income"]],E=[e["PreU5EstPreHighCI-income"],e["PostU5EstPreHighCI-income"],e["PreGPEstPreHighCI-income"],e["PostGPEstPreHighCI-income"]],R=[1e3*e.PreU5EstCar,1e3*e.PostU5EstCar,1e3*e.PreGPEstCar,1e3*e.PostGPEstCar],I=[1e3*e.PreU5EstCarLowCI,1e3*e.PostU5EstCarLowCI,1e3*e.PreGPEstCarLowCI,1e3*e.PostGPEstCarLowCI],F=[1e3*e.PreU5EstCarHighCI,1e3*e.PostU5EstCarHighCI,1e3*e.PreGPEstCarHighCI,1e3*e.PostGPEstCarHighCI],L=[1e3*e["PreU5EstCar-region"],1e3*e["PostU5EstCar-region"],1e3*e["PreGPEstCar-region"],1e3*e["PostGPEstCar-region"]],j=[1e3*e["PreU5EstCar-income"],1e3*e["PostU5EstCar-income"],1e3*e["PreGPEstCar-income"],1e3*e["PostGPEstCar-income"]],N=[1e3*e["PreU5EstCarLowCI-region"],1e3*e["PostU5EstCarLowCI-region"],1e3*e["PreGPEstCarLowCI-region"],1e3*e["PostGPEstCarLowCI-region"]],O=[1e3*e["PreU5EstCarHighCI-region"],1e3*e["PostU5EstCarHighCI-region"],1e3*e["PreGPEstCarHighCI-region"],1e3*e["PostGPEstCarHighCI-region"]],z=[1e3*e["PreU5EstCarLowCI-income"],1e3*e["PostU5EstCarLowCI-income"],1e3*e["PreGPEstCarLowCI-income"],1e3*e["PostGPEstCarLowCI-income"]],q=[1e3*e["PreU5EstCarHighCI-income"],1e3*e["PostU5EstCarHighCI-income"],1e3*e["PreGPEstCarHighCI-income"],1e3*e["PostGPEstCarHighCI-income"]],H=[1e3*e.NumCarPrevU5,1e3*e.NumCarPrevGP],B=[1e3*e.NumCarPrevU5LowCI,1e3*e.NumCarPrevGPLowCI],V=[1e3*e.NumCarPrevU5HighCI,1e3*e.NumCarPrevGPHighCI],W=[1e3*e["NumCarPrevU5-region"],1e3*e["NumCarPrevGP-region"]],U=[1e3*e["NumCarPrevU5LowCI-region"],1e3*e["NumCarPrevGPLowCI-region"]],G=[1e3*e["NumCarPrevU5HighCI-region"],1e3*e["NumCarPrevGPHighCI-region"]],Y=[1e3*e["NumCarPrevU5-income"],1e3*e["NumCarPrevGP-income"]],X=[1e3*e["NumCarPrevU5LowCI-income"],1e3*e["NumCarPrevGPLowCI-income"]],$=[1e3*e["NumCarPrevU5HighCI-income"],1e3*e["NumCarPrevGPHighCI-income"]]}});var J=0,Q=0;if(x.forEach(function(e,t){null===e&&(J=t)}),w.forEach(function(e,t){null===e&&(Q=t)}),J<Q)Z=J;else var Z=Q;var K=C.slice(Z,C.length);o.data.labels=K,x=x.slice(Z,x.length),w=w.slice(Z,w.length);var ee=[x,w];o.data.datasets.forEach(function(e,t){e.data=ee[t]}),o.update();var te=0;k.forEach(function(e){+e>te&&(te=+e)}),A.forEach(function(e){+e>te&&(te=+e)}),E.forEach(function(e){+e>te&&(te=+e)}),te=Math.round(te),a.options.scales.yAxes[0].ticks.max=te,s.options.scales.yAxes[0].ticks.max=te,u.options.scales.yAxes[0].ticks.max=te,a.data.datasets.forEach(function(e,t){e.data=0===t?_:1===t?k:S}),a.options.tooltips.custom=function(e){e.dataPoints?l(this,e,e.dataPoints[0].index,S,k,_,"%"):document.getElementById("chartjs-tooltip").remove()},a.update(),s.data.datasets.forEach(function(e,t){e.data=0==t?M:1==t?A:T}),s.options.tooltips.custom=function(e){e.dataPoints?l(this,e,e.dataPoints[0].index,T,A,M,"%"):document.getElementById("chartjs-tooltip").remove()},s.update(),u.data.datasets.forEach(function(e,t){e.data=0==t?D:1==t?E:P}),u.options.tooltips.custom=function(e){e.dataPoints?l(this,e,e.dataPoints[0].index,P,E,D,"%"):document.getElementById("chartjs-tooltip").remove()},u.update(),c.data.datasets.forEach(function(e,t){e.data=0===t?I:1===t?F:R}),c.options.tooltips.custom=function(e){e.dataPoints?l(this,e,e.dataPoints[0].index,R,F,I,"#"):document.getElementById("chartjs-tooltip").remove()},c.update(),d.data.datasets.forEach(function(e,t){e.data=0===t?N:1===t?O:L}),d.options.tooltips.custom=function(e){e.dataPoints?l(this,e,e.dataPoints[0].index,L,O,N,"#"):document.getElementById("chartjs-tooltip").remove()},d.update(),f.data.datasets.forEach(function(e,t){e.data=0===t?z:1===t?q:j}),f.options.tooltips.custom=function(e){e.dataPoints?l(this,e,e.dataPoints[0].index,j,q,z,"#"):document.getElementById("chartjs-tooltip").remove()},f.update(),h.data.datasets.forEach(function(e,t){e.data=0===t?B:1===t?V:H}),h.options.tooltips.custom=function(e){e.dataPoints?l(this,e,e.dataPoints[0].index,H,V,B,"# "):document.getElementById("chartjs-tooltip").remove()},h.update(),p.data.datasets.forEach(function(e,t){e.data=0===t?U:1===t?G:W}),p.options.tooltips.custom=function(e){e.dataPoints?l(this,e,e.dataPoints[0].index,W,G,U,"#"):document.getElementById("chartjs-tooltip").remove()},p.update(),g.data.datasets.forEach(function(e,t){e.data=0===t?X:1===t?$:Y}),g.options.tooltips.custom=function(e){e.dataPoints?l(this,e,e.dataPoints[0].index,Y,$,X,"#"):document.getElementById("chartjs-tooltip").remove()},g.update()}function s(e,n){var i,r=t("#chartETable tbody").html(""),o=0;e.forEach(function(e){e.ISO3===n&&(i="<tr><td><div>"+e["Year start"]+" &ndash; "+e["Year end"]+"</div></td><td><div>"+e.Level+"</div></td><td><div>"+e.Agestart+" &ndash; "+e.Ageend+"</div></td><td><div>"+(+e["sample size"]).toLocaleString()+"</div></td><td><div>"+e.pHBsAg+"</div></td><td><div>"+e.Low_CI2+" &ndash; "+e.High_CI2+"</div></td><td><div>"+e["Author,Date"]+"</div></td>",e.hyperlink?i+="<td><div><a target='_blank' href='"+e.hyperlink+"'>link</a></div></td>":i+="<td><div>link pending</div></td>",i+="</tr>",r.append(i),o++)}),0===o?t("#no-studies").show():(t("#no-studies").hide(),t("#chartETable").DataTable({scrollY:"200px",scrollCollapse:!1,paging:!1,searching:!1,retrieve:!0}))}function l(e,n,i,r,o,a,s){var l=n.title,u=r[i].toLocaleString(),c=o[i].toLocaleString(),d=a[i].toLocaleString(),f={"Pre-vac":"Pre-vaccination","2015 est.":"2015 estimate","Under 5 yrs":"Under 5 years","General pop":"General Population"},h=document.getElementById("chartjs-tooltip");h||((h=document.createElement("div")).id="chartjs-tooltip",h.innerHTML="<div id='popup-content'></div>",e._chart.canvas.parentNode.appendChild(h)),h.classList.remove("above","below","no-transform"),n.yAlign?h.classList.add(n.yAlign):h.classList.add("no-transform"),"%"!=s&&(s="");var p="<div class='ui medium header'>"+f[l]+"</div>";p+="<div class='ui tiny header'>Estimated: "+u+s+"</div>",p+="<div class='ui tiny header'>Upper 95% CI: "+c+s+"</div>",p+="<div class='ui tiny header'>Lower 95% CI: "+d+s+"</div>",t("#popup-content").html(p);var g=e._chart.canvas.offsetTop,v=e._chart.canvas.offsetLeft;h.style.opacity=1,h.style.left=v+n.caretX+"px",h.style.top=g+n.caretY+"px",h.style.fontFamily=n._fontFamily,h.style.fontSize=n.fontSize,h.style.fontStyle=n._fontStyle,h.style.padding=n.yPadding+"px "+n.xPadding+"px"}function u(e,i,r,s,l,u,d,f,h,p,g,v,m,b,y,x,w){var C="PreU5EstPre",S=["#f6d2a9","#f19c7c","#dd686c","#b13f64"];t("#legend1").css("background",S[3]),t("#legend2").css("background",S[2]),t("#legend3").css("background",S[1]),t("#legend4").css("background",S[0]),t("#legend5").css("background","#979797"),e.forEach(function(e){var t=e.ISO3;i.objects.countries.geometries.forEach(function(n){var i=n.properties.ISO_3_CODE;t===i&&(n.properties.data=e)})});var _=n.select("#map").style("width").slice(0,-2),k=n.select("#map").style("height").slice(0,-2),T=n.select("#map svg").attr("width",_-5).attr("height",k-5).attr("id","map-svg"),M=n.geoEckert3().scale(8).translate([0,0]).precision(.1),A=n.geoPath().projection(M),A=(n.geoGraticule(),n.geoPath().projection(M)),P=n.zoom().scaleExtent([10,200]).on("zoom",function(){var e=n.event.transform;R.attr("transform",e).style("stroke-width",1/e.k),I.attr("transform",e).style("stroke-width",1/e.k)}),D=M([-30,20]),E=t("#map-hover-output"),R=T.selectAll("path").data(topojson.feature(i,i.objects.countries).features.filter(function(e){if("ATA"!=e.properties.iso)return e})).enter().append("path").attr("class","country").attr("d",A).on("mouseover",function(e){try{var t=e.properties.data.ISO3;for(var i in w)if(t===w[i])var r=i;R.style("opacity",".7"),n.select(this).style("opacity","1"),n.select("#map-hover-country").html("<i class='"+r.toLowerCase()+" flag'></i>"+e.properties.data.Country),n.select("#map-hover-under-pre").html(e.properties.data.PreU5EstPre+"%"),n.select("#map-hover-under-2015").html(e.properties.data.PostU5EstPre+"%"),n.select("#map-hover-general-pre").html(e.properties.data.PreGPEstPre+"%"),n.select("#map-hover-general-2015").html(e.properties.data.PostGPEstPre+"%"),n.select("#map-hover-u5-prevented").html((1e3*e.properties.data.NumCarPrevU5).toLocaleString()),n.select("#map-hover-gp-prevented").html((1e3*e.properties.data.NumCarPrevGP).toLocaleString()),E.show()}catch(e){}}).on("mouseout",function(){E.hide(),R.style("opacity","1")}).on("click",function(n){var i=n.properties.data.ISO3;for(var l in w)if(i===w[l])var c=l;o(e,s,i),a(e,r,s,i,u,d,f,h,p,g,v,m,b,y),t("#dropdown-current-country").html("<i class='"+c.toLowerCase()+" flag'></i>"+n.properties.data.Country),t(".current-country").html("<i class='"+c.toLowerCase()+" flag'></i>"+n.properties.data.Country),t(".regional-group").html(x[i].region),t(".income-group").html(x[i].income)}),I=T.append("g");I.selectAll("path").data(topojson.feature(i,i.objects.maskline_general_2013).features).enter().append("path").attr("class","lines").attr("d",A),t(document).mousemove(function(e){E.css({left:e.pageX+6,top:e.pageY-E.height()-25}),E.offset().top<4&&E.css({top:e.pageY+15}),E.offset().left+E.width()>=t(document).width()-40&&E.css({left:e.pageX-E.width()-80})}),T.call(P).call(P.transform,n.zoomIdentity.translate(_/2,k/2).scale(19.5).translate(-D[0]-3,-D[1]-2)),c(R,e,C),t(".checkbox").checkbox({onChecked:function(){C=t(this).attr("data-value"),c(R,e,C)}})}function c(e,t,i){var r=["#f6d2a9","#f19c7c","#dd686c","#b13f64"],o=[2,5,8],a=n.scaleThreshold().domain(o).range(r);e.attr("fill",function(e){try{return a(e.properties.data[i])}catch(e){return"#979797"}})}t(".ui.toggle.button").click(function(){t(".ui.vertical.menu").toggle("fast","linear")});var d=window.location.hash;d&&"#public-health-strategies"!==d&&"#"!==d?(n.selectAll(".menu .item").classed("active",!1),n.selectAll(".menu .item[href='"+d+"']").classed("active",!0),n.select(".current-who-page").classed("current-who-page",!1),n.select(d).style("top","160px"),n.select(d).classed("current-who-page",!0).transition().style("opacity","1")):(n.selectAll(".menu .item[href='#public-health-strategies']").classed("active",!0),n.select("#public-health-strategies").style("top","160px"),n.select("#public-health-strategies").classed("current-who-page",!0).transition().style("opacity",1)),n.selectAll(".menu a.tab").on("click touchstart",function(){var e=n.select(this).attr("href");n.selectAll(".menu .item").classed("active",!1),n.selectAll(".menu .item[href='"+e+"']").classed("active",!0),n.select(".current-who-page").transition().style("opacity","0").on("end",function(){n.select(".current-who-page").classed("current-who-page",!1).style("top","-10000px"),n.select(e).classed("current-who-page",!0).style("top","160px"),n.select(e).transition().style("opacity","1")})}),n.selectAll(".menu .image").on("click touchstart",function(){n.selectAll(".menu .item").classed("active",!1),n.selectAll(".menu .item[href='#public-health-strategies']").classed("active",!0),n.select(".current-who-page").transition().style("opacity","0").on("end",function(){n.select(".current-who-page").classed("current-who-page",!1).style("top","-10000px"),n.select("#public-health-strategies").style("top","160px"),n.select("#public-health-strategies").classed("current-who-page",!0).transition().style("opacity",1)})}),n.queue().defer(n.csv,"data/hepB-master-20170811.csv").defer(n.csv,"data/seroprevalence_surveys.csv").defer(n.json,"data/who-countries.json").defer(n.json,"data/iso-codes.json").await(function(e,t,n,r,o){i(t,n,o,r)})}(Chart,$,d3),function(e,t,n,i){e.site=e.fn.site=function(i){var r,o,a=(new Date).getTime(),s=[],l=arguments[0],u="string"==typeof l,c=[].slice.call(arguments,1),d=e.isPlainObject(i)?e.extend(!0,{},e.site.settings,i):e.extend({},e.site.settings),f=d.namespace,h=d.error,p="module-"+f,g=e(n),v=this,m=g.data(p);return r={initialize:function(){r.instantiate()},instantiate:function(){r.verbose("Storing instance of site",r),m=r,g.data(p,r)},normalize:function(){r.fix.console(),r.fix.requestAnimationFrame()},fix:{console:function(){r.debug("Normalizing window.console"),void 0!==console&&void 0!==console.log||(r.verbose("Console not available, normalizing events"),r.disable.console()),void 0!==console.group&&void 0!==console.groupEnd&&void 0!==console.groupCollapsed||(r.verbose("Console group not available, normalizing events"),t.console.group=function(){},t.console.groupEnd=function(){},t.console.groupCollapsed=function(){}),void 0===console.markTimeline&&(r.verbose("Mark timeline not available, normalizing events"),t.console.markTimeline=function(){})},consoleClear:function(){r.debug("Disabling programmatic console clearing"),t.console.clear=function(){}},requestAnimationFrame:function(){r.debug("Normalizing requestAnimationFrame"),void 0===t.requestAnimationFrame&&(r.debug("RequestAnimationFrame not available, normalizing event"),t.requestAnimationFrame=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)})}},moduleExists:function(t){return void 0!==e.fn[t]&&void 0!==e.fn[t].settings},enabled:{modules:function(t){var n=[];return t=t||d.modules,e.each(t,function(e,t){r.moduleExists(t)&&n.push(t)}),n}},disabled:{modules:function(t){var n=[];return t=t||d.modules,e.each(t,function(e,t){r.moduleExists(t)||n.push(t)}),n}},change:{setting:function(t,n,i,o){i="string"==typeof i?"all"===i?d.modules:[i]:i||d.modules,o=void 0===o||o,e.each(i,function(i,a){var s,l=!r.moduleExists(a)||(e.fn[a].settings.namespace||!1);r.moduleExists(a)&&(r.verbose("Changing default setting",t,n,a),e.fn[a].settings[t]=n,o&&l&&(s=e(":data(module-"+l+")")).length>0&&(r.verbose("Modifying existing settings",s),s[a]("setting",t,n)))})},settings:function(t,n,i){n="string"==typeof n?[n]:n||d.modules,i=void 0===i||i,e.each(n,function(n,o){var a;r.moduleExists(o)&&(r.verbose("Changing default setting",t,o),e.extend(!0,e.fn[o].settings,t),i&&f&&(a=e(":data(module-"+f+")")).length>0&&(r.verbose("Modifying existing settings",a),a[o]("setting",t)))})}},enable:{console:function(){r.console(!0)},debug:function(e,t){e=e||d.modules,r.debug("Enabling debug for modules",e),r.change.setting("debug",!0,e,t)},verbose:function(e,t){e=e||d.modules,r.debug("Enabling verbose debug for modules",e),r.change.setting("verbose",!0,e,t)}},disable:{console:function(){r.console(!1)},debug:function(e,t){e=e||d.modules,r.debug("Disabling debug for modules",e),r.change.setting("debug",!1,e,t)},verbose:function(e,t){e=e||d.modules,r.debug("Disabling verbose debug for modules",e),r.change.setting("verbose",!1,e,t)}},console:function(e){if(e){if(void 0===m.cache.console)return void r.error(h.console);r.debug("Restoring console function"),t.console=m.cache.console}else r.debug("Disabling console function"),m.cache.console=t.console,t.console={clear:function(){},error:function(){},group:function(){},groupCollapsed:function(){},groupEnd:function(){},info:function(){},log:function(){},markTimeline:function(){},warn:function(){}}},destroy:function(){r.verbose("Destroying previous site for",g),g.removeData(p)},cache:{},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,d,t);else{if(void 0===n)return d[t];d[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,r,t);else{if(void 0===n)return r[t];r[t]=n}},debug:function(){d.debug&&(d.performance?r.performance.log(arguments):(r.debug=Function.prototype.bind.call(console.info,console,d.name+":"),r.debug.apply(console,arguments)))},verbose:function(){d.verbose&&d.debug&&(d.performance?r.performance.log(arguments):(r.verbose=Function.prototype.bind.call(console.info,console,d.name+":"),r.verbose.apply(console,arguments)))},error:function(){r.error=Function.prototype.bind.call(console.error,console,d.name+":"),r.error.apply(console,arguments)},performance:{log:function(e){var t,n;d.performance&&(n=(t=(new Date).getTime())-(a||t),a=t,s.push({Element:v,Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":n})),clearTimeout(r.performance.timer),r.performance.timer=setTimeout(r.performance.display,500)},display:function(){var t=d.name+":",n=0;a=!1,clearTimeout(r.performance.timer),e.each(s,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",(void 0!==console.group||void 0!==console.table)&&s.length>0&&(console.groupCollapsed(t),console.table?console.table(s):e.each(s,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),s=[]}},invoke:function(t,n,i){var a,s,l,u=m;return n=n||c,i=v||i,"string"==typeof t&&void 0!==u&&(t=t.split(/[\. ]/),a=t.length-1,e.each(t,function(n,i){var o=n!=a?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(u[o])&&n!=a)u=u[o];else{if(void 0!==u[o])return s=u[o],!1;if(!e.isPlainObject(u[i])||n==a)return void 0!==u[i]?(s=u[i],!1):(r.error(h.method,t),!1);u=u[i]}})),e.isFunction(s)?l=s.apply(i,n):void 0!==s&&(l=s),e.isArray(o)?o.push(l):void 0!==o?o=[o,l]:void 0!==l&&(o=l),s}},u?(void 0===m&&r.initialize(),r.invoke(l)):(void 0!==m&&r.destroy(),r.initialize()),void 0!==o?o:this},e.site.settings={name:"Site",namespace:"site",error:{console:"Console cannot be restored, most likely it was overwritten outside of module",method:"The method you called is not defined."},debug:!1,verbose:!1,performance:!0,modules:["accordion","api","checkbox","dimmer","dropdown","embed","form","modal","nag","popup","rating","shape","sidebar","state","sticky","tab","transition","visit","visibility"],siteNamespace:"site",namespaceStub:{cache:{},config:{},sections:{},section:{},utilities:{}}},e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(n){return!!e.data(n,t)}}):function(t,n,i){return!!e.data(t,i[3])}})}(jQuery,window,document),function(e,t,n,i){"use strict";t=void 0!==t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.form=function(t){var i,r=e(this),o=r.selector||"",a=(new Date).getTime(),s=[],l=arguments[0],u=arguments[1],c="string"==typeof l,d=[].slice.call(arguments,1);return r.each(function(){var f,h,p,g,v,m,b,y,x,w,C,S,_,k,T,M,A,P,D,E=e(this),R=this,I=[],F=!1;(D={initialize:function(){D.get.settings(),c?(void 0===P&&D.instantiate(),D.invoke(l)):(void 0!==P&&P.invoke("destroy"),D.verbose("Initializing form validation",E,y),D.bindEvents(),D.set.defaults(),D.instantiate())},instantiate:function(){D.verbose("Storing instance of module",D),P=D,E.data(M,D)},destroy:function(){D.verbose("Destroying previous module",P),D.removeEvents(),E.removeData(M)},refresh:function(){D.verbose("Refreshing selector cache"),f=E.find(C.field),h=E.find(C.group),p=E.find(C.message),g=E.find(C.prompt),v=E.find(C.submit),m=E.find(C.clear),b=E.find(C.reset)},submit:function(){D.verbose("Submitting form",E),E.submit()},attachEvents:function(t,n){n=n||"submit",e(t).on("click"+A,function(e){D[n](),e.preventDefault()})},bindEvents:function(){D.verbose("Attaching form events"),E.on("submit"+A,D.validate.form).on("blur"+A,C.field,D.event.field.blur).on("click"+A,C.submit,D.submit).on("click"+A,C.reset,D.reset).on("click"+A,C.clear,D.clear),y.keyboardShortcuts&&E.on("keydown"+A,C.field,D.event.field.keydown),f.each(function(){var t=e(this),n=t.prop("type"),i=D.get.changeEvent(n,t);e(this).on(i+A,D.event.field.change)})},clear:function(){f.each(function(){var t=e(this),n=t.parent(),i=t.closest(h),r=i.find(C.prompt),o=t.data(w.defaultValue)||"",a=n.is(C.uiCheckbox),s=n.is(C.uiDropdown);i.hasClass(S.error)&&(D.verbose("Resetting error on field",i),i.removeClass(S.error),r.remove()),s?(D.verbose("Resetting dropdown value",n,o),n.dropdown("clear")):a?t.prop("checked",!1):(D.verbose("Resetting field value",t,o),t.val(""))})},reset:function(){f.each(function(){var t=e(this),n=t.parent(),i=t.closest(h),r=i.find(C.prompt),o=t.data(w.defaultValue),a=n.is(C.uiCheckbox),s=n.is(C.uiDropdown),l=i.hasClass(S.error);void 0!==o&&(l&&(D.verbose("Resetting error on field",i),i.removeClass(S.error),r.remove()),s?(D.verbose("Resetting dropdown value",n,o),n.dropdown("restore defaults")):a?(D.verbose("Resetting checkbox value",n,o),t.prop("checked",o)):(D.verbose("Resetting field value",t,o),t.val(o)))})},determine:{isValid:function(){var t=!0;return e.each(x,function(e,n){D.validate.field(n,e,!0)||(t=!1)}),t}},is:{bracketedRule:function(e){return e.type&&e.type.match(y.regExp.bracket)},shorthandFields:function(e){var t=e[Object.keys(e)[0]];return D.is.shorthandRules(t)},shorthandRules:function(t){return"string"==typeof t||e.isArray(t)},empty:function(e){return!e||0===e.length||(e.is('input[type="checkbox"]')?!e.is(":checked"):D.is.blank(e))},blank:function(t){return""===e.trim(t.val())},valid:function(t){var n=!0;return t?(D.verbose("Checking if field is valid",t),D.validate.field(x[t],t,!1)):(D.verbose("Checking if form is valid"),e.each(x,function(e,t){D.is.valid(e)||(n=!1)}),n)}},removeEvents:function(){E.off(A),f.off(A),v.off(A),f.off(A)},event:{field:{keydown:function(t){var n=e(this),i=t.which,r=n.is(C.input),o=n.is(C.checkbox),a=n.closest(C.uiDropdown).length>0,s={enter:13,escape:27};i==s.escape&&(D.verbose("Escape key pressed blurring field"),n.blur()),t.ctrlKey||i!=s.enter||!r||a||o||(F||(n.one("keyup"+A,D.event.field.keyup),D.submit(),D.debug("Enter pressed on input submitting form")),F=!0)},keyup:function(){F=!1},blur:function(t){var n=e(this),i=n.closest(h),r=D.get.validation(n);i.hasClass(S.error)?(D.debug("Revalidating field",n,r),r&&D.validate.field(r)):"blur"!=y.on&&"change"!=y.on||r&&D.validate.field(r)},change:function(t){var n=e(this),i=n.closest(h),r=D.get.validation(n);r&&("change"==y.on||i.hasClass(S.error)&&y.revalidate)&&(clearTimeout(D.timer),D.timer=setTimeout(function(){D.debug("Revalidating field",n,D.get.validation(n)),D.validate.field(r)},y.delay))}}},get:{ancillaryValue:function(e){return!(!e.type||!e.value&&!D.is.bracketedRule(e))&&(void 0!==e.value?e.value:e.type.match(y.regExp.bracket)[1]+"")},ruleName:function(e){return D.is.bracketedRule(e)?e.type.replace(e.type.match(y.regExp.bracket)[0],""):e.type},changeEvent:function(e,t){return"checkbox"==e||"radio"==e||"hidden"==e||t.is("select")?"change":D.get.inputEvent()},inputEvent:function(){return void 0!==n.createElement("input").oninput?"input":void 0!==n.createElement("input").onpropertychange?"propertychange":"keyup"},fieldsFromShorthand:function(t){var n={};return e.each(t,function(t,i){"string"==typeof i&&(i=[i]),n[t]={rules:[]},e.each(i,function(e,i){n[t].rules.push({type:i})})}),n},prompt:function(e,t){var n,i,r,o=D.get.ruleName(e),a=D.get.ancillaryValue(e),s=e.prompt||y.prompt[o]||y.text.unspecifiedRule,l=-1!==s.search("{value}"),u=-1!==s.search("{name}");return(u||l)&&(i=D.get.field(t.identifier)),l&&(s=s.replace("{value}",i.val())),u&&(r=1==(n=i.closest(C.group).find("label").eq(0)).length?n.text():i.prop("placeholder")||y.text.unspecifiedField,s=s.replace("{name}",r)),s=s.replace("{identifier}",t.identifier),s=s.replace("{ruleValue}",a),e.prompt||D.verbose("Using default validation prompt for type",s,o),s},settings:function(){if(e.isPlainObject(t)){var n=Object.keys(t);n.length>0&&(void 0!==t[n[0]].identifier&&void 0!==t[n[0]].rules)?(y=e.extend(!0,{},e.fn.form.settings,u),x=e.extend({},e.fn.form.settings.defaults,t),D.error(y.error.oldSyntax,R),D.verbose("Extending settings from legacy parameters",x,y)):(t.fields&&D.is.shorthandFields(t.fields)&&(t.fields=D.get.fieldsFromShorthand(t.fields)),y=e.extend(!0,{},e.fn.form.settings,t),x=e.extend({},e.fn.form.settings.defaults,y.fields),D.verbose("Extending settings",x,y))}else y=e.fn.form.settings,x=e.fn.form.settings.defaults,D.verbose("Using default form validation",x,y);T=y.namespace,w=y.metadata,C=y.selector,S=y.className,_=y.regExp,k=y.error,M="module-"+T,A="."+T,P=E.data(M),D.refresh()},field:function(t){return D.verbose("Finding field with identifier",t),t=D.escape.string(t),f.filter("#"+t).length>0?f.filter("#"+t):f.filter('[name="'+t+'"]').length>0?f.filter('[name="'+t+'"]'):f.filter('[name="'+t+'[]"]').length>0?f.filter('[name="'+t+'[]"]'):f.filter("[data-"+w.validate+'="'+t+'"]').length>0?f.filter("[data-"+w.validate+'="'+t+'"]'):e("<input/>")},fields:function(t){var n=e();return e.each(t,function(e,t){n=n.add(D.get.field(t))}),n},validation:function(t){var n,i;return!!x&&(e.each(x,function(e,r){i=r.identifier||e,D.get.field(i)[0]==t[0]&&(r.identifier=i,n=r)}),n||!1)},value:function(e){var t=[];return t.push(e),D.get.values.call(R,t)[e]},values:function(t){var n={};return(e.isArray(t)?D.get.fields(t):f).each(function(t,i){var r=e(i),o=(r.prop("type"),r.prop("name")),a=r.val(),s=r.is(C.checkbox),l=r.is(C.radio),u=-1!==o.indexOf("[]"),c=!!s&&r.is(":checked");o&&(u?(o=o.replace("[]",""),n[o]||(n[o]=[]),s?c?n[o].push(a||!0):n[o].push(!1):n[o].push(a)):l?void 0===n[o]&&(n[o]=!!c):n[o]=s?!!c&&(a||!0):a)}),n}},has:{field:function(e){return D.verbose("Checking for existence of a field with identifier",e),"string"!=typeof(e=D.escape.string(e))&&D.error(k.identifier,e),f.filter("#"+e).length>0||(f.filter('[name="'+e+'"]').length>0||f.filter("[data-"+w.validate+'="'+e+'"]').length>0)}},escape:{string:function(e){return(e=String(e)).replace(_.escape,"\\$&")}},add:{rule:function(e,t){D.add.field(e,t)},field:function(t,n){var i={};D.is.shorthandRules(n)?(n=e.isArray(n)?n:[n],i[t]={rules:[]},e.each(n,function(e,n){i[t].rules.push({type:n})})):i[t]=n,x=e.extend({},x,i),D.debug("Adding rules",i,x)},fields:function(t){var n;n=t&&D.is.shorthandFields(t)?D.get.fieldsFromShorthand(t):t,x=e.extend({},x,n)},prompt:function(t,n){var i=D.get.field(t).closest(h),r=i.children(C.prompt),o=0!==r.length;n="string"==typeof n?[n]:n,D.verbose("Adding field error state",t),i.addClass(S.error),y.inline&&(o||(r=y.templates.prompt(n)).appendTo(i),r.html(n[0]),o?D.verbose("Inline errors are disabled, no inline error added",t):y.transition&&void 0!==e.fn.transition&&E.transition("is supported")?(D.verbose("Displaying error with css transition",y.transition),r.transition(y.transition+" in",y.duration)):(D.verbose("Displaying error with fallback javascript animation"),r.fadeIn(y.duration)))},errors:function(e){D.debug("Adding form error messages",e),D.set.error(),p.html(y.templates.error(e))}},remove:{rule:function(t,n){var i=e.isArray(n)?n:[n];if(void 0==n)return D.debug("Removed all rules"),void(x[t].rules=[]);void 0!=x[t]&&e.isArray(x[t].rules)&&e.each(x[t].rules,function(e,n){-1!==i.indexOf(n.type)&&(D.debug("Removed rule",n.type),x[t].rules.splice(e,1))})},field:function(t){var n=e.isArray(t)?t:[t];e.each(n,function(e,t){D.remove.rule(t)})},rules:function(t,n){e.isArray(t)?e.each(fields,function(e,t){D.remove.rule(t,n)}):D.remove.rule(t,n)},fields:function(e){D.remove.field(e)},prompt:function(t){var n=D.get.field(t).closest(h),i=n.children(C.prompt);n.removeClass(S.error),y.inline&&i.is(":visible")&&(D.verbose("Removing prompt for field",t),y.transition&&void 0!==e.fn.transition&&E.transition("is supported")?i.transition(y.transition+" out",y.duration,function(){i.remove()}):i.fadeOut(y.duration,function(){i.remove()}))}},set:{success:function(){E.removeClass(S.error).addClass(S.success)},defaults:function(){f.each(function(){var t=e(this),n=t.filter(C.checkbox).length>0?t.is(":checked"):t.val();t.data(w.defaultValue,n)})},error:function(){E.removeClass(S.success).addClass(S.error)},value:function(e,t){var n={};return n[e]=t,D.set.values.call(R,n)},values:function(t){e.isEmptyObject(t)||e.each(t,function(t,n){var i,r=D.get.field(t),o=r.parent(),a=e.isArray(n),s=o.is(C.uiCheckbox),l=o.is(C.uiDropdown),u=r.is(C.radio)&&s;r.length>0&&(a&&s?(D.verbose("Selecting multiple",n,r),o.checkbox("uncheck"),e.each(n,function(e,t){i=r.filter('[value="'+t+'"]'),o=i.parent(),i.length>0&&o.checkbox("check")})):u?(D.verbose("Selecting radio value",n,r),r.filter('[value="'+n+'"]').parent(C.uiCheckbox).checkbox("check")):s?(D.verbose("Setting checkbox value",n,o),!0===n?o.checkbox("check"):o.checkbox("uncheck")):l?(D.verbose("Setting dropdown value",n,o),o.dropdown("set selected",n)):(D.verbose("Setting field value",n,r),r.val(n)))})}},validate:{form:function(e,t){var n=D.get.values();if(F)return!1;if(I=[],D.determine.isValid()){if(D.debug("Form has no validation errors, submitting"),D.set.success(),!0!==t)return y.onSuccess.call(R,e,n)}else if(D.debug("Form has errors"),D.set.error(),y.inline||D.add.errors(I),void 0!==E.data("moduleApi")&&e.stopImmediatePropagation(),!0!==t)return y.onFailure.call(R,I,n)},field:function(t,n,i){i=void 0===i||i,"string"==typeof t&&(D.verbose("Validating field",t),n=t,t=x[t]);var r=t.identifier||n,o=D.get.field(r),a=!!t.depends&&D.get.field(t.depends),s=!0,l=[];return t.identifier||(D.debug("Using field name as identifier",r),t.identifier=r),o.prop("disabled")?(D.debug("Field is disabled. Skipping",r),s=!0):t.optional&&D.is.blank(o)?(D.debug("Field is optional and blank. Skipping",r),s=!0):t.depends&&D.is.empty(a)?(D.debug("Field depends on another value that is not present or empty. Skipping",a),s=!0):void 0!==t.rules&&e.each(t.rules,function(e,n){D.has.field(r)&&!D.validate.rule(t,n)&&(D.debug("Field is invalid",r,n.type),l.push(D.get.prompt(n,t)),s=!1)}),s?(i&&(D.remove.prompt(r,l),y.onValid.call(o)),!0):(i&&(I=I.concat(l),D.add.prompt(r,l),y.onInvalid.call(o,l)),!1)},rule:function(t,n){var i=D.get.field(t.identifier),r=(n.type,i.val()),o=D.get.ancillaryValue(n),a=D.get.ruleName(n),s=y.rules[a];{if(e.isFunction(s))return r=void 0===r||""===r||null===r?"":e.trim(r+""),s.call(i,r,o);D.error(k.noRule,a)}}},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,y,t);else{if(void 0===n)return y[t];y[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,D,t);else{if(void 0===n)return D[t];D[t]=n}},debug:function(){!y.silent&&y.debug&&(y.performance?D.performance.log(arguments):(D.debug=Function.prototype.bind.call(console.info,console,y.name+":"),D.debug.apply(console,arguments)))},verbose:function(){!y.silent&&y.verbose&&y.debug&&(y.performance?D.performance.log(arguments):(D.verbose=Function.prototype.bind.call(console.info,console,y.name+":"),D.verbose.apply(console,arguments)))},error:function(){y.silent||(D.error=Function.prototype.bind.call(console.error,console,y.name+":"),D.error.apply(console,arguments))},performance:{log:function(e){var t,n;y.performance&&(n=(t=(new Date).getTime())-(a||t),a=t,s.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:R,"Execution Time":n})),clearTimeout(D.performance.timer),D.performance.timer=setTimeout(D.performance.display,500)},display:function(){var t=y.name+":",n=0;a=!1,clearTimeout(D.performance.timer),e.each(s,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",o&&(t+=" '"+o+"'"),r.length>1&&(t+=" ("+r.length+")"),(void 0!==console.group||void 0!==console.table)&&s.length>0&&(console.groupCollapsed(t),console.table?console.table(s):e.each(s,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),s=[]}},invoke:function(t,n,r){var o,a,s,l=P;return n=n||d,r=R||r,"string"==typeof t&&void 0!==l&&(t=t.split(/[\. ]/),o=t.length-1,e.each(t,function(n,i){var r=n!=o?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(l[r])&&n!=o)l=l[r];else{if(void 0!==l[r])return a=l[r],!1;if(!e.isPlainObject(l[i])||n==o)return void 0!==l[i]&&(a=l[i],!1);l=l[i]}})),e.isFunction(a)?s=a.apply(r,n):void 0!==a&&(s=a),e.isArray(i)?i.push(s):void 0!==i?i=[i,s]:void 0!==s&&(i=s),a}}).initialize()}),void 0!==i?i:this},e.fn.form.settings={name:"Form",namespace:"form",debug:!1,verbose:!1,performance:!0,fields:!1,keyboardShortcuts:!0,on:"submit",inline:!1,delay:200,revalidate:!0,transition:"scale",duration:200,onValid:function(){},onInvalid:function(){},onSuccess:function(){return!0},onFailure:function(){return!1},metadata:{defaultValue:"default",validate:"validate"},regExp:{htmlID:/^[a-zA-Z][\w:.-]*$/g,bracket:/\[(.*)\]/i,decimal:/^\d+\.?\d*$/,email:/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,escape:/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,flags:/^\/(.*)\/(.*)?/,integer:/^\-?\d+$/,number:/^\-?\d*(\.\d+)?$/,url:/(https?:\/\/(?:www\.|(?!www))[^\s\.]+\.[^\s]{2,}|www\.[^\s]+\.[^\s]{2,})/i},text:{unspecifiedRule:"Please enter a valid value",unspecifiedField:"This field"},prompt:{empty:"{name} must have a value",checked:"{name} must be checked",email:"{name} must be a valid e-mail",url:"{name} must be a valid url",regExp:"{name} is not formatted correctly",integer:"{name} must be an integer",decimal:"{name} must be a decimal number",number:"{name} must be set to a number",is:'{name} must be "{ruleValue}"',isExactly:'{name} must be exactly "{ruleValue}"',not:'{name} cannot be set to "{ruleValue}"',notExactly:'{name} cannot be set to exactly "{ruleValue}"',contain:'{name} cannot contain "{ruleValue}"',containExactly:'{name} cannot contain exactly "{ruleValue}"',doesntContain:'{name} must contain  "{ruleValue}"',doesntContainExactly:'{name} must contain exactly "{ruleValue}"',minLength:"{name} must be at least {ruleValue} characters",length:"{name} must be at least {ruleValue} characters",exactLength:"{name} must be exactly {ruleValue} characters",maxLength:"{name} cannot be longer than {ruleValue} characters",match:"{name} must match {ruleValue} field",different:"{name} must have a different value than {ruleValue} field",creditCard:"{name} must be a valid credit card number",minCount:"{name} must have at least {ruleValue} choices",exactCount:"{name} must have exactly {ruleValue} choices",maxCount:"{name} must have {ruleValue} or less choices"},selector:{checkbox:'input[type="checkbox"], input[type="radio"]',clear:".clear",field:"input, textarea, select",group:".field",input:"input",message:".error.message",prompt:".prompt.label",radio:'input[type="radio"]',reset:'.reset:not([type="reset"])',submit:'.submit:not([type="submit"])',uiCheckbox:".ui.checkbox",uiDropdown:".ui.dropdown"},className:{error:"error",label:"ui prompt label",pressed:"down",success:"success"},error:{identifier:"You must specify a string identifier for each field",method:"The method you called is not defined.",noRule:"There is no rule matching the one you specified",oldSyntax:"Starting in 2.0 forms now only take a single settings object. Validation settings converted to new syntax automatically."},templates:{error:function(t){var n='<ul class="list">';return e.each(t,function(e,t){n+="<li>"+t+"</li>"}),n+="</ul>",e(n)},prompt:function(t){return e("<div/>").addClass("ui basic red pointing prompt label").html(t[0])}},rules:{empty:function(t){return!(void 0===t||""===t||e.isArray(t)&&0===t.length)},checked:function(){return e(this).filter(":checked").length>0},email:function(t){return e.fn.form.settings.regExp.email.test(t)},url:function(t){return e.fn.form.settings.regExp.url.test(t)},regExp:function(t,n){if(n instanceof RegExp)return t.match(n);var i,r=n.match(e.fn.form.settings.regExp.flags);return r&&(n=r.length>=2?r[1]:n,i=r.length>=3?r[2]:""),t.match(new RegExp(n,i))},integer:function(t,n){var i,r,o,a=e.fn.form.settings.regExp.integer;return n&&-1===["",".."].indexOf(n)&&(-1==n.indexOf("..")?a.test(n)&&(i=r=n-0):(o=n.split("..",2),a.test(o[0])&&(i=o[0]-0),a.test(o[1])&&(r=o[1]-0))),a.test(t)&&(void 0===i||t>=i)&&(void 0===r||t<=r)},decimal:function(t){return e.fn.form.settings.regExp.decimal.test(t)},number:function(t){return e.fn.form.settings.regExp.number.test(t)},is:function(e,t){return t="string"==typeof t?t.toLowerCase():t,(e="string"==typeof e?e.toLowerCase():e)==t},isExactly:function(e,t){return e==t},not:function(e,t){return e="string"==typeof e?e.toLowerCase():e,t="string"==typeof t?t.toLowerCase():t,e!=t},notExactly:function(e,t){return e!=t},contains:function(t,n){return n=n.replace(e.fn.form.settings.regExp.escape,"\\$&"),-1!==t.search(new RegExp(n,"i"))},containsExactly:function(t,n){return n=n.replace(e.fn.form.settings.regExp.escape,"\\$&"),-1!==t.search(new RegExp(n))},doesntContain:function(t,n){return n=n.replace(e.fn.form.settings.regExp.escape,"\\$&"),-1===t.search(new RegExp(n,"i"))},doesntContainExactly:function(t,n){return n=n.replace(e.fn.form.settings.regExp.escape,"\\$&"),-1===t.search(new RegExp(n))},minLength:function(e,t){return void 0!==e&&e.length>=t},length:function(e,t){return void 0!==e&&e.length>=t},exactLength:function(e,t){return void 0!==e&&e.length==t},maxLength:function(e,t){return void 0!==e&&e.length<=t},match:function(t,n){var i;e(this);return e('[data-validate="'+n+'"]').length>0?i=e('[data-validate="'+n+'"]').val():e("#"+n).length>0?i=e("#"+n).val():e('[name="'+n+'"]').length>0?i=e('[name="'+n+'"]').val():e('[name="'+n+'[]"]').length>0&&(i=e('[name="'+n+'[]"]')),void 0!==i&&t.toString()==i.toString()},different:function(t,n){var i;e(this);return e('[data-validate="'+n+'"]').length>0?i=e('[data-validate="'+n+'"]').val():e("#"+n).length>0?i=e("#"+n).val():e('[name="'+n+'"]').length>0?i=e('[name="'+n+'"]').val():e('[name="'+n+'[]"]').length>0&&(i=e('[name="'+n+'[]"]')),void 0!==i&&t.toString()!==i.toString()},creditCard:function(t,n){var i,r,o={visa:{pattern:/^4/,length:[16]},amex:{pattern:/^3[47]/,length:[15]},mastercard:{pattern:/^5[1-5]/,length:[16]},discover:{pattern:/^(6011|622(12[6-9]|1[3-9][0-9]|[2-8][0-9]{2}|9[0-1][0-9]|92[0-5]|64[4-9])|65)/,length:[16]},unionPay:{pattern:/^(62|88)/,length:[16,17,18,19]},jcb:{pattern:/^35(2[89]|[3-8][0-9])/,length:[16]},maestro:{pattern:/^(5018|5020|5038|6304|6759|676[1-3])/,length:[12,13,14,15,16,17,18,19]},dinersClub:{pattern:/^(30[0-5]|^36)/,length:[14]},laser:{pattern:/^(6304|670[69]|6771)/,length:[16,17,18,19]},visaElectron:{pattern:/^(4026|417500|4508|4844|491(3|7))/,length:[16]}},a={},s=!1,l="string"==typeof n&&n.split(",");if("string"==typeof t&&0!==t.length){if(t=t.replace(/[\-]/g,""),l&&(e.each(l,function(n,i){(r=o[i])&&(a={length:-1!==e.inArray(t.length,r.length),pattern:-1!==t.search(r.pattern)}).length&&a.pattern&&(s=!0)}),!s))return!1;if((i={number:-1!==e.inArray(t.length,o.unionPay.length),pattern:-1!==t.search(o.unionPay.pattern)}).number&&i.pattern)return!0;for(var u=t.length,c=0,d=[[0,1,2,3,4,5,6,7,8,9],[0,2,4,6,8,1,3,5,7,9]],f=0;u--;)f+=d[c][parseInt(t.charAt(u),10)],c^=1;return f%10==0&&f>0}},minCount:function(e,t){return 0==t||(1==t?""!==e:e.split(",").length>=t)},exactCount:function(e,t){return 0==t?""===e:1==t?""!==e&&-1===e.search(","):e.split(",").length==t},maxCount:function(e,t){return 0!=t&&(1==t?-1===e.search(","):e.split(",").length<=t)}}}}(jQuery,window,document),function(e,t,n,i){"use strict";t=void 0!==t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.accordion=function(n){var i,r=e(this),o=(new Date).getTime(),a=[],s=arguments[0],l="string"==typeof s,u=[].slice.call(arguments,1);t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame;return r.each(function(){var c,d,f=e.isPlainObject(n)?e.extend(!0,{},e.fn.accordion.settings,n):e.extend({},e.fn.accordion.settings),h=f.className,p=f.namespace,g=f.selector,v=f.error,m="."+p,b="module-"+p,y=r.selector||"",x=e(this),w=x.find(g.title),C=x.find(g.content),S=this,_=x.data(b);d={initialize:function(){d.debug("Initializing",x),d.bind.events(),f.observeChanges&&d.observeChanges(),d.instantiate()},instantiate:function(){_=d,x.data(b,d)},destroy:function(){d.debug("Destroying previous instance",x),x.off(m).removeData(b)},refresh:function(){w=x.find(g.title),C=x.find(g.content)},observeChanges:function(){"MutationObserver"in t&&((c=new MutationObserver(function(e){d.debug("DOM tree modified, updating selector cache"),d.refresh()})).observe(S,{childList:!0,subtree:!0}),d.debug("Setting up mutation observer",c))},bind:{events:function(){d.debug("Binding delegated events"),x.on(f.on+m,g.trigger,d.event.click)}},event:{click:function(){d.toggle.call(this)}},toggle:function(t){var n=void 0!==t?"number"==typeof t?w.eq(t):e(t).closest(g.title):e(this).closest(g.title),i=n.next(C),r=i.hasClass(h.animating),o=i.hasClass(h.active),a=o&&!r,s=!o&&r;d.debug("Toggling visibility of content",n),a||s?f.collapsible?d.close.call(n):d.debug("Cannot close accordion content collapsing is disabled"):d.open.call(n)},open:function(t){var n=void 0!==t?"number"==typeof t?w.eq(t):e(t).closest(g.title):e(this).closest(g.title),i=n.next(C),r=i.hasClass(h.animating);i.hasClass(h.active)||r?d.debug("Accordion already open, skipping",i):(d.debug("Opening accordion content",n),f.onOpening.call(i),f.exclusive&&d.closeOthers.call(n),n.addClass(h.active),i.stop(!0,!0).addClass(h.animating),f.animateChildren&&(void 0!==e.fn.transition&&x.transition("is supported")?i.children().transition({animation:"fade in",queue:!1,useFailSafe:!0,debug:f.debug,verbose:f.verbose,duration:f.duration}):i.children().stop(!0,!0).animate({opacity:1},f.duration,d.resetOpacity)),i.slideDown(f.duration,f.easing,function(){i.removeClass(h.animating).addClass(h.active),d.reset.display.call(this),f.onOpen.call(this),f.onChange.call(this)}))},close:function(t){var n=void 0!==t?"number"==typeof t?w.eq(t):e(t).closest(g.title):e(this).closest(g.title),i=n.next(C),r=i.hasClass(h.animating),o=i.hasClass(h.active),a=!o&&r,s=o&&r;!o&&!a||s||(d.debug("Closing accordion content",i),f.onClosing.call(i),n.removeClass(h.active),i.stop(!0,!0).addClass(h.animating),f.animateChildren&&(void 0!==e.fn.transition&&x.transition("is supported")?i.children().transition({animation:"fade out",queue:!1,useFailSafe:!0,debug:f.debug,verbose:f.verbose,duration:f.duration}):i.children().stop(!0,!0).animate({opacity:0},f.duration,d.resetOpacity)),i.slideUp(f.duration,f.easing,function(){i.removeClass(h.animating).removeClass(h.active),d.reset.display.call(this),f.onClose.call(this),f.onChange.call(this)}))},closeOthers:function(t){var n,i,r,o=void 0!==t?w.eq(t):e(this).closest(g.title),a=o.parents(g.content).prev(g.title),s=o.closest(g.accordion),l=g.title+"."+h.active+":visible",u=g.content+"."+h.active+":visible";f.closeNested?r=(n=s.find(l).not(a)).next(C):(n=s.find(l).not(a),i=s.find(u).find(l).not(a),r=(n=n.not(i)).next(C)),n.length>0&&(d.debug("Exclusive enabled, closing other content",n),n.removeClass(h.active),r.removeClass(h.animating).stop(!0,!0),f.animateChildren&&(void 0!==e.fn.transition&&x.transition("is supported")?r.children().transition({animation:"fade out",useFailSafe:!0,debug:f.debug,verbose:f.verbose,duration:f.duration}):r.children().stop(!0,!0).animate({opacity:0},f.duration,d.resetOpacity)),r.slideUp(f.duration,f.easing,function(){e(this).removeClass(h.active),d.reset.display.call(this)}))},reset:{display:function(){d.verbose("Removing inline display from element",this),e(this).css("display",""),""===e(this).attr("style")&&e(this).attr("style","").removeAttr("style")},opacity:function(){d.verbose("Removing inline opacity from element",this),e(this).css("opacity",""),""===e(this).attr("style")&&e(this).attr("style","").removeAttr("style")}},setting:function(t,n){if(d.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,f,t);else{if(void 0===n)return f[t];e.isPlainObject(f[t])?e.extend(!0,f[t],n):f[t]=n}},internal:function(t,n){if(d.debug("Changing internal",t,n),void 0===n)return d[t];e.isPlainObject(t)?e.extend(!0,d,t):d[t]=n},debug:function(){!f.silent&&f.debug&&(f.performance?d.performance.log(arguments):(d.debug=Function.prototype.bind.call(console.info,console,f.name+":"),d.debug.apply(console,arguments)))},verbose:function(){!f.silent&&f.verbose&&f.debug&&(f.performance?d.performance.log(arguments):(d.verbose=Function.prototype.bind.call(console.info,console,f.name+":"),d.verbose.apply(console,arguments)))},error:function(){f.silent||(d.error=Function.prototype.bind.call(console.error,console,f.name+":"),d.error.apply(console,arguments))},performance:{log:function(e){var t,n;f.performance&&(n=(t=(new Date).getTime())-(o||t),o=t,a.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:S,"Execution Time":n})),clearTimeout(d.performance.timer),d.performance.timer=setTimeout(d.performance.display,500)},display:function(){var t=f.name+":",n=0;o=!1,clearTimeout(d.performance.timer),e.each(a,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",y&&(t+=" '"+y+"'"),(void 0!==console.group||void 0!==console.table)&&a.length>0&&(console.groupCollapsed(t),console.table?console.table(a):e.each(a,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),a=[]}},invoke:function(t,n,r){var o,a,s,l=_;return n=n||u,r=S||r,"string"==typeof t&&void 0!==l&&(t=t.split(/[\. ]/),o=t.length-1,e.each(t,function(n,i){var r=n!=o?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(l[r])&&n!=o)l=l[r];else{if(void 0!==l[r])return a=l[r],!1;if(!e.isPlainObject(l[i])||n==o)return void 0!==l[i]?(a=l[i],!1):(d.error(v.method,t),!1);l=l[i]}})),e.isFunction(a)?s=a.apply(r,n):void 0!==a&&(s=a),e.isArray(i)?i.push(s):void 0!==i?i=[i,s]:void 0!==s&&(i=s),a}},l?(void 0===_&&d.initialize(),d.invoke(s)):(void 0!==_&&_.invoke("destroy"),d.initialize())}),void 0!==i?i:this},e.fn.accordion.settings={name:"Accordion",namespace:"accordion",silent:!1,debug:!1,verbose:!1,performance:!0,on:"click",observeChanges:!0,exclusive:!0,collapsible:!0,closeNested:!1,animateChildren:!0,duration:350,easing:"easeOutQuad",onOpening:function(){},onOpen:function(){},onClosing:function(){},onClose:function(){},onChange:function(){},error:{method:"The method you called is not defined"},className:{active:"active",animating:"animating"},selector:{accordion:".accordion",title:".title",trigger:".title",content:".content"}},e.extend(e.easing,{easeOutQuad:function(e,t,n,i,r){return-i*(t/=r)*(t-2)+n}})}(jQuery,window,document),function(e,t,n,i){"use strict";t=void 0!==t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.checkbox=function(i){var r,o=e(this),a=o.selector||"",s=(new Date).getTime(),l=[],u=arguments[0],c="string"==typeof u,d=[].slice.call(arguments,1);return o.each(function(){var o,f,h=e.extend(!0,{},e.fn.checkbox.settings,i),p=h.className,g=h.namespace,v=h.selector,m=h.error,b="."+g,y="module-"+g,x=e(this),w=e(this).children(v.label),C=e(this).children(v.input),S=C[0],_=!1,k=!1,T=x.data(y),M=this;f={initialize:function(){f.verbose("Initializing checkbox",h),f.create.label(),f.bind.events(),f.set.tabbable(),f.hide.input(),f.observeChanges(),f.instantiate(),f.setup()},instantiate:function(){f.verbose("Storing instance of module",f),T=f,x.data(y,f)},destroy:function(){f.verbose("Destroying module"),f.unbind.events(),f.show.input(),x.removeData(y)},fix:{reference:function(){x.is(v.input)&&(f.debug("Behavior called on <input> adjusting invoked element"),x=x.closest(v.checkbox),f.refresh())}},setup:function(){f.set.initialLoad(),f.is.indeterminate()?(f.debug("Initial value is indeterminate"),f.indeterminate()):f.is.checked()?(f.debug("Initial value is checked"),f.check()):(f.debug("Initial value is unchecked"),f.uncheck()),f.remove.initialLoad()},refresh:function(){w=x.children(v.label),C=x.children(v.input),S=C[0]},hide:{input:function(){f.verbose("Modifying <input> z-index to be unselectable"),C.addClass(p.hidden)}},show:{input:function(){f.verbose("Modifying <input> z-index to be selectable"),C.removeClass(p.hidden)}},observeChanges:function(){"MutationObserver"in t&&((o=new MutationObserver(function(e){f.debug("DOM tree modified, updating selector cache"),f.refresh()})).observe(M,{childList:!0,subtree:!0}),f.debug("Setting up mutation observer",o))},attachEvents:function(t,n){var i=e(t);n=e.isFunction(f[n])?f[n]:f.toggle,i.length>0?(f.debug("Attaching checkbox events to element",t,n),i.on("click"+b,n)):f.error(m.notFound)},event:{click:function(t){var n=e(t.target);n.is(v.input)?f.verbose("Using default check action on initialized checkbox"):n.is(v.link)?f.debug("Clicking link inside checkbox, skipping toggle"):(f.toggle(),C.focus(),t.preventDefault())},keydown:function(e){var t=e.which,n={enter:13,space:32,escape:27};t==n.escape?(f.verbose("Escape key pressed blurring field"),C.blur(),k=!0):e.ctrlKey||t!=n.space&&t!=n.enter?k=!1:(f.verbose("Enter/space key pressed, toggling checkbox"),f.toggle(),k=!0)},keyup:function(e){k&&e.preventDefault()}},check:function(){f.should.allowCheck()&&(f.debug("Checking checkbox",C),f.set.checked(),f.should.ignoreCallbacks()||(h.onChecked.call(S),h.onChange.call(S)))},uncheck:function(){f.should.allowUncheck()&&(f.debug("Unchecking checkbox"),f.set.unchecked(),f.should.ignoreCallbacks()||(h.onUnchecked.call(S),h.onChange.call(S)))},indeterminate:function(){f.should.allowIndeterminate()?f.debug("Checkbox is already indeterminate"):(f.debug("Making checkbox indeterminate"),f.set.indeterminate(),f.should.ignoreCallbacks()||(h.onIndeterminate.call(S),h.onChange.call(S)))},determinate:function(){f.should.allowDeterminate()?f.debug("Checkbox is already determinate"):(f.debug("Making checkbox determinate"),f.set.determinate(),f.should.ignoreCallbacks()||(h.onDeterminate.call(S),h.onChange.call(S)))},enable:function(){f.is.enabled()?f.debug("Checkbox is already enabled"):(f.debug("Enabling checkbox"),f.set.enabled(),h.onEnable.call(S),h.onEnabled.call(S))},disable:function(){f.is.disabled()?f.debug("Checkbox is already disabled"):(f.debug("Disabling checkbox"),f.set.disabled(),h.onDisable.call(S),h.onDisabled.call(S))},get:{radios:function(){var t=f.get.name();return e('input[name="'+t+'"]').closest(v.checkbox)},otherRadios:function(){return f.get.radios().not(x)},name:function(){return C.attr("name")}},is:{initialLoad:function(){return _},radio:function(){return C.hasClass(p.radio)||"radio"==C.attr("type")},indeterminate:function(){return void 0!==C.prop("indeterminate")&&C.prop("indeterminate")},checked:function(){return void 0!==C.prop("checked")&&C.prop("checked")},disabled:function(){return void 0!==C.prop("disabled")&&C.prop("disabled")},enabled:function(){return!f.is.disabled()},determinate:function(){return!f.is.indeterminate()},unchecked:function(){return!f.is.checked()}},should:{allowCheck:function(){return f.is.determinate()&&f.is.checked()&&!f.should.forceCallbacks()?(f.debug("Should not allow check, checkbox is already checked"),!1):!1!==h.beforeChecked.apply(S)||(f.debug("Should not allow check, beforeChecked cancelled"),!1)},allowUncheck:function(){return f.is.determinate()&&f.is.unchecked()&&!f.should.forceCallbacks()?(f.debug("Should not allow uncheck, checkbox is already unchecked"),!1):!1!==h.beforeUnchecked.apply(S)||(f.debug("Should not allow uncheck, beforeUnchecked cancelled"),!1)},allowIndeterminate:function(){return f.is.indeterminate()&&!f.should.forceCallbacks()?(f.debug("Should not allow indeterminate, checkbox is already indeterminate"),!1):!1!==h.beforeIndeterminate.apply(S)||(f.debug("Should not allow indeterminate, beforeIndeterminate cancelled"),!1)},allowDeterminate:function(){return f.is.determinate()&&!f.should.forceCallbacks()?(f.debug("Should not allow determinate, checkbox is already determinate"),!1):!1!==h.beforeDeterminate.apply(S)||(f.debug("Should not allow determinate, beforeDeterminate cancelled"),!1)},forceCallbacks:function(){return f.is.initialLoad()&&h.fireOnInit},ignoreCallbacks:function(){return _&&!h.fireOnInit}},can:{change:function(){return!(x.hasClass(p.disabled)||x.hasClass(p.readOnly)||C.prop("disabled")||C.prop("readonly"))},uncheck:function(){return"boolean"==typeof h.uncheckable?h.uncheckable:!f.is.radio()}},set:{initialLoad:function(){_=!0},checked:function(){f.verbose("Setting class to checked"),x.removeClass(p.indeterminate).addClass(p.checked),f.is.radio()&&f.uncheckOthers(),f.is.indeterminate()||!f.is.checked()?(f.verbose("Setting state to checked",S),C.prop("indeterminate",!1).prop("checked",!0),f.trigger.change()):f.debug("Input is already checked, skipping input property change")},unchecked:function(){f.verbose("Removing checked class"),x.removeClass(p.indeterminate).removeClass(p.checked),f.is.indeterminate()||!f.is.unchecked()?(f.debug("Setting state to unchecked"),C.prop("indeterminate",!1).prop("checked",!1),f.trigger.change()):f.debug("Input is already unchecked")},indeterminate:function(){f.verbose("Setting class to indeterminate"),x.addClass(p.indeterminate),f.is.indeterminate()?f.debug("Input is already indeterminate, skipping input property change"):(f.debug("Setting state to indeterminate"),C.prop("indeterminate",!0),f.trigger.change())},determinate:function(){f.verbose("Removing indeterminate class"),x.removeClass(p.indeterminate),f.is.determinate()?f.debug("Input is already determinate, skipping input property change"):(f.debug("Setting state to determinate"),C.prop("indeterminate",!1))},disabled:function(){f.verbose("Setting class to disabled"),x.addClass(p.disabled),f.is.disabled()?f.debug("Input is already disabled, skipping input property change"):(f.debug("Setting state to disabled"),C.prop("disabled","disabled"),f.trigger.change())},enabled:function(){f.verbose("Removing disabled class"),x.removeClass(p.disabled),f.is.enabled()?f.debug("Input is already enabled, skipping input property change"):(f.debug("Setting state to enabled"),C.prop("disabled",!1),f.trigger.change())},tabbable:function(){f.verbose("Adding tabindex to checkbox"),void 0===C.attr("tabindex")&&C.attr("tabindex",0)}},remove:{initialLoad:function(){_=!1}},trigger:{change:function(){var e=n.createEvent("HTMLEvents"),t=C[0];t&&(f.verbose("Triggering native change event"),e.initEvent("change",!0,!1),t.dispatchEvent(e))}},create:{label:function(){C.prevAll(v.label).length>0?(C.prev(v.label).detach().insertAfter(C),f.debug("Moving existing label",w)):f.has.label()||(w=e("<label>").insertAfter(C),f.debug("Creating label",w))}},has:{label:function(){return w.length>0}},bind:{events:function(){f.verbose("Attaching checkbox events"),x.on("click"+b,f.event.click).on("keydown"+b,v.input,f.event.keydown).on("keyup"+b,v.input,f.event.keyup)}},unbind:{events:function(){f.debug("Removing events"),x.off(b)}},uncheckOthers:function(){var e=f.get.otherRadios();f.debug("Unchecking other radios",e),e.removeClass(p.checked)},toggle:function(){f.can.change()?f.is.indeterminate()||f.is.unchecked()?(f.debug("Currently unchecked"),f.check()):f.is.checked()&&f.can.uncheck()&&(f.debug("Currently checked"),f.uncheck()):f.is.radio()||f.debug("Checkbox is read-only or disabled, ignoring toggle")},setting:function(t,n){if(f.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,h,t);else{if(void 0===n)return h[t];e.isPlainObject(h[t])?e.extend(!0,h[t],n):h[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,f,t);else{if(void 0===n)return f[t];f[t]=n}},debug:function(){!h.silent&&h.debug&&(h.performance?f.performance.log(arguments):(f.debug=Function.prototype.bind.call(console.info,console,h.name+":"),f.debug.apply(console,arguments)))},verbose:function(){!h.silent&&h.verbose&&h.debug&&(h.performance?f.performance.log(arguments):(f.verbose=Function.prototype.bind.call(console.info,console,h.name+":"),f.verbose.apply(console,arguments)))},error:function(){h.silent||(f.error=Function.prototype.bind.call(console.error,console,h.name+":"),f.error.apply(console,arguments))},performance:{log:function(e){var t,n;h.performance&&(n=(t=(new Date).getTime())-(s||t),s=t,l.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:M,"Execution Time":n})),clearTimeout(f.performance.timer),f.performance.timer=setTimeout(f.performance.display,500)},display:function(){var t=h.name+":",n=0;s=!1,clearTimeout(f.performance.timer),e.each(l,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",a&&(t+=" '"+a+"'"),(void 0!==console.group||void 0!==console.table)&&l.length>0&&(console.groupCollapsed(t),console.table?console.table(l):e.each(l,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),l=[]}},invoke:function(t,n,i){var o,a,s,l=T;return n=n||d,i=M||i,"string"==typeof t&&void 0!==l&&(t=t.split(/[\. ]/),o=t.length-1,e.each(t,function(n,i){var r=n!=o?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(l[r])&&n!=o)l=l[r];else{if(void 0!==l[r])return a=l[r],!1;if(!e.isPlainObject(l[i])||n==o)return void 0!==l[i]?(a=l[i],!1):(f.error(m.method,t),!1);l=l[i]}})),e.isFunction(a)?s=a.apply(i,n):void 0!==a&&(s=a),e.isArray(r)?r.push(s):void 0!==r?r=[r,s]:void 0!==s&&(r=s),a}},c?(void 0===T&&f.initialize(),f.invoke(u)):(void 0!==T&&T.invoke("destroy"),f.initialize())}),void 0!==r?r:this},e.fn.checkbox.settings={name:"Checkbox",namespace:"checkbox",silent:!1,debug:!1,verbose:!0,performance:!0,uncheckable:"auto",fireOnInit:!1,onChange:function(){},beforeChecked:function(){},beforeUnchecked:function(){},beforeDeterminate:function(){},beforeIndeterminate:function(){},onChecked:function(){},onUnchecked:function(){},onDeterminate:function(){},onIndeterminate:function(){},onEnable:function(){},onDisable:function(){},onEnabled:function(){},onDisabled:function(){},className:{checked:"checked",indeterminate:"indeterminate",disabled:"disabled",hidden:"hidden",radio:"radio",readOnly:"read-only"},error:{method:"The method you called is not defined"},selector:{checkbox:".ui.checkbox",label:"label, .box",input:'input[type="checkbox"], input[type="radio"]',link:"a[href]"}}}(jQuery,window,document),function(e,t,n,i){"use strict";t=void 0!==t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.dimmer=function(t){var i,r=e(this),o=(new Date).getTime(),a=[],s=arguments[0],l="string"==typeof s,u=[].slice.call(arguments,1);return r.each(function(){var c,d,f,h=e.isPlainObject(t)?e.extend(!0,{},e.fn.dimmer.settings,t):e.extend({},e.fn.dimmer.settings),p=h.selector,g=h.namespace,v=h.className,m=h.error,b="."+g,y="module-"+g,x=r.selector||"",w="ontouchstart"in n.documentElement?"touchstart":"click",C=e(this),S=this,_=C.data(y);(f={preinitialize:function(){f.is.dimmer()?(d=C.parent(),c=C):(d=C,c=f.has.dimmer()?h.dimmerName?d.find(p.dimmer).filter("."+h.dimmerName):d.find(p.dimmer):f.create(),f.set.variation())},initialize:function(){f.debug("Initializing dimmer",h),f.bind.events(),f.set.dimmable(),f.instantiate()},instantiate:function(){f.verbose("Storing instance of module",f),_=f,C.data(y,_)},destroy:function(){f.verbose("Destroying previous module",c),f.unbind.events(),f.remove.variation(),d.off(b)},bind:{events:function(){"hover"==h.on?d.on("mouseenter"+b,f.show).on("mouseleave"+b,f.hide):"click"==h.on&&d.on(w+b,f.toggle),f.is.page()&&(f.debug("Setting as a page dimmer",d),f.set.pageDimmer()),f.is.closable()&&(f.verbose("Adding dimmer close event",c),d.on(w+b,p.dimmer,f.event.click))}},unbind:{events:function(){C.removeData(y),d.off(b)}},event:{click:function(t){f.verbose("Determining if event occured on dimmer",t),(0===c.find(t.target).length||e(t.target).is(p.content))&&(f.hide(),t.stopImmediatePropagation())}},addContent:function(t){var n=e(t);f.debug("Add content to dimmer",n),n.parent()[0]!==c[0]&&n.detach().appendTo(c)},create:function(){var t=e(h.template.dimmer());return h.dimmerName&&(f.debug("Creating named dimmer",h.dimmerName),t.addClass(h.dimmerName)),t.appendTo(d),t},show:function(t){t=e.isFunction(t)?t:function(){},f.debug("Showing dimmer",c,h),f.is.dimmed()&&!f.is.animating()||!f.is.enabled()?f.debug("Dimmer is already shown or disabled"):(f.animate.show(t),h.onShow.call(S),h.onChange.call(S))},hide:function(t){t=e.isFunction(t)?t:function(){},f.is.dimmed()||f.is.animating()?(f.debug("Hiding dimmer",c),f.animate.hide(t),h.onHide.call(S),h.onChange.call(S)):f.debug("Dimmer is not visible")},toggle:function(){f.verbose("Toggling dimmer visibility",c),f.is.dimmed()?f.hide():f.show()},animate:{show:function(t){t=e.isFunction(t)?t:function(){},h.useCSS&&void 0!==e.fn.transition&&c.transition("is supported")?("auto"!==h.opacity&&f.set.opacity(),c.transition({animation:h.transition+" in",queue:!1,duration:f.get.duration(),useFailSafe:!0,onStart:function(){f.set.dimmed()},onComplete:function(){f.set.active(),t()}})):(f.verbose("Showing dimmer animation with javascript"),f.set.dimmed(),"auto"==h.opacity&&(h.opacity=.8),c.stop().css({opacity:0,width:"100%",height:"100%"}).fadeTo(f.get.duration(),h.opacity,function(){c.removeAttr("style"),f.set.active(),t()}))},hide:function(t){t=e.isFunction(t)?t:function(){},h.useCSS&&void 0!==e.fn.transition&&c.transition("is supported")?(f.verbose("Hiding dimmer with css"),c.transition({animation:h.transition+" out",queue:!1,duration:f.get.duration(),useFailSafe:!0,onStart:function(){f.remove.dimmed()},onComplete:function(){f.remove.active(),t()}})):(f.verbose("Hiding dimmer with javascript"),f.remove.dimmed(),c.stop().fadeOut(f.get.duration(),function(){f.remove.active(),c.removeAttr("style"),t()}))}},get:{dimmer:function(){return c},duration:function(){return"object"==typeof h.duration?f.is.active()?h.duration.hide:h.duration.show:h.duration}},has:{dimmer:function(){return h.dimmerName?C.find(p.dimmer).filter("."+h.dimmerName).length>0:C.find(p.dimmer).length>0}},is:{active:function(){return c.hasClass(v.active)},animating:function(){return c.is(":animated")||c.hasClass(v.animating)},closable:function(){return"auto"==h.closable?"hover"!=h.on:h.closable},dimmer:function(){return C.hasClass(v.dimmer)},dimmable:function(){return C.hasClass(v.dimmable)},dimmed:function(){return d.hasClass(v.dimmed)},disabled:function(){return d.hasClass(v.disabled)},enabled:function(){return!f.is.disabled()},page:function(){return d.is("body")},pageDimmer:function(){return c.hasClass(v.pageDimmer)}},can:{show:function(){return!c.hasClass(v.disabled)}},set:{opacity:function(e){var t=c.css("background-color"),n=t.split(","),i=n&&3==n.length,r=n&&4==n.length;e=0===h.opacity?0:h.opacity||e,i||r?(n[3]=e+")",t=n.join(",")):t="rgba(0, 0, 0, "+e+")",f.debug("Setting opacity to",e),c.css("background-color",t)},active:function(){c.addClass(v.active)},dimmable:function(){d.addClass(v.dimmable)},dimmed:function(){d.addClass(v.dimmed)},pageDimmer:function(){c.addClass(v.pageDimmer)},disabled:function(){c.addClass(v.disabled)},variation:function(e){(e=e||h.variation)&&c.addClass(e)}},remove:{active:function(){c.removeClass(v.active)},dimmed:function(){d.removeClass(v.dimmed)},disabled:function(){c.removeClass(v.disabled)},variation:function(e){(e=e||h.variation)&&c.removeClass(e)}},setting:function(t,n){if(f.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,h,t);else{if(void 0===n)return h[t];e.isPlainObject(h[t])?e.extend(!0,h[t],n):h[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,f,t);else{if(void 0===n)return f[t];f[t]=n}},debug:function(){!h.silent&&h.debug&&(h.performance?f.performance.log(arguments):(f.debug=Function.prototype.bind.call(console.info,console,h.name+":"),f.debug.apply(console,arguments)))},verbose:function(){!h.silent&&h.verbose&&h.debug&&(h.performance?f.performance.log(arguments):(f.verbose=Function.prototype.bind.call(console.info,console,h.name+":"),f.verbose.apply(console,arguments)))},error:function(){h.silent||(f.error=Function.prototype.bind.call(console.error,console,h.name+":"),f.error.apply(console,arguments))},performance:{log:function(e){var t,n;h.performance&&(n=(t=(new Date).getTime())-(o||t),o=t,a.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:S,"Execution Time":n})),clearTimeout(f.performance.timer),f.performance.timer=setTimeout(f.performance.display,500)},display:function(){var t=h.name+":",n=0;o=!1,clearTimeout(f.performance.timer),e.each(a,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",x&&(t+=" '"+x+"'"),r.length>1&&(t+=" ("+r.length+")"),(void 0!==console.group||void 0!==console.table)&&a.length>0&&(console.groupCollapsed(t),console.table?console.table(a):e.each(a,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),a=[]}},invoke:function(t,n,r){var o,a,s,l=_;return n=n||u,r=S||r,"string"==typeof t&&void 0!==l&&(t=t.split(/[\. ]/),o=t.length-1,e.each(t,function(n,i){var r=n!=o?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(l[r])&&n!=o)l=l[r];else{if(void 0!==l[r])return a=l[r],!1;if(!e.isPlainObject(l[i])||n==o)return void 0!==l[i]?(a=l[i],!1):(f.error(m.method,t),!1);l=l[i]}})),e.isFunction(a)?s=a.apply(r,n):void 0!==a&&(s=a),e.isArray(i)?i.push(s):void 0!==i?i=[i,s]:void 0!==s&&(i=s),a}}).preinitialize(),l?(void 0===_&&f.initialize(),f.invoke(s)):(void 0!==_&&_.invoke("destroy"),f.initialize())}),void 0!==i?i:this},e.fn.dimmer.settings={name:"Dimmer",namespace:"dimmer",silent:!1,debug:!1,verbose:!1,performance:!0,dimmerName:!1,variation:!1,closable:"auto",useCSS:!0,transition:"fade",on:!1,opacity:"auto",duration:{show:500,hide:500},onChange:function(){},onShow:function(){},onHide:function(){},error:{method:"The method you called is not defined."},className:{active:"active",animating:"animating",dimmable:"dimmable",dimmed:"dimmed",dimmer:"dimmer",disabled:"disabled",hide:"hide",pageDimmer:"page",show:"show"},selector:{dimmer:"> .ui.dimmer",content:".ui.dimmer > .content, .ui.dimmer > .content > .center"},template:{dimmer:function(){return e("<div />").attr("class","ui dimmer")}}}}(jQuery,window,document),function(e,t,n,i){"use strict";t=void 0!==t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.dropdown=function(i){var r,o=e(this),a=e(n),s=o.selector||"",l="ontouchstart"in n.documentElement,u=(new Date).getTime(),c=[],d=arguments[0],f="string"==typeof d,h=[].slice.call(arguments,1);return o.each(function(p){var g,v,m,b,y,x,w,C,S=e.isPlainObject(i)?e.extend(!0,{},e.fn.dropdown.settings,i):e.extend({},e.fn.dropdown.settings),_=S.className,k=S.message,T=S.fields,M=S.keys,A=S.metadata,P=S.namespace,D=S.regExp,E=S.selector,R=S.error,I=S.templates,F="."+P,L="module-"+P,N=e(this),O=e(S.context),j=N.find(E.text),z=N.find(E.search),q=N.find(E.sizer),H=N.find(E.input),B=N.find(E.icon),V=N.prev().find(E.text).length>0?N.prev().find(E.text):N.prev(),W=N.children(E.menu),U=W.find(E.item),G=!1,Y=!1,X=!1,$=this,J=N.data(L);C={initialize:function(){C.debug("Initializing dropdown",S),C.is.alreadySetup()?C.setup.reference():(C.setup.layout(),C.refreshData(),C.save.defaults(),C.restore.selected(),C.create.id(),C.bind.events(),C.observeChanges(),C.instantiate())},instantiate:function(){C.verbose("Storing instance of dropdown",C),J=C,N.data(L,C)},destroy:function(){C.verbose("Destroying previous dropdown",N),C.remove.tabbable(),N.off(F).removeData(L),W.off(F),a.off(b),C.disconnect.menuObserver(),C.disconnect.selectObserver()},observeChanges:function(){"MutationObserver"in t&&(x=new MutationObserver(C.event.select.mutation),w=new MutationObserver(C.event.menu.mutation),C.debug("Setting up mutation observer",x,w),C.observe.select(),C.observe.menu())},disconnect:{menuObserver:function(){w&&w.disconnect()},selectObserver:function(){x&&x.disconnect()}},observe:{select:function(){C.has.input()&&x.observe(H[0],{childList:!0,subtree:!0})},menu:function(){C.has.menu()&&w.observe(W[0],{childList:!0,subtree:!0})}},create:{id:function(){y=(Math.random().toString(16)+"000000000").substr(2,8),b="."+y,C.verbose("Creating unique id for element",y)},userChoice:function(t){var n,i,r;return!!(t=t||C.get.userValues())&&(t=e.isArray(t)?t:[t],e.each(t,function(t,o){!1===C.get.item(o)&&(r=S.templates.addition(C.add.variables(k.addResult,o)),i=e("<div />").html(r).attr("data-"+A.value,o).attr("data-"+A.text,o).addClass(_.addition).addClass(_.item),S.hideAdditions&&i.addClass(_.hidden),n=void 0===n?i:n.add(i),C.verbose("Creating user choices for value",o,i))}),n)},userLabels:function(t){var n=C.get.userValues();n&&(C.debug("Adding user labels",n),e.each(n,function(e,t){C.verbose("Adding custom user value"),C.add.label(t,t)}))},menu:function(){W=e("<div />").addClass(_.menu).appendTo(N)},sizer:function(){q=e("<span />").addClass(_.sizer).insertAfter(z)}},search:function(e){e=void 0!==e?e:C.get.query(),C.verbose("Searching for query",e),C.has.minCharacters(e)?C.filter(e):C.hide()},select:{firstUnfiltered:function(){C.verbose("Selecting first non-filtered element"),C.remove.selectedItem(),U.not(E.unselectable).not(E.addition+E.hidden).eq(0).addClass(_.selected)},nextAvailable:function(e){var t=(e=e.eq(0)).nextAll(E.item).not(E.unselectable).eq(0),n=e.prevAll(E.item).not(E.unselectable).eq(0);t.length>0?(C.verbose("Moving selection to",t),t.addClass(_.selected)):(C.verbose("Moving selection to",n),n.addClass(_.selected))}},setup:{api:function(){var e={debug:S.debug,urlData:{value:C.get.value(),query:C.get.query()},on:!1};C.verbose("First request, initializing API"),N.api(e)},layout:function(){N.is("select")&&(C.setup.select(),C.setup.returnedObject()),C.has.menu()||C.create.menu(),C.is.search()&&!C.has.search()&&(C.verbose("Adding search input"),z=e("<input />").addClass(_.search).prop("autocomplete","off").insertBefore(j)),C.is.multiple()&&C.is.searchSelection()&&!C.has.sizer()&&C.create.sizer(),S.allowTab&&C.set.tabbable()},select:function(){var t=C.get.selectValues();C.debug("Dropdown initialized on a select",t),N.is("select")&&(H=N),H.parent(E.dropdown).length>0?(C.debug("UI dropdown already exists. Creating dropdown menu only"),N=H.closest(E.dropdown),C.has.menu()||C.create.menu(),W=N.children(E.menu),C.setup.menu(t)):(C.debug("Creating entire dropdown from select"),N=e("<div />").attr("class",H.attr("class")).addClass(_.selection).addClass(_.dropdown).html(I.dropdown(t)).insertBefore(H),H.hasClass(_.multiple)&&!1===H.prop("multiple")&&(C.error(R.missingMultiple),H.prop("multiple",!0)),H.is("[multiple]")&&C.set.multiple(),H.prop("disabled")&&(C.debug("Disabling dropdown"),N.addClass(_.disabled)),H.removeAttr("class").detach().prependTo(N)),C.refresh()},menu:function(e){W.html(I.menu(e,T)),U=W.find(E.item)},reference:function(){C.debug("Dropdown behavior was called on select, replacing with closest dropdown"),N=N.parent(E.dropdown),C.refresh(),C.setup.returnedObject(),f&&(J=C,C.invoke(d))},returnedObject:function(){var e=o.slice(0,p),t=o.slice(p+1);o=e.add(N).add(t)}},refresh:function(){C.refreshSelectors(),C.refreshData()},refreshItems:function(){U=W.find(E.item)},refreshSelectors:function(){C.verbose("Refreshing selector cache"),j=N.find(E.text),z=N.find(E.search),H=N.find(E.input),B=N.find(E.icon),V=N.prev().find(E.text).length>0?N.prev().find(E.text):N.prev(),W=N.children(E.menu),U=W.find(E.item)},refreshData:function(){C.verbose("Refreshing cached metadata"),U.removeData(A.text).removeData(A.value)},clearData:function(){C.verbose("Clearing metadata"),U.removeData(A.text).removeData(A.value),N.removeData(A.defaultText).removeData(A.defaultValue).removeData(A.placeholderText)},toggle:function(){C.verbose("Toggling menu visibility"),C.is.active()?C.hide():C.show()},show:function(t){if(t=e.isFunction(t)?t:function(){},!C.can.show()&&C.is.remote()&&(C.debug("No API results retrieved, searching before show"),C.queryRemote(C.get.query(),C.show)),C.can.show()&&!C.is.active()){if(C.debug("Showing dropdown"),!C.has.message()||C.has.maxSelections()||C.has.allResultsFiltered()||C.remove.message(),C.is.allFiltered())return!0;!1!==S.onShow.call($)&&C.animate.show(function(){C.can.click()&&C.bind.intent(),C.has.menuSearch()&&C.focusSearch(),C.set.visible(),t.call($)})}},hide:function(t){t=e.isFunction(t)?t:function(){},C.is.active()&&(C.debug("Hiding dropdown"),!1!==S.onHide.call($)&&C.animate.hide(function(){C.remove.visible(),t.call($)}))},hideOthers:function(){C.verbose("Finding other dropdowns to hide"),o.not(N).has(E.menu+"."+_.visible).dropdown("hide")},hideMenu:function(){C.verbose("Hiding menu  instantaneously"),C.remove.active(),C.remove.visible(),W.transition("hide")},hideSubMenus:function(){var e=W.children(E.item).find(E.menu);C.verbose("Hiding sub menus",e),e.transition("hide")},bind:{events:function(){l&&C.bind.touchEvents(),C.bind.keyboardEvents(),C.bind.inputEvents(),C.bind.mouseEvents()},touchEvents:function(){C.debug("Touch device detected binding additional touch events"),C.is.searchSelection()||C.is.single()&&N.on("touchstart"+F,C.event.test.toggle),W.on("touchstart"+F,E.item,C.event.item.mouseenter)},keyboardEvents:function(){C.verbose("Binding keyboard events"),N.on("keydown"+F,C.event.keydown),C.has.search()&&N.on(C.get.inputEvent()+F,E.search,C.event.input),C.is.multiple()&&a.on("keydown"+b,C.event.document.keydown)},inputEvents:function(){C.verbose("Binding input change events"),N.on("change"+F,E.input,C.event.change)},mouseEvents:function(){C.verbose("Binding mouse events"),C.is.multiple()&&N.on("click"+F,E.label,C.event.label.click).on("click"+F,E.remove,C.event.remove.click),C.is.searchSelection()?(N.on("mousedown"+F,C.event.mousedown).on("mouseup"+F,C.event.mouseup).on("mousedown"+F,E.menu,C.event.menu.mousedown).on("mouseup"+F,E.menu,C.event.menu.mouseup).on("click"+F,E.icon,C.event.icon.click).on("focus"+F,E.search,C.event.search.focus).on("click"+F,E.search,C.event.search.focus).on("blur"+F,E.search,C.event.search.blur).on("click"+F,E.text,C.event.text.focus),C.is.multiple()&&N.on("click"+F,C.event.click)):("click"==S.on?N.on("click"+F,E.icon,C.event.icon.click).on("click"+F,C.event.test.toggle):"hover"==S.on?N.on("mouseenter"+F,C.delay.show).on("mouseleave"+F,C.delay.hide):N.on(S.on+F,C.toggle),N.on("mousedown"+F,C.event.mousedown).on("mouseup"+F,C.event.mouseup).on("focus"+F,C.event.focus),C.has.menuSearch()?N.on("blur"+F,E.search,C.event.search.blur):N.on("blur"+F,C.event.blur)),W.on("mouseenter"+F,E.item,C.event.item.mouseenter).on("mouseleave"+F,E.item,C.event.item.mouseleave).on("click"+F,E.item,C.event.item.click)},intent:function(){C.verbose("Binding hide intent event to document"),l&&a.on("touchstart"+b,C.event.test.touch).on("touchmove"+b,C.event.test.touch),a.on("click"+b,C.event.test.hide)}},unbind:{intent:function(){C.verbose("Removing hide intent event from document"),l&&a.off("touchstart"+b).off("touchmove"+b),a.off("click"+b)}},filter:function(e){var t=void 0!==e?e:C.get.query(),n=function(){C.is.multiple()&&C.filterActive(),(e||!e&&0==C.get.activeItem().length)&&C.select.firstUnfiltered(),C.has.allResultsFiltered()?S.onNoResults.call($,t)?S.allowAdditions?S.hideAdditions&&(C.verbose("User addition with no menu, setting empty style"),C.set.empty(),C.hideMenu()):(C.verbose("All items filtered, showing message",t),C.add.message(k.noResults)):(C.verbose("All items filtered, hiding dropdown",t),C.hideMenu()):(C.remove.empty(),C.remove.message()),S.allowAdditions&&C.add.userSuggestion(e),C.is.searchSelection()&&C.can.show()&&C.is.focusedOnSearch()&&C.show()};S.useLabels&&C.has.maxSelections()||(S.apiSettings?C.can.useAPI()?C.queryRemote(t,function(){S.filterRemoteData&&C.filterItems(t),n()}):C.error(R.noAPI):(C.filterItems(t),n()))},queryRemote:function(t,n){var i={errorDuration:!1,cache:"local",throttle:S.throttle,urlData:{query:t},onError:function(){C.add.message(k.serverError),n()},onFailure:function(){C.add.message(k.serverError),n()},onSuccess:function(e){C.remove.message(),C.setup.menu({values:e[T.remoteValues]}),n()}};N.api("get request")||C.setup.api(),i=e.extend(!0,{},i,S.apiSettings),N.api("setting",i).api("query")},filterItems:function(t){var n=void 0!==t?t:C.get.query(),i=null,r=C.escape.string(n),o=new RegExp("^"+r,"igm");C.has.query()&&(i=[],C.verbose("Searching for matching values",n),U.each(function(){var t,r,a=e(this);if("both"==S.match||"text"==S.match){if(-1!==(t=String(C.get.choiceText(a,!1))).search(o))return i.push(this),!0;if("exact"===S.fullTextSearch&&C.exactSearch(n,t))return i.push(this),!0;if(!0===S.fullTextSearch&&C.fuzzySearch(n,t))return i.push(this),!0}if("both"==S.match||"value"==S.match){if(-1!==(r=String(C.get.choiceValue(a,t))).search(o))return i.push(this),!0;if("exact"===S.fullTextSearch&&C.exactSearch(n,r))return i.push(this),!0;if(!0===S.fullTextSearch&&C.fuzzySearch(n,r))return i.push(this),!0}})),C.debug("Showing only matched items",n),C.remove.filteredItem(),i&&U.not(i).addClass(_.filtered)},fuzzySearch:function(e,t){var n=t.length,i=e.length;if(e=e.toLowerCase(),t=t.toLowerCase(),i>n)return!1;if(i===n)return e===t;e:for(var r=0,o=0;r<i;r++){for(var a=e.charCodeAt(r);o<n;)if(t.charCodeAt(o++)===a)continue e;return!1}return!0},exactSearch:function(e,t){return e=e.toLowerCase(),(t=t.toLowerCase()).indexOf(e)>-1},filterActive:function(){S.useLabels&&U.filter("."+_.active).addClass(_.filtered)},focusSearch:function(e){C.has.search()&&!C.is.focusedOnSearch()&&(e?(N.off("focus"+F,E.search),z.focus(),N.on("focus"+F,E.search,C.event.search.focus)):z.focus())},forceSelection:function(){var e=U.not(_.filtered).filter("."+_.selected).eq(0),t=U.not(_.filtered).filter("."+_.active).eq(0),n=e.length>0?e:t;if(n.length>0&&!C.is.multiple())return C.debug("Forcing partial selection to selected item",n),void C.event.item.click.call(n,{},!0);S.allowAdditions?(C.set.selected(C.get.query()),C.remove.searchTerm()):C.remove.searchTerm()},event:{change:function(){X||(C.debug("Input changed, updating selection"),C.set.selected())},focus:function(){S.showOnFocus&&!G&&C.is.hidden()&&!v&&C.show()},blur:function(e){v=n.activeElement===this,G||v||(C.remove.activeLabel(),C.hide())},mousedown:function(){C.is.searchSelection()?m=!0:G=!0},mouseup:function(){C.is.searchSelection()?m=!1:G=!1},click:function(t){e(t.target).is(N)&&(C.is.focusedOnSearch()?C.show():C.focusSearch())},search:{focus:function(){G=!0,C.is.multiple()&&C.remove.activeLabel(),S.showOnFocus&&C.search()},blur:function(e){v=n.activeElement===this,C.is.searchSelection()&&!m&&(Y||v||(S.forceSelection&&C.forceSelection(),C.hide())),m=!1}},icon:{click:function(e){C.toggle()}},text:{focus:function(e){G=!0,C.focusSearch()}},input:function(e){(C.is.multiple()||C.is.searchSelection())&&C.set.filtered(),clearTimeout(C.timer),C.timer=setTimeout(C.search,S.delay.search)},label:{click:function(t){var n=e(this),i=N.find(E.label),r=i.filter("."+_.active),o=n.nextAll("."+_.active),a=n.prevAll("."+_.active),s=o.length>0?n.nextUntil(o).add(r).add(n):n.prevUntil(a).add(r).add(n);t.shiftKey?(r.removeClass(_.active),s.addClass(_.active)):t.ctrlKey?n.toggleClass(_.active):(r.removeClass(_.active),n.addClass(_.active)),S.onLabelSelect.apply(this,i.filter("."+_.active))}},remove:{click:function(){var t=e(this).parent();t.hasClass(_.active)?C.remove.activeLabels():C.remove.activeLabels(t)}},test:{toggle:function(e){var t=C.is.multiple()?C.show:C.toggle;C.is.bubbledLabelClick(e)||C.is.bubbledIconClick(e)||C.determine.eventOnElement(e,t)&&e.preventDefault()},touch:function(e){C.determine.eventOnElement(e,function(){"touchstart"==e.type?C.timer=setTimeout(function(){C.hide()},S.delay.touch):"touchmove"==e.type&&clearTimeout(C.timer)}),e.stopPropagation()},hide:function(e){C.determine.eventInModule(e,C.hide)}},select:{mutation:function(e){C.debug("<select> modified, recreating menu"),C.setup.select()}},menu:{mutation:function(t){var n=t[0],i=e(n.addedNodes?n.addedNodes[0]:!1),r=e(n.removedNodes?n.removedNodes[0]:!1),o=i.add(r),a=o.is(E.addition)||o.closest(E.addition).length>0,s=o.is(E.message)||o.closest(E.message).length>0;a||s?(C.debug("Updating item selector cache"),C.refreshItems()):(C.debug("Menu modified, updating selector cache"),C.refresh())},mousedown:function(){Y=!0},mouseup:function(){Y=!1}},item:{mouseenter:function(t){var n=e(t.target),i=e(this),r=i.children(E.menu),o=i.siblings(E.item).children(E.menu),a=r.length>0;!(r.find(n).length>0)&&a&&(clearTimeout(C.itemTimer),C.itemTimer=setTimeout(function(){C.verbose("Showing sub-menu",r),e.each(o,function(){C.animate.hide(!1,e(this))}),C.animate.show(!1,r)},S.delay.show),t.preventDefault())},mouseleave:function(t){var n=e(this).children(E.menu);n.length>0&&(clearTimeout(C.itemTimer),C.itemTimer=setTimeout(function(){C.verbose("Hiding sub-menu",n),C.animate.hide(!1,n)},S.delay.hide))},click:function(t,i){var r=e(this),o=e(t?t.target:""),a=r.find(E.menu),s=C.get.choiceText(r),l=C.get.choiceValue(r,s),u=a.length>0,c=a.find(o).length>0;C.has.menuSearch()&&e(n.activeElement).blur(),c||u&&!S.allowCategorySelection||(C.is.searchSelection()&&(S.allowAdditions&&C.remove.userAddition(),C.remove.searchTerm(),C.is.focusedOnSearch()||1==i||C.focusSearch(!0)),S.useLabels||(C.remove.filteredItem(),C.set.scrollPosition(r)),C.determine.selectAction.call(this,s,l))}},document:{keydown:function(e){var t=e.which;if(C.is.inObject(t,M)){var n=N.find(E.label),i=n.filter("."+_.active),r=(i.data(A.value),n.index(i)),o=n.length,a=i.length>0,s=i.length>1,l=0===r,u=r+1==o,c=C.is.searchSelection(),d=C.is.focusedOnSearch(),f=C.is.focused(),h=d&&0===C.get.caretPosition();if(c&&!a&&!d)return;t==M.leftArrow?!f&&!h||a?a&&(e.shiftKey?C.verbose("Adding previous label to selection"):(C.verbose("Selecting previous label"),n.removeClass(_.active)),l&&!s?i.addClass(_.active):i.prev(E.siblingLabel).addClass(_.active).end(),e.preventDefault()):(C.verbose("Selecting previous label"),n.last().addClass(_.active)):t==M.rightArrow?(f&&!a&&n.first().addClass(_.active),a&&(e.shiftKey?C.verbose("Adding next label to selection"):(C.verbose("Selecting next label"),n.removeClass(_.active)),u?c?d?n.removeClass(_.active):C.focusSearch():s?i.next(E.siblingLabel).addClass(_.active):i.addClass(_.active):i.next(E.siblingLabel).addClass(_.active),e.preventDefault())):t==M.deleteKey||t==M.backspace?a?(C.verbose("Removing active labels"),u&&c&&!d&&C.focusSearch(),i.last().next(E.siblingLabel).addClass(_.active),C.remove.activeLabels(i),e.preventDefault()):h&&!a&&t==M.backspace&&(C.verbose("Removing last label on input backspace"),i=n.last().addClass(_.active),C.remove.activeLabels(i)):i.removeClass(_.active)}}},keydown:function(e){var t=e.which;if(C.is.inObject(t,M)){var n,i=U.not(E.unselectable).filter("."+_.selected).eq(0),r=W.children("."+_.active).eq(0),o=i.length>0?i:r,a=o.length>0?o.siblings(":not(."+_.filtered+")").addBack():W.children(":not(."+_.filtered+")"),s=o.children(E.menu),l=o.closest(E.menu),u=l.hasClass(_.visible)||l.hasClass(_.animating)||l.parent(E.menu).length>0,c=s.length>0,d=o.length>0,f=o.not(E.unselectable).length>0,h=t==M.delimiter&&S.allowAdditions&&C.is.multiple();if(S.allowAdditions&&S.hideAdditions&&(t==M.enter||h)&&f&&(C.verbose("Selecting item from keyboard shortcut",o),C.event.item.click.call(o,e),C.is.searchSelection()&&C.remove.searchTerm()),C.is.visible()){if((t==M.enter||h)&&(t==M.enter&&d&&c&&!S.allowCategorySelection?(C.verbose("Pressed enter on unselectable category, opening sub menu"),t=M.rightArrow):f&&(C.verbose("Selecting item from keyboard shortcut",o),C.event.item.click.call(o,e),C.is.searchSelection()&&C.remove.searchTerm()),e.preventDefault()),d&&(t==M.leftArrow&&l[0]!==W[0]&&(C.verbose("Left key pressed, closing sub-menu"),C.animate.hide(!1,l),o.removeClass(_.selected),l.closest(E.item).addClass(_.selected),e.preventDefault()),t==M.rightArrow&&c&&(C.verbose("Right key pressed, opening sub-menu"),C.animate.show(!1,s),o.removeClass(_.selected),s.find(E.item).eq(0).addClass(_.selected),e.preventDefault())),t==M.upArrow){if(n=d&&u?o.prevAll(E.item+":not("+E.unselectable+")").eq(0):U.eq(0),a.index(n)<0)return C.verbose("Up key pressed but reached top of current menu"),void e.preventDefault();C.verbose("Up key pressed, changing active item"),o.removeClass(_.selected),n.addClass(_.selected),C.set.scrollPosition(n),S.selectOnKeydown&&C.is.single()&&C.set.selectedItem(n),e.preventDefault()}if(t==M.downArrow){if(0===(n=d&&u?n=o.nextAll(E.item+":not("+E.unselectable+")").eq(0):U.eq(0)).length)return C.verbose("Down key pressed but reached bottom of current menu"),void e.preventDefault();C.verbose("Down key pressed, changing active item"),U.removeClass(_.selected),n.addClass(_.selected),C.set.scrollPosition(n),S.selectOnKeydown&&C.is.single()&&C.set.selectedItem(n),e.preventDefault()}t==M.pageUp&&(C.scrollPage("up"),e.preventDefault()),t==M.pageDown&&(C.scrollPage("down"),e.preventDefault()),t==M.escape&&(C.verbose("Escape key pressed, closing dropdown"),C.hide())}else h&&e.preventDefault(),t!=M.downArrow||C.is.visible()||(C.verbose("Down key pressed, showing dropdown"),C.show(),e.preventDefault())}else C.has.search()||C.set.selectedLetter(String.fromCharCode(t))}},trigger:{change:function(){var e=n.createEvent("HTMLEvents"),t=H[0];t&&(C.verbose("Triggering native change event"),e.initEvent("change",!0,!1),t.dispatchEvent(e))}},determine:{selectAction:function(t,n){C.verbose("Determining action",S.action),e.isFunction(C.action[S.action])?(C.verbose("Triggering preset action",S.action,t,n),C.action[S.action].call($,t,n,this)):e.isFunction(S.action)?(C.verbose("Triggering user action",S.action,t,n),S.action.call($,t,n,this)):C.error(R.action,S.action)},eventInModule:function(t,i){var r=e(t.target),o=r.closest(n.documentElement).length>0,a=r.closest(N).length>0;return i=e.isFunction(i)?i:function(){},o&&!a?(C.verbose("Triggering event",i),i(),!0):(C.verbose("Event occurred in dropdown, canceling callback"),!1)},eventOnElement:function(t,i){var r=e(t.target),o=r.closest(E.siblingLabel),a=n.body.contains(t.target),s=0===N.find(o).length,l=0===r.closest(W).length;return i=e.isFunction(i)?i:function(){},a&&s&&l?(C.verbose("Triggering event",i),i(),!0):(C.verbose("Event occurred in dropdown menu, canceling callback"),!1)}},action:{nothing:function(){},activate:function(t,n,i){if(n=void 0!==n?n:t,C.can.activate(e(i))){if(C.set.selected(n,e(i)),C.is.multiple()&&!C.is.allFiltered())return;C.hideAndClear()}},select:function(t,n,i){if(n=void 0!==n?n:t,C.can.activate(e(i))){if(C.set.value(n,e(i)),C.is.multiple()&&!C.is.allFiltered())return;C.hideAndClear()}},combo:function(t,n,i){n=void 0!==n?n:t,C.set.selected(n,e(i)),C.hideAndClear()},hide:function(e,t,n){C.set.value(t,e),C.hideAndClear()}},get:{id:function(){return y},defaultText:function(){return N.data(A.defaultText)},defaultValue:function(){return N.data(A.defaultValue)},placeholderText:function(){return N.data(A.placeholderText)||""},text:function(){return j.text()},query:function(){return e.trim(z.val())},searchWidth:function(e){return e=void 0!==e?e:z.val(),q.text(e),Math.ceil(q.width()+1)},selectionCount:function(){var t=C.get.values();return C.is.multiple()?e.isArray(t)?t.length:0:""!==C.get.value()?1:0},transition:function(e){return"auto"==S.transition?C.is.upward(e)?"slide up":"slide down":S.transition},userValues:function(){var t=C.get.values();return!!t&&(t=e.isArray(t)?t:[t],e.grep(t,function(e){return!1===C.get.item(e)}))},uniqueArray:function(t){return e.grep(t,function(n,i){return e.inArray(n,t)===i})},caretPosition:function(){var e,t,i=z.get(0);return"selectionStart"in i?i.selectionStart:n.selection?(i.focus(),e=n.selection.createRange(),t=e.text.length,e.moveStart("character",-i.value.length),e.text.length-t):void 0},value:function(){var t=H.length>0?H.val():N.data(A.value),n=e.isArray(t)&&1===t.length&&""===t[0];return void 0===t||n?"":t},values:function(){var e=C.get.value();return""===e?"":!C.has.selectInput()&&C.is.multiple()?"string"==typeof e?e.split(S.delimiter):"":e},remoteValues:function(){var t=C.get.values(),n=!1;return t&&("string"==typeof t&&(t=[t]),e.each(t,function(e,t){var i=C.read.remoteData(t);C.verbose("Restoring value from session data",i,t),i&&(n||(n={}),n[t]=i)})),n},choiceText:function(t,n){if(n=void 0!==n?n:S.preserveHTML,t)return t.find(E.menu).length>0&&(C.verbose("Retrieving text of element with sub-menu"),(t=t.clone()).find(E.menu).remove(),t.find(E.menuIcon).remove()),void 0!==t.data(A.text)?t.data(A.text):n?e.trim(t.html()):e.trim(t.text())},choiceValue:function(t,n){return n=n||C.get.choiceText(t),!!t&&(void 0!==t.data(A.value)?String(t.data(A.value)):"string"==typeof n?e.trim(n.toLowerCase()):String(n))},inputEvent:function(){var e=z[0];return!!e&&(void 0!==e.oninput?"input":void 0!==e.onpropertychange?"propertychange":"keyup")},selectValues:function(){var t={};return t.values=[],N.find("option").each(function(){var n=e(this),i=n.html(),r=n.attr("disabled"),o=void 0!==n.attr("value")?n.attr("value"):i;"auto"===S.placeholder&&""===o?t.placeholder=i:t.values.push({name:i,value:o,disabled:r})}),S.placeholder&&"auto"!==S.placeholder&&(C.debug("Setting placeholder value to",S.placeholder),t.placeholder=S.placeholder),S.sortSelect?(t.values.sort(function(e,t){return e.name>t.name?1:-1}),C.debug("Retrieved and sorted values from select",t)):C.debug("Retrieved values from select",t),t},activeItem:function(){return U.filter("."+_.active)},selectedItem:function(){var e=U.not(E.unselectable).filter("."+_.selected);return e.length>0?e:U.eq(0)},itemWithAdditions:function(e){var t=C.get.item(e),n=C.create.userChoice(e);return n&&n.length>0&&(t=t.length>0?t.add(n):n),t},item:function(t,n){var i,r,o=!1;return t=void 0!==t?t:void 0!==C.get.values()?C.get.values():C.get.text(),i=r?t.length>0:void 0!==t&&null!==t,r=C.is.multiple()&&e.isArray(t),n=""===t||0===t||(n||!1),i&&U.each(function(){var i=e(this),a=C.get.choiceText(i),s=C.get.choiceValue(i,a);if(null!==s&&void 0!==s)if(r)-1===e.inArray(String(s),t)&&-1===e.inArray(a,t)||(o=o?o.add(i):i);else if(n){if(C.verbose("Ambiguous dropdown value using strict type check",i,t),s===t||a===t)return o=i,!0}else if(String(s)==String(t)||a==t)return C.verbose("Found select item by value",s,t),o=i,!0}),o}},check:{maxSelections:function(e){return!S.maxSelections||((e=void 0!==e?e:C.get.selectionCount())>=S.maxSelections?(C.debug("Maximum selection count reached"),S.useLabels&&(U.addClass(_.filtered),C.add.message(k.maxSelections)),!0):(C.verbose("No longer at maximum selection count"),C.remove.message(),C.remove.filteredItem(),C.is.searchSelection()&&C.filterItems(),!1))}},restore:{defaults:function(){C.clear(),C.restore.defaultText(),C.restore.defaultValue()},defaultText:function(){var e=C.get.defaultText();e===C.get.placeholderText?(C.debug("Restoring default placeholder text",e),C.set.placeholderText(e)):(C.debug("Restoring default text",e),C.set.text(e))},placeholderText:function(){C.set.placeholderText()},defaultValue:function(){var e=C.get.defaultValue();void 0!==e&&(C.debug("Restoring default value",e),""!==e?(C.set.value(e),C.set.selected()):(C.remove.activeItem(),C.remove.selectedItem()))},labels:function(){S.allowAdditions&&(S.useLabels||(C.error(R.labels),S.useLabels=!0),C.debug("Restoring selected values"),C.create.userLabels()),C.check.maxSelections()},selected:function(){C.restore.values(),C.is.multiple()?(C.debug("Restoring previously selected values and labels"),C.restore.labels()):C.debug("Restoring previously selected values")},values:function(){C.set.initialLoad(),S.apiSettings&&S.saveRemoteData&&C.get.remoteValues()?C.restore.remoteValues():C.set.selected(),C.remove.initialLoad()},remoteValues:function(){var t=C.get.remoteValues();C.debug("Recreating selected from session data",t),t&&(C.is.single()?e.each(t,function(e,t){C.set.text(t)}):e.each(t,function(e,t){C.add.label(e,t)}))}},read:{remoteData:function(e){var n;{if(void 0!==t.Storage)return void 0!==(n=sessionStorage.getItem(e))&&n;C.error(R.noStorage)}}},save:{defaults:function(){C.save.defaultText(),C.save.placeholderText(),C.save.defaultValue()},defaultValue:function(){var e=C.get.value();C.verbose("Saving default value as",e),N.data(A.defaultValue,e)},defaultText:function(){var e=C.get.text();C.verbose("Saving default text as",e),N.data(A.defaultText,e)},placeholderText:function(){var e;!1!==S.placeholder&&j.hasClass(_.placeholder)&&(e=C.get.text(),C.verbose("Saving placeholder text as",e),N.data(A.placeholderText,e))},remoteData:function(e,n){void 0!==t.Storage?(C.verbose("Saving remote data to session storage",n,e),sessionStorage.setItem(n,e)):C.error(R.noStorage)}},clear:function(){C.is.multiple()&&S.useLabels?C.remove.labels():(C.remove.activeItem(),C.remove.selectedItem()),C.set.placeholderText(),C.clearValue()},clearValue:function(){C.set.value("")},scrollPage:function(e,t){var n,i,r=t||C.get.selectedItem(),o=r.closest(E.menu),a=o.outerHeight(),s=o.scrollTop(),l=U.eq(0).outerHeight(),u=Math.floor(a/l),c=(o.prop("scrollHeight"),"up"==e?s-l*u:s+l*u),d=U.not(E.unselectable);i="up"==e?d.index(r)-u:d.index(r)+u,(n=("up"==e?i>=0:i<d.length)?d.eq(i):"up"==e?d.first():d.last()).length>0&&(C.debug("Scrolling page",e,n),r.removeClass(_.selected),n.addClass(_.selected),S.selectOnKeydown&&C.is.single()&&C.set.selectedItem(n),o.scrollTop(c))},set:{filtered:function(){var e=C.is.multiple(),t=C.is.searchSelection(),n=e&&t,i=t?C.get.query():"",r="string"==typeof i&&i.length>0,o=C.get.searchWidth(),a=""!==i;e&&r&&(C.verbose("Adjusting input width",o,S.glyphWidth),z.css("width",o)),r||n&&a?(C.verbose("Hiding placeholder text"),j.addClass(_.filtered)):(!e||n&&!a)&&(C.verbose("Showing placeholder text"),j.removeClass(_.filtered))},empty:function(){N.addClass(_.empty)},loading:function(){N.addClass(_.loading)},placeholderText:function(e){e=e||C.get.placeholderText(),C.debug("Setting placeholder text",e),C.set.text(e),j.addClass(_.placeholder)},tabbable:function(){C.is.searchSelection()?(C.debug("Added tabindex to searchable dropdown"),z.val("").attr("tabindex",0),W.attr("tabindex",-1)):(C.debug("Added tabindex to dropdown"),void 0===N.attr("tabindex")&&(N.attr("tabindex",0),W.attr("tabindex",-1)))},initialLoad:function(){C.verbose("Setting initial load"),g=!0},activeItem:function(e){S.allowAdditions&&e.filter(E.addition).length>0?e.addClass(_.filtered):e.addClass(_.active)},partialSearch:function(e){var t=C.get.query().length;z.val(e.substr(0,t))},scrollPosition:function(e,t){var n,i,r,o,a,s;n=(e=e||C.get.selectedItem()).closest(E.menu),i=e&&e.length>0,t=void 0!==t&&t,e&&n.length>0&&i&&(e.position().top,n.addClass(_.loading),r=(o=n.scrollTop())-n.offset().top+e.offset().top,t||(s=o+n.height()<r+5,a=r-5<o),C.debug("Scrolling to active item",r),(t||a||s)&&n.scrollTop(r),n.removeClass(_.loading))},text:function(e){"select"!==S.action&&("combo"==S.action?(C.debug("Changing combo button text",e,V),S.preserveHTML?V.html(e):V.text(e)):(e!==C.get.placeholderText()&&j.removeClass(_.placeholder),C.debug("Changing text",e,j),j.removeClass(_.filtered),S.preserveHTML?j.html(e):j.text(e)))},selectedItem:function(e){var t=C.get.choiceValue(e),n=C.get.choiceText(e,!1),i=C.get.choiceText(e,!0);C.debug("Setting user selection to item",e),C.remove.activeItem(),C.set.partialSearch(n),C.set.activeItem(e),C.set.selected(t,e),C.set.text(i)},selectedLetter:function(t){var n,i=U.filter("."+_.selected),r=!1;i.length>0&&C.has.firstLetter(i,t)&&(n=i.nextAll(U).eq(0),C.has.firstLetter(n,t)&&(r=n)),r||U.each(function(){if(C.has.firstLetter(e(this),t))return r=e(this),!1}),r&&(C.verbose("Scrolling to next value with letter",t),C.set.scrollPosition(r),i.removeClass(_.selected),r.addClass(_.selected),S.selectOnKeydown&&C.is.single()&&C.set.selectedItem(r))},direction:function(e){"auto"==S.direction?(C.remove.upward(),C.can.openDownward(e)?C.remove.upward(e):C.set.upward(e),C.is.leftward(e)||C.can.openRightward(e)||C.set.leftward(e)):"upward"==S.direction&&C.set.upward(e)},upward:function(e){(e||N).addClass(_.upward)},leftward:function(e){(e||W).addClass(_.leftward)},value:function(e,t,n){var i=C.escape.value(e),r=H.length>0,o=(C.has.value(e),C.get.values()),a=void 0!==e?String(e):e;if(r){if(!S.allowReselection&&a==o&&(C.verbose("Skipping value update already same value",e,o),!C.is.initialLoad()))return;C.is.single()&&C.has.selectInput()&&C.can.extendSelect()&&(C.debug("Adding user option",e),C.add.optionValue(e)),C.debug("Updating input value",i,o),X=!0,H.val(i),!1===S.fireOnInit&&C.is.initialLoad()?C.debug("Input native change event ignored on initial load"):C.trigger.change(),X=!1}else C.verbose("Storing value in metadata",i,H),i!==o&&N.data(A.value,a);!1===S.fireOnInit&&C.is.initialLoad()?C.verbose("No callback on initial load",S.onChange):S.onChange.call($,e,t,n)},active:function(){N.addClass(_.active)},multiple:function(){N.addClass(_.multiple)},visible:function(){N.addClass(_.visible)},exactly:function(e,t){C.debug("Setting selected to exact values"),C.clear(),C.set.selected(e,t)},selected:function(t,n){var i=C.is.multiple();(n=S.allowAdditions?n||C.get.itemWithAdditions(t):n||C.get.item(t))&&(C.debug("Setting selected menu item to",n),C.is.multiple()&&C.remove.searchWidth(),C.is.single()?(C.remove.activeItem(),C.remove.selectedItem()):S.useLabels&&C.remove.selectedItem(),n.each(function(){var t=e(this),r=C.get.choiceText(t),o=C.get.choiceValue(t,r),a=t.hasClass(_.filtered),s=t.hasClass(_.active),l=t.hasClass(_.addition),u=i&&1==n.length;i?!s||l?(S.apiSettings&&S.saveRemoteData&&C.save.remoteData(r,o),S.useLabels?(C.add.value(o,r,t),C.add.label(o,r,u),C.set.activeItem(t),C.filterActive(),C.select.nextAvailable(n)):(C.add.value(o,r,t),C.set.text(C.add.variables(k.count)),C.set.activeItem(t))):a||(C.debug("Selected active value, removing label"),C.remove.selected(o)):(S.apiSettings&&S.saveRemoteData&&C.save.remoteData(r,o),C.set.text(r),C.set.value(o,r,t),t.addClass(_.active).addClass(_.selected))}))}},add:{label:function(t,n,i){var r,o=C.is.searchSelection()?z:j,a=C.escape.value(t);r=e("<a />").addClass(_.label).attr("data-"+A.value,a).html(I.label(a,n)),r=S.onLabelCreate.call(r,a,n),C.has.label(t)?C.debug("Label already exists, skipping",a):(S.label.variation&&r.addClass(S.label.variation),!0===i?(C.debug("Animating in label",r),r.addClass(_.hidden).insertBefore(o).transition(S.label.transition,S.label.duration)):(C.debug("Adding selection label",r),r.insertBefore(o)))},message:function(t){var n=W.children(E.message),i=S.templates.message(C.add.variables(t));n.length>0?n.html(i):n=e("<div/>").html(i).addClass(_.message).appendTo(W)},optionValue:function(t){var n=C.escape.value(t);H.find('option[value="'+C.escape.string(n)+'"]').length>0||(C.disconnect.selectObserver(),C.is.single()&&(C.verbose("Removing previous user addition"),H.find("option."+_.addition).remove()),e("<option/>").prop("value",n).addClass(_.addition).html(t).appendTo(H),C.verbose("Adding user addition as an <option>",t),C.observe.select())},userSuggestion:function(e){var t,n=W.children(E.addition),i=C.get.item(e),r=i&&i.not(E.addition).length,o=n.length>0;S.useLabels&&C.has.maxSelections()||(""===e||r?n.remove():(o?(n.data(A.value,e).data(A.text,e).attr("data-"+A.value,e).attr("data-"+A.text,e).removeClass(_.filtered),S.hideAdditions||(t=S.templates.addition(C.add.variables(k.addResult,e)),n.html(t)),C.verbose("Replacing user suggestion with new value",n)):((n=C.create.userChoice(e)).prependTo(W),C.verbose("Adding item choice to menu corresponding with user choice addition",n)),S.hideAdditions&&!C.is.allFiltered()||n.addClass(_.selected).siblings().removeClass(_.selected),C.refreshItems()))},variables:function(e,t){var n,i,r=-1!==e.search("{count}"),o=-1!==e.search("{maxCount}"),a=-1!==e.search("{term}");return C.verbose("Adding templated variables to message",e),r&&(n=C.get.selectionCount(),e=e.replace("{count}",n)),o&&(n=C.get.selectionCount(),e=e.replace("{maxCount}",S.maxSelections)),a&&(i=t||C.get.query(),e=e.replace("{term}",i)),e},value:function(t,n,i){var r,o=C.get.values();""!==t?(e.isArray(o)?(r=o.concat([t]),r=C.get.uniqueArray(r)):r=[t],C.has.selectInput()?C.can.extendSelect()&&(C.debug("Adding value to select",t,r,H),C.add.optionValue(t)):(r=r.join(S.delimiter),C.debug("Setting hidden input to delimited value",r,H)),!1===S.fireOnInit&&C.is.initialLoad()?C.verbose("Skipping onadd callback on initial load",S.onAdd):S.onAdd.call($,t,n,i),C.set.value(r,t,n,i),C.check.maxSelections()):C.debug("Cannot select blank values from multiselect")}},remove:{active:function(){N.removeClass(_.active)},activeLabel:function(){N.find(E.label).removeClass(_.active)},empty:function(){N.removeClass(_.empty)},loading:function(){N.removeClass(_.loading)},initialLoad:function(){g=!1},upward:function(e){(e||N).removeClass(_.upward)},leftward:function(e){(e||W).removeClass(_.leftward)},visible:function(){N.removeClass(_.visible)},activeItem:function(){U.removeClass(_.active)},filteredItem:function(){S.useLabels&&C.has.maxSelections()||(S.useLabels&&C.is.multiple()?U.not("."+_.active).removeClass(_.filtered):U.removeClass(_.filtered),C.remove.empty())},optionValue:function(e){var t=C.escape.value(e),n=H.find('option[value="'+C.escape.string(t)+'"]');n.length>0&&n.hasClass(_.addition)&&(x&&(x.disconnect(),C.verbose("Temporarily disconnecting mutation observer")),n.remove(),C.verbose("Removing user addition as an <option>",t),x&&x.observe(H[0],{childList:!0,subtree:!0}))},message:function(){W.children(E.message).remove()},searchWidth:function(){z.css("width","")},searchTerm:function(){C.verbose("Cleared search term"),z.val(""),C.set.filtered()},userAddition:function(){U.filter(E.addition).remove()},selected:function(t,n){if(!(n=S.allowAdditions?n||C.get.itemWithAdditions(t):n||C.get.item(t)))return!1;n.each(function(){var t=e(this),n=C.get.choiceText(t),i=C.get.choiceValue(t,n);C.is.multiple()?S.useLabels?(C.remove.value(i,n,t),C.remove.label(i)):(C.remove.value(i,n,t),0===C.get.selectionCount()?C.set.placeholderText():C.set.text(C.add.variables(k.count))):C.remove.value(i,n,t),t.removeClass(_.filtered).removeClass(_.active),S.useLabels&&t.removeClass(_.selected)})},selectedItem:function(){U.removeClass(_.selected)},value:function(e,t,n){var i,r=C.get.values();C.has.selectInput()?(C.verbose("Input is <select> removing selected option",e),i=C.remove.arrayValue(e,r),C.remove.optionValue(e)):(C.verbose("Removing from delimited values",e),i=(i=C.remove.arrayValue(e,r)).join(S.delimiter)),!1===S.fireOnInit&&C.is.initialLoad()?C.verbose("No callback on initial load",S.onRemove):S.onRemove.call($,e,t,n),C.set.value(i,t,n),C.check.maxSelections()},arrayValue:function(t,n){return e.isArray(n)||(n=[n]),n=e.grep(n,function(e){return t!=e}),C.verbose("Removed value from delimited string",t,n),n},label:function(e,t){var n=N.find(E.label).filter("[data-"+A.value+'="'+C.escape.string(e)+'"]');C.verbose("Removing label",n),n.remove()},activeLabels:function(e){e=e||N.find(E.label).filter("."+_.active),C.verbose("Removing active label selections",e),C.remove.labels(e)},labels:function(t){t=t||N.find(E.label),C.verbose("Removing labels",t),t.each(function(){var t=e(this),n=t.data(A.value),i=void 0!==n?String(n):n,r=C.is.userValue(i);!1!==S.onLabelRemove.call(t,n)?(C.remove.message(),r?(C.remove.value(i),C.remove.label(i)):C.remove.selected(i)):C.debug("Label remove callback cancelled removal")})},tabbable:function(){C.is.searchSelection()?(C.debug("Searchable dropdown initialized"),z.removeAttr("tabindex"),W.removeAttr("tabindex")):(C.debug("Simple selection dropdown initialized"),N.removeAttr("tabindex"),W.removeAttr("tabindex"))}},has:{menuSearch:function(){return C.has.search()&&z.closest(W).length>0},search:function(){return z.length>0},sizer:function(){return q.length>0},selectInput:function(){return H.is("select")},minCharacters:function(e){return!S.minCharacters||(e=void 0!==e?String(e):String(C.get.query())).length>=S.minCharacters},firstLetter:function(e,t){var n,i;return!(!e||0===e.length||"string"!=typeof t)&&(n=C.get.choiceText(e,!1),t=t.toLowerCase(),i=String(n).charAt(0).toLowerCase(),t==i)},input:function(){return H.length>0},items:function(){return U.length>0},menu:function(){return W.length>0},message:function(){return 0!==W.children(E.message).length},label:function(e){var t=C.escape.value(e);return N.find(E.label).filter("[data-"+A.value+'="'+C.escape.string(t)+'"]').length>0},maxSelections:function(){return S.maxSelections&&C.get.selectionCount()>=S.maxSelections},allResultsFiltered:function(){var e=U.not(E.addition);return e.filter(E.unselectable).length===e.length},userSuggestion:function(){return W.children(E.addition).length>0},query:function(){return""!==C.get.query()},value:function(t){var n=C.get.values();return!!(e.isArray(n)?n&&-1!==e.inArray(t,n):n==t)}},is:{active:function(){return N.hasClass(_.active)},bubbledLabelClick:function(t){return e(t.target).is("select, input")&&N.closest("label").length>0},bubbledIconClick:function(t){return e(t.target).closest(B).length>0},alreadySetup:function(){return N.is("select")&&N.parent(E.dropdown).length>0&&0===N.prev().length},animating:function(e){return e?e.transition&&e.transition("is animating"):W.transition&&W.transition("is animating")},leftward:function(e){return(e||W).hasClass(_.leftward)},disabled:function(){return N.hasClass(_.disabled)},focused:function(){return n.activeElement===N[0]},focusedOnSearch:function(){return n.activeElement===z[0]},allFiltered:function(){return(C.is.multiple()||C.has.search())&&!(0==S.hideAdditions&&C.has.userSuggestion())&&!C.has.message()&&C.has.allResultsFiltered()},hidden:function(e){return!C.is.visible(e)},initialLoad:function(){return g},inObject:function(t,n){var i=!1;return e.each(n,function(e,n){if(n==t)return i=!0,!0}),i},multiple:function(){return N.hasClass(_.multiple)},remote:function(){return S.apiSettings&&C.can.useAPI()},single:function(){return!C.is.multiple()},selectMutation:function(t){var n=!1;return e.each(t,function(t,i){if(i.target&&e(i.target).is("select"))return n=!0,!0}),n},search:function(){return N.hasClass(_.search)},searchSelection:function(){return C.has.search()&&1===z.parent(E.dropdown).length},selection:function(){return N.hasClass(_.selection)},userValue:function(t){return-1!==e.inArray(t,C.get.userValues())},upward:function(e){return(e||N).hasClass(_.upward)},visible:function(e){return e?e.hasClass(_.visible):W.hasClass(_.visible)},verticallyScrollableContext:function(){var e=O.get(0)!==t&&O.css("overflow-y");return"auto"==e||"scroll"==e},horizontallyScrollableContext:function(){var e=O.get(0)!==t&&O.css("overflow-X");return"auto"==e||"scroll"==e}},can:{activate:function(e){return!!S.useLabels||(!C.has.maxSelections()||!(!C.has.maxSelections()||!e.hasClass(_.active)))},openDownward:function(e){var t,n=e||W,i=!0,r={};return n.addClass(_.loading),t={context:{scrollTop:O.scrollTop(),height:O.outerHeight()},menu:{offset:n.offset(),height:n.outerHeight()}},C.is.verticallyScrollableContext()&&(t.menu.offset.top+=t.context.scrollTop),(r={above:t.context.scrollTop<=t.menu.offset.top-t.menu.height,below:t.context.scrollTop+t.context.height>=t.menu.offset.top+t.menu.height}).below?(C.verbose("Dropdown can fit in context downward",r),i=!0):r.below||r.above?(C.verbose("Dropdown cannot fit below, opening upward",r),i=!1):(C.verbose("Dropdown cannot fit in either direction, favoring downward",r),i=!0),n.removeClass(_.loading),i},openRightward:function(e){var t,n=e||W,i=!0,r=!1;return n.addClass(_.loading),t={context:{scrollLeft:O.scrollLeft(),width:O.outerWidth()},menu:{offset:n.offset(),width:n.outerWidth()}},C.is.horizontallyScrollableContext()&&(t.menu.offset.left+=t.context.scrollLeft),(r=t.menu.offset.left+t.menu.width>=t.context.scrollLeft+t.context.width)&&(C.verbose("Dropdown cannot fit in context rightward",r),i=!1),n.removeClass(_.loading),i},click:function(){return l||"click"==S.on},extendSelect:function(){return S.allowAdditions||S.apiSettings},show:function(){return!C.is.disabled()&&(C.has.items()||C.has.message())},useAPI:function(){return void 0!==e.fn.api}},animate:{show:function(t,n){var i,r=n||W,o=n?function(){}:function(){C.hideSubMenus(),C.hideOthers(),C.set.active()};t=e.isFunction(t)?t:function(){},C.verbose("Doing menu show animation",r),C.set.direction(n),i=C.get.transition(n),C.is.selection()&&C.set.scrollPosition(C.get.selectedItem(),!0),(C.is.hidden(r)||C.is.animating(r))&&("none"==i?(o(),r.transition("show"),t.call($)):void 0!==e.fn.transition&&N.transition("is supported")?r.transition({animation:i+" in",debug:S.debug,verbose:S.verbose,duration:S.duration,queue:!0,onStart:o,onComplete:function(){t.call($)}}):C.error(R.noTransition,i))},hide:function(t,n){var i=n||W,r=(n?S.duration:S.duration,n?function(){}:function(){C.can.click()&&C.unbind.intent(),C.remove.active()}),o=C.get.transition(n);t=e.isFunction(t)?t:function(){},(C.is.visible(i)||C.is.animating(i))&&(C.verbose("Doing menu hide animation",i),"none"==o?(r(),i.transition("hide"),t.call($)):void 0!==e.fn.transition&&N.transition("is supported")?i.transition({animation:o+" out",duration:S.duration,debug:S.debug,verbose:S.verbose,queue:!0,onStart:r,onComplete:function(){t.call($)}}):C.error(R.transition))}},hideAndClear:function(){C.remove.searchTerm(),C.has.maxSelections()||(C.has.search()?C.hide(function(){C.remove.filteredItem()}):C.hide())},delay:{show:function(){C.verbose("Delaying show event to ensure user intent"),clearTimeout(C.timer),C.timer=setTimeout(C.show,S.delay.show)},hide:function(){C.verbose("Delaying hide event to ensure user intent"),clearTimeout(C.timer),C.timer=setTimeout(C.hide,S.delay.hide)}},escape:{value:function(t){var n=e.isArray(t),i="string"==typeof t,r=!i&&!n,o=i&&-1!==t.search(D.quote),a=[];return r||!o?t:(C.debug("Encoding quote values for use in select",t),n?(e.each(t,function(e,t){a.push(t.replace(D.quote,"&quot;"))}),a):t.replace(D.quote,"&quot;"))},string:function(e){return(e=String(e)).replace(D.escape,"\\$&")}},setting:function(t,n){if(C.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,S,t);else{if(void 0===n)return S[t];e.isPlainObject(S[t])?e.extend(!0,S[t],n):S[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,C,t);else{if(void 0===n)return C[t];C[t]=n}},debug:function(){!S.silent&&S.debug&&(S.performance?C.performance.log(arguments):(C.debug=Function.prototype.bind.call(console.info,console,S.name+":"),C.debug.apply(console,arguments)))},verbose:function(){!S.silent&&S.verbose&&S.debug&&(S.performance?C.performance.log(arguments):(C.verbose=Function.prototype.bind.call(console.info,console,S.name+":"),C.verbose.apply(console,arguments)))},error:function(){S.silent||(C.error=Function.prototype.bind.call(console.error,console,S.name+":"),C.error.apply(console,arguments))},performance:{log:function(e){var t,n;S.performance&&(n=(t=(new Date).getTime())-(u||t),u=t,c.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:$,"Execution Time":n})),clearTimeout(C.performance.timer),C.performance.timer=setTimeout(C.performance.display,500)},display:function(){var t=S.name+":",n=0;u=!1,clearTimeout(C.performance.timer),e.each(c,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",s&&(t+=" '"+s+"'"),(void 0!==console.group||void 0!==console.table)&&c.length>0&&(console.groupCollapsed(t),console.table?console.table(c):e.each(c,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),c=[]}},invoke:function(t,n,i){var o,a,s,l=J;return n=n||h,i=$||i,"string"==typeof t&&void 0!==l&&(t=t.split(/[\. ]/),o=t.length-1,e.each(t,function(n,i){var r=n!=o?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(l[r])&&n!=o)l=l[r];else{if(void 0!==l[r])return a=l[r],!1;if(!e.isPlainObject(l[i])||n==o)return void 0!==l[i]?(a=l[i],!1):(C.error(R.method,t),!1);l=l[i]}})),e.isFunction(a)?s=a.apply(i,n):void 0!==a&&(s=a),e.isArray(r)?r.push(s):void 0!==r?r=[r,s]:void 0!==s&&(r=s),a}},f?(void 0===J&&C.initialize(),C.invoke(d)):(void 0!==J&&J.invoke("destroy"),C.initialize())}),void 0!==r?r:o},e.fn.dropdown.settings={silent:!1,debug:!1,verbose:!1,performance:!0,on:"click",action:"activate",apiSettings:!1,selectOnKeydown:!0,minCharacters:0,filterRemoteData:!1,saveRemoteData:!0,throttle:200,context:t,direction:"auto",keepOnScreen:!0,match:"both",fullTextSearch:!1,placeholder:"auto",preserveHTML:!0,sortSelect:!1,forceSelection:!0,allowAdditions:!1,hideAdditions:!0,maxSelections:!1,useLabels:!0,delimiter:",",showOnFocus:!0,allowReselection:!1,allowTab:!0,allowCategorySelection:!1,fireOnInit:!1,transition:"auto",duration:200,glyphWidth:1.037,label:{transition:"scale",duration:200,variation:!1},delay:{hide:300,show:200,search:20,touch:50},onChange:function(e,t,n){},onAdd:function(e,t,n){},onRemove:function(e,t,n){},onLabelSelect:function(e){},onLabelCreate:function(t,n){return e(this)},onLabelRemove:function(e){return!0},onNoResults:function(e){return!0},onShow:function(){},onHide:function(){},name:"Dropdown",namespace:"dropdown",message:{addResult:"Add <b>{term}</b>",count:"{count} selected",maxSelections:"Max {maxCount} selections",noResults:"No results found.",serverError:"There was an error contacting the server"},error:{action:"You called a dropdown action that was not defined",alreadySetup:"Once a select has been initialized behaviors must be called on the created ui dropdown",labels:"Allowing user additions currently requires the use of labels.",missingMultiple:"<select> requires multiple property to be set to correctly preserve multiple values",method:"The method you called is not defined.",noAPI:"The API module is required to load resources remotely",noStorage:"Saving remote data requires session storage",noTransition:"This module requires ui transitions <https://github.com/Semantic-Org/UI-Transition>"},regExp:{escape:/[-[\]{}()*+?.,\\^$|#\s]/g,quote:/"/g},metadata:{defaultText:"defaultText",defaultValue:"defaultValue",placeholderText:"placeholder",text:"text",value:"value"},fields:{remoteValues:"results",values:"values",disabled:"disabled",name:"name",value:"value",text:"text"},keys:{backspace:8,delimiter:188,deleteKey:46,enter:13,escape:27,pageUp:33,pageDown:34,leftArrow:37,upArrow:38,rightArrow:39,downArrow:40},selector:{addition:".addition",dropdown:".ui.dropdown",hidden:".hidden",icon:"> .dropdown.icon",input:'> input[type="hidden"], > select',item:".item",label:"> .label",remove:"> .label > .delete.icon",siblingLabel:".label",menu:".menu",message:".message",menuIcon:".dropdown.icon",search:"input.search, .menu > .search > input, .menu input.search",sizer:"> input.sizer",text:"> .text:not(.icon)",unselectable:".disabled, .filtered"},className:{active:"active",addition:"addition",animating:"animating",disabled:"disabled",empty:"empty",dropdown:"ui dropdown",filtered:"filtered",hidden:"hidden transition",item:"item",label:"ui label",loading:"loading",menu:"menu",message:"message",multiple:"multiple",placeholder:"default",sizer:"sizer",search:"search",selected:"selected",selection:"selection",upward:"upward",leftward:"left",visible:"visible"}},e.fn.dropdown.settings.templates={dropdown:function(t){var n=t.placeholder||!1,i=(t.values,"");return i+='<i class="dropdown icon"></i>',t.placeholder?i+='<div class="default text">'+n+"</div>":i+='<div class="text"></div>',i+='<div class="menu">',e.each(t.values,function(e,t){i+=t.disabled?'<div class="disabled item" data-value="'+t.value+'">'+t.name+"</div>":'<div class="item" data-value="'+t.value+'">'+t.name+"</div>"}),i+="</div>"},menu:function(t,n){var i=t[n.values]||{},r="";return e.each(i,function(e,t){var i=t[n.text]?'data-text="'+t[n.text]+'"':"",o=t[n.disabled]?"disabled ":"";r+='<div class="'+o+'item" data-value="'+t[n.value]+'"'+i+">",r+=t[n.name],r+="</div>"}),r},label:function(e,t){return t+'<i class="delete icon"></i>'},message:function(e){return e},addition:function(e){return e}}}(jQuery,window,document),function(e,t,n,i){"use strict";t=void 0!==t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.embed=function(n){var i,r=e(this),o=r.selector||"",a=(new Date).getTime(),s=[],l=arguments[0],u="string"==typeof l,c=[].slice.call(arguments,1);return r.each(function(){var d,f=e.isPlainObject(n)?e.extend(!0,{},e.fn.embed.settings,n):e.extend({},e.fn.embed.settings),h=f.selector,p=f.className,g=f.sources,v=f.error,m=f.metadata,b=f.namespace,y=f.templates,x="."+b,w="module-"+b,C=(e(t),e(this)),S=C.find(h.placeholder),_=C.find(h.icon),k=C.find(h.embed),T=this,M=C.data(w);d={initialize:function(){d.debug("Initializing embed"),d.determine.autoplay(),d.create(),d.bind.events(),d.instantiate()},instantiate:function(){d.verbose("Storing instance of module",d),M=d,C.data(w,d)},destroy:function(){d.verbose("Destroying previous instance of embed"),d.reset(),C.removeData(w).off(x)},refresh:function(){d.verbose("Refreshing selector cache"),S=C.find(h.placeholder),_=C.find(h.icon),k=C.find(h.embed)},bind:{events:function(){d.has.placeholder()&&(d.debug("Adding placeholder events"),C.on("click"+x,h.placeholder,d.createAndShow).on("click"+x,h.icon,d.createAndShow))}},create:function(){d.get.placeholder()?d.createPlaceholder():d.createAndShow()},createPlaceholder:function(e){var t=d.get.icon(),n=d.get.url();d.generate.embed(n);e=e||d.get.placeholder(),C.html(y.placeholder(e,t)),d.debug("Creating placeholder for embed",e,t)},createEmbed:function(t){d.refresh(),t=t||d.get.url(),k=e("<div/>").addClass(p.embed).html(d.generate.embed(t)).appendTo(C),f.onCreate.call(T,t),d.debug("Creating embed object",k)},changeEmbed:function(e){k.html(d.generate.embed(e))},createAndShow:function(){d.createEmbed(),d.show()},change:function(e,t,n){d.debug("Changing video to ",e,t,n),C.data(m.source,e).data(m.id,t),n?C.data(m.url,n):C.removeData(m.url),d.has.embed()?d.changeEmbed():d.create()},reset:function(){d.debug("Clearing embed and showing placeholder"),d.remove.active(),d.remove.embed(),d.showPlaceholder(),f.onReset.call(T)},show:function(){d.debug("Showing embed"),d.set.active(),f.onDisplay.call(T)},hide:function(){d.debug("Hiding embed"),d.showPlaceholder()},showPlaceholder:function(){d.debug("Showing placeholder image"),d.remove.active(),f.onPlaceholderDisplay.call(T)},get:{id:function(){return f.id||C.data(m.id)},placeholder:function(){return f.placeholder||C.data(m.placeholder)},icon:function(){return f.icon?f.icon:void 0!==C.data(m.icon)?C.data(m.icon):d.determine.icon()},source:function(e){return f.source?f.source:void 0!==C.data(m.source)?C.data(m.source):d.determine.source()},type:function(){var e=d.get.source();return void 0!==g[e]&&g[e].type},url:function(){return f.url?f.url:void 0!==C.data(m.url)?C.data(m.url):d.determine.url()}},determine:{autoplay:function(){d.should.autoplay()&&(f.autoplay=!0)},source:function(t){var n=!1;return(t=t||d.get.url())&&e.each(g,function(e,i){if(-1!==t.search(i.domain))return n=e,!1}),n},icon:function(){var e=d.get.source();return void 0!==g[e]&&g[e].icon},url:function(){var e,t=f.id||C.data(m.id),n=f.source||C.data(m.source);return(e=void 0!==g[n]&&g[n].url.replace("{id}",t))&&C.data(m.url,e),e}},set:{active:function(){C.addClass(p.active)}},remove:{active:function(){C.removeClass(p.active)},embed:function(){k.empty()}},encode:{parameters:function(e){var t,n=[];for(t in e)n.push(encodeURIComponent(t)+"="+encodeURIComponent(e[t]));return n.join("&amp;")}},generate:{embed:function(e){d.debug("Generating embed html");var t,n,i=d.get.source();return(e=d.get.url(e))?(n=d.generate.parameters(i),t=y.iframe(e,n)):d.error(v.noURL,C),t},parameters:function(t,n){var i=g[t]&&void 0!==g[t].parameters?g[t].parameters(f):{};return(n=n||f.parameters)&&(i=e.extend({},i,n)),i=f.onEmbed(i),d.encode.parameters(i)}},has:{embed:function(){return k.length>0},placeholder:function(){return f.placeholder||C.data(m.placeholder)}},should:{autoplay:function(){return"auto"===f.autoplay?f.placeholder||void 0!==C.data(m.placeholder):f.autoplay}},is:{video:function(){return"video"==d.get.type()}},setting:function(t,n){if(d.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,f,t);else{if(void 0===n)return f[t];e.isPlainObject(f[t])?e.extend(!0,f[t],n):f[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,d,t);else{if(void 0===n)return d[t];d[t]=n}},debug:function(){!f.silent&&f.debug&&(f.performance?d.performance.log(arguments):(d.debug=Function.prototype.bind.call(console.info,console,f.name+":"),d.debug.apply(console,arguments)))},verbose:function(){!f.silent&&f.verbose&&f.debug&&(f.performance?d.performance.log(arguments):(d.verbose=Function.prototype.bind.call(console.info,console,f.name+":"),d.verbose.apply(console,arguments)))},error:function(){f.silent||(d.error=Function.prototype.bind.call(console.error,console,f.name+":"),d.error.apply(console,arguments))},performance:{log:function(e){var t,n;f.performance&&(n=(t=(new Date).getTime())-(a||t),a=t,s.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:T,"Execution Time":n})),clearTimeout(d.performance.timer),d.performance.timer=setTimeout(d.performance.display,500)},display:function(){var t=f.name+":",n=0;a=!1,clearTimeout(d.performance.timer),e.each(s,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",o&&(t+=" '"+o+"'"),r.length>1&&(t+=" ("+r.length+")"),(void 0!==console.group||void 0!==console.table)&&s.length>0&&(console.groupCollapsed(t),console.table?console.table(s):e.each(s,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),s=[]}},invoke:function(t,n,r){var o,a,s,l=M;return n=n||c,r=T||r,"string"==typeof t&&void 0!==l&&(t=t.split(/[\. ]/),o=t.length-1,e.each(t,function(n,i){var r=n!=o?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(l[r])&&n!=o)l=l[r];else{if(void 0!==l[r])return a=l[r],!1;if(!e.isPlainObject(l[i])||n==o)return void 0!==l[i]?(a=l[i],!1):(d.error(v.method,t),!1);l=l[i]}})),e.isFunction(a)?s=a.apply(r,n):void 0!==a&&(s=a),e.isArray(i)?i.push(s):void 0!==i?i=[i,s]:void 0!==s&&(i=s),a}},u?(void 0===M&&d.initialize(),d.invoke(l)):(void 0!==M&&M.invoke("destroy"),d.initialize())}),void 0!==i?i:this},e.fn.embed.settings={name:"Embed",namespace:"embed",silent:!1,debug:!1,verbose:!1,performance:!0,icon:!1,source:!1,url:!1,id:!1,autoplay:"auto",color:"#444444",hd:!0,brandedUI:!1,parameters:!1,onDisplay:function(){},onPlaceholderDisplay:function(){},onReset:function(){},onCreate:function(e){},onEmbed:function(e){return e},metadata:{id:"id",icon:"icon",placeholder:"placeholder",source:"source",url:"url"},error:{noURL:"No URL specified",method:"The method you called is not defined"},className:{active:"active",embed:"embed"},selector:{embed:".embed",placeholder:".placeholder",icon:".icon"},sources:{youtube:{name:"youtube",type:"video",icon:"video play",domain:"youtube.com",url:"//www.youtube.com/embed/{id}",parameters:function(e){return{autohide:!e.brandedUI,autoplay:e.autoplay,color:e.color||void 0,hq:e.hd,jsapi:e.api,modestbranding:!e.brandedUI}}},vimeo:{name:"vimeo",type:"video",icon:"video play",domain:"vimeo.com",url:"//player.vimeo.com/video/{id}",parameters:function(e){return{api:e.api,autoplay:e.autoplay,byline:e.brandedUI,color:e.color||void 0,portrait:e.brandedUI,title:e.brandedUI}}}},templates:{iframe:function(e,t){var n=e;return t&&(n+="?"+t),'<iframe src="'+n+'" width="100%" height="100%" frameborder="0" scrolling="no" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>'},placeholder:function(e,t){var n="";return t&&(n+='<i class="'+t+' icon"></i>'),e&&(n+='<img class="placeholder" src="'+e+'">'),n}},api:!1,onPause:function(){},onPlay:function(){},onStop:function(){}}}(jQuery,window,document),function(e,t,n,i){"use strict";t=void 0!==t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.modal=function(i){var r,o=e(this),a=e(t),s=e(n),l=e("body"),u=o.selector||"",c=(new Date).getTime(),d=[],f=arguments[0],h="string"==typeof f,p=[].slice.call(arguments,1),g=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)};return o.each(function(){var o,v,m,b,y,x,w,C,S,_=e.isPlainObject(i)?e.extend(!0,{},e.fn.modal.settings,i):e.extend({},e.fn.modal.settings),k=_.selector,T=_.className,M=_.namespace,A=_.error,P="."+M,D="module-"+M,E=e(this),R=e(_.context),I=E.find(k.close),F=this,L=E.data(D),N=!1;S={initialize:function(){S.verbose("Initializing dimmer",R),S.create.id(),S.create.dimmer(),S.refreshModals(),S.bind.events(),_.observeChanges&&S.observeChanges(),S.instantiate()},instantiate:function(){S.verbose("Storing instance of modal"),L=S,E.data(D,L)},create:{dimmer:function(){var t={debug:_.debug,dimmerName:"modals"},n=e.extend(!0,t,_.dimmerSettings);void 0!==e.fn.dimmer?(S.debug("Creating dimmer"),b=R.dimmer(n),_.detachable?(S.verbose("Modal is detachable, moving content into dimmer"),b.dimmer("add content",E)):S.set.undetached(),y=b.dimmer("get dimmer")):S.error(A.dimmer)},id:function(){w=(Math.random().toString(16)+"000000000").substr(2,8),x="."+w,S.verbose("Creating unique id for element",w)}},destroy:function(){S.verbose("Destroying previous modal"),E.removeData(D).off(P),a.off(x),y.off(x),I.off(P),R.dimmer("destroy")},observeChanges:function(){"MutationObserver"in t&&((C=new MutationObserver(function(e){S.debug("DOM tree modified, refreshing"),S.refresh()})).observe(F,{childList:!0,subtree:!0}),S.debug("Setting up mutation observer",C))},refresh:function(){S.remove.scrolling(),S.cacheSizes(),S.set.screenHeight(),S.set.type(),S.set.position()},refreshModals:function(){v=E.siblings(k.modal),o=v.add(E)},attachEvents:function(t,n){var i=e(t);n=e.isFunction(S[n])?S[n]:S.toggle,i.length>0?(S.debug("Attaching modal events to element",t,n),i.off(P).on("click"+P,n)):S.error(A.notFound,t)},bind:{events:function(){S.verbose("Attaching events"),E.on("click"+P,k.close,S.event.close).on("click"+P,k.approve,S.event.approve).on("click"+P,k.deny,S.event.deny),a.on("resize"+x,S.event.resize)}},get:{id:function(){return(Math.random().toString(16)+"000000000").substr(2,8)}},event:{approve:function(){N||!1===_.onApprove.call(F,e(this))?S.verbose("Approve callback returned false cancelling hide"):(N=!0,S.hide(function(){N=!1}))},deny:function(){N||!1===_.onDeny.call(F,e(this))?S.verbose("Deny callback returned false cancelling hide"):(N=!0,S.hide(function(){N=!1}))},close:function(){S.hide()},click:function(t){var i=e(t.target).closest(k.modal).length>0,r=e.contains(n.documentElement,t.target);!i&&r&&(S.debug("Dimmer clicked, hiding all modals"),S.is.active()&&(S.remove.clickaway(),_.allowMultiple?S.hide():S.hideAll()))},debounce:function(e,t){clearTimeout(S.timer),S.timer=setTimeout(e,t)},keyboard:function(e){27==e.which&&(_.closable?(S.debug("Escape key pressed hiding modal"),S.hide()):S.debug("Escape key pressed, but closable is set to false"),e.preventDefault())},resize:function(){b.dimmer("is active")&&(S.is.animating()||S.is.active())&&g(S.refresh)}},toggle:function(){S.is.active()||S.is.animating()?S.hide():S.show()},show:function(t){t=e.isFunction(t)?t:function(){},S.refreshModals(),S.set.dimmerSettings(),S.showModal(t)},hide:function(t){t=e.isFunction(t)?t:function(){},S.refreshModals(),S.hideModal(t)},showModal:function(t){t=e.isFunction(t)?t:function(){},S.is.animating()||!S.is.active()?(S.showDimmer(),S.cacheSizes(),S.set.position(),S.set.screenHeight(),S.set.type(),S.set.clickaway(),!_.allowMultiple&&S.others.active()?S.hideOthers(S.showModal):(_.onShow.call(F),_.transition&&void 0!==e.fn.transition&&E.transition("is supported")?(S.debug("Showing modal with css animations"),E.transition({debug:_.debug,animation:_.transition+" in",queue:_.queue,duration:_.duration,useFailSafe:!0,onComplete:function(){_.onVisible.apply(F),_.keyboardShortcuts&&S.add.keyboardShortcuts(),S.save.focus(),S.set.active(),_.autofocus&&S.set.autofocus(),t()}})):S.error(A.noTransition))):S.debug("Modal is already visible")},hideModal:function(t,n){t=e.isFunction(t)?t:function(){},S.debug("Hiding modal"),!1!==_.onHide.call(F,e(this))?(S.is.animating()||S.is.active())&&(_.transition&&void 0!==e.fn.transition&&E.transition("is supported")?(S.remove.active(),E.transition({debug:_.debug,animation:_.transition+" out",queue:_.queue,duration:_.duration,useFailSafe:!0,onStart:function(){S.others.active()||n||S.hideDimmer(),_.keyboardShortcuts&&S.remove.keyboardShortcuts()},onComplete:function(){_.onHidden.call(F),S.restore.focus(),t()}})):S.error(A.noTransition)):S.verbose("Hide callback returned false cancelling hide")},showDimmer:function(){b.dimmer("is animating")||!b.dimmer("is active")?(S.debug("Showing dimmer"),b.dimmer("show")):S.debug("Dimmer already visible")},hideDimmer:function(){b.dimmer("is animating")||b.dimmer("is active")?b.dimmer("hide",function(){S.remove.clickaway(),S.remove.screenHeight()}):S.debug("Dimmer is not visible cannot hide")},hideAll:function(t){var n=o.filter("."+T.active+", ."+T.animating);t=e.isFunction(t)?t:function(){},n.length>0&&(S.debug("Hiding all visible modals"),S.hideDimmer(),n.modal("hide modal",t))},hideOthers:function(t){var n=v.filter("."+T.active+", ."+T.animating);t=e.isFunction(t)?t:function(){},n.length>0&&(S.debug("Hiding other modals",v),n.modal("hide modal",t,!0))},others:{active:function(){return v.filter("."+T.active).length>0},animating:function(){return v.filter("."+T.animating).length>0}},add:{keyboardShortcuts:function(){S.verbose("Adding keyboard shortcuts"),s.on("keyup"+P,S.event.keyboard)}},save:{focus:function(){m=e(n.activeElement).blur()}},restore:{focus:function(){m&&m.length>0&&m.focus()}},remove:{active:function(){E.removeClass(T.active)},clickaway:function(){_.closable&&y.off("click"+x)},bodyStyle:function(){""===l.attr("style")&&(S.verbose("Removing style attribute"),l.removeAttr("style"))},screenHeight:function(){S.debug("Removing page height"),l.css("height","")},keyboardShortcuts:function(){S.verbose("Removing keyboard shortcuts"),s.off("keyup"+P)},scrolling:function(){b.removeClass(T.scrolling),E.removeClass(T.scrolling)}},cacheSizes:function(){var i=E.outerHeight();void 0!==S.cache&&0===i||(S.cache={pageHeight:e(n).outerHeight(),height:i+_.offset,contextHeight:"body"==_.context?e(t).height():b.height()}),S.debug("Caching modal and container sizes",S.cache)},can:{fit:function(){return S.cache.height+2*_.padding<S.cache.contextHeight}},is:{active:function(){return E.hasClass(T.active)},animating:function(){return E.transition("is supported")?E.transition("is animating"):E.is(":visible")},scrolling:function(){return b.hasClass(T.scrolling)},modernBrowser:function(){return!(t.ActiveXObject||"ActiveXObject"in t)}},set:{autofocus:function(){var e=E.find("[tabindex], :input").filter(":visible"),t=e.filter("[autofocus]"),n=t.length>0?t.first():e.first();n.length>0&&n.focus()},clickaway:function(){_.closable&&y.on("click"+x,S.event.click)},dimmerSettings:function(){if(void 0!==e.fn.dimmer){var t={debug:_.debug,dimmerName:"modals",variation:!1,closable:"auto",duration:{show:_.duration,hide:_.duration}},n=e.extend(!0,t,_.dimmerSettings);_.inverted?(n.variation=void 0!==n.variation?n.variation+" inverted":"inverted",y.addClass(T.inverted)):y.removeClass(T.inverted),_.blurring?b.addClass(T.blurring):b.removeClass(T.blurring),R.dimmer("setting",n)}else S.error(A.dimmer)},screenHeight:function(){S.can.fit()?l.css("height",""):(S.debug("Modal is taller than page content, resizing page height"),l.css("height",S.cache.height+2*_.padding))},active:function(){E.addClass(T.active)},scrolling:function(){b.addClass(T.scrolling),E.addClass(T.scrolling)},type:function(){S.can.fit()?(S.verbose("Modal fits on screen"),S.others.active()||S.others.animating()||S.remove.scrolling()):(S.verbose("Modal cannot fit on screen setting to scrolling"),S.set.scrolling())},position:function(){S.verbose("Centering modal on page",S.cache),S.can.fit()?E.css({top:"",marginTop:-S.cache.height/2}):E.css({marginTop:"",top:s.scrollTop()})},undetached:function(){b.addClass(T.undetached)}},setting:function(t,n){if(S.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,_,t);else{if(void 0===n)return _[t];e.isPlainObject(_[t])?e.extend(!0,_[t],n):_[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,S,t);else{if(void 0===n)return S[t];S[t]=n}},debug:function(){!_.silent&&_.debug&&(_.performance?S.performance.log(arguments):(S.debug=Function.prototype.bind.call(console.info,console,_.name+":"),S.debug.apply(console,arguments)))},verbose:function(){!_.silent&&_.verbose&&_.debug&&(_.performance?S.performance.log(arguments):(S.verbose=Function.prototype.bind.call(console.info,console,_.name+":"),S.verbose.apply(console,arguments)))},error:function(){_.silent||(S.error=Function.prototype.bind.call(console.error,console,_.name+":"),S.error.apply(console,arguments))},performance:{log:function(e){var t,n;_.performance&&(n=(t=(new Date).getTime())-(c||t),c=t,d.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:F,"Execution Time":n})),clearTimeout(S.performance.timer),S.performance.timer=setTimeout(S.performance.display,500)},display:function(){var t=_.name+":",n=0;c=!1,clearTimeout(S.performance.timer),e.each(d,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",u&&(t+=" '"+u+"'"),(void 0!==console.group||void 0!==console.table)&&d.length>0&&(console.groupCollapsed(t),console.table?console.table(d):e.each(d,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),d=[]}},invoke:function(t,n,i){var o,a,s,l=L;return n=n||p,i=F||i,"string"==typeof t&&void 0!==l&&(t=t.split(/[\. ]/),o=t.length-1,e.each(t,function(n,i){var r=n!=o?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(l[r])&&n!=o)l=l[r];else{if(void 0!==l[r])return a=l[r],!1;if(!e.isPlainObject(l[i])||n==o)return void 0!==l[i]&&(a=l[i],!1);l=l[i]}})),e.isFunction(a)?s=a.apply(i,n):void 0!==a&&(s=a),e.isArray(r)?r.push(s):void 0!==r?r=[r,s]:void 0!==s&&(r=s),a}},h?(void 0===L&&S.initialize(),S.invoke(f)):(void 0!==L&&L.invoke("destroy"),S.initialize())}),void 0!==r?r:this},e.fn.modal.settings={name:"Modal",namespace:"modal",silent:!1,debug:!1,verbose:!1,performance:!0,observeChanges:!1,allowMultiple:!1,detachable:!0,closable:!0,autofocus:!0,inverted:!1,blurring:!1,dimmerSettings:{closable:!1,useCSS:!0},keyboardShortcuts:!0,context:"body",queue:!1,duration:500,offset:0,transition:"scale",padding:50,onShow:function(){},onVisible:function(){},onHide:function(){return!0},onHidden:function(){},onApprove:function(){return!0},onDeny:function(){return!0},selector:{close:"> .close",approve:".actions .positive, .actions .approve, .actions .ok",deny:".actions .negative, .actions .deny, .actions .cancel",modal:".ui.modal"},error:{dimmer:"UI Dimmer, a required component is not included in this page",method:"The method you called is not defined.",notFound:"The element you specified could not be found"},className:{active:"active",animating:"animating",blurring:"blurring",inverted:"inverted",scrolling:"scrolling",undetached:"undetached"}}}(jQuery,window,document),function(e,t,n,i){"use strict";t=void 0!==t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.nag=function(n){var i,r=e(this),o=r.selector||"",a=(new Date).getTime(),s=[],l=arguments[0],u="string"==typeof l,c=[].slice.call(arguments,1);return r.each(function(){var r,d=e.isPlainObject(n)?e.extend(!0,{},e.fn.nag.settings,n):e.extend({},e.fn.nag.settings),f=(d.className,d.selector),h=d.error,p=d.namespace,g="."+p,v=p+"-module",m=e(this),b=(m.find(f.close),e(d.context?d.context:"body")),y=this,x=m.data(v);t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame;r={initialize:function(){r.verbose("Initializing element"),m.on("click"+g,f.close,r.dismiss).data(v,r),d.detachable&&m.parent()[0]!==b[0]&&m.detach().prependTo(b),d.displayTime>0&&setTimeout(r.hide,d.displayTime),r.show()},destroy:function(){r.verbose("Destroying instance"),m.removeData(v).off(g)},show:function(){r.should.show()&&!m.is(":visible")&&(r.debug("Showing nag",d.animation.show),"fade"==d.animation.show?m.fadeIn(d.duration,d.easing):m.slideDown(d.duration,d.easing))},hide:function(){r.debug("Showing nag",d.animation.hide),"fade"==d.animation.show?m.fadeIn(d.duration,d.easing):m.slideUp(d.duration,d.easing)},onHide:function(){r.debug("Removing nag",d.animation.hide),m.remove(),d.onHide&&d.onHide()},dismiss:function(e){d.storageMethod&&r.storage.set(d.key,d.value),r.hide(),e.stopImmediatePropagation(),e.preventDefault()},should:{show:function(){return d.persist?(r.debug("Persistent nag is set, can show nag"),!0):r.storage.get(d.key)!=d.value.toString()?(r.debug("Stored value is not set, can show nag",r.storage.get(d.key)),!0):(r.debug("Stored value is set, cannot show nag",r.storage.get(d.key)),!1)}},get:{storageOptions:function(){var e={};return d.expires&&(e.expires=d.expires),d.domain&&(e.domain=d.domain),d.path&&(e.path=d.path),e}},clear:function(){r.storage.remove(d.key)},storage:{set:function(n,i){var o=r.get.storageOptions();if("localstorage"==d.storageMethod&&void 0!==t.localStorage)t.localStorage.setItem(n,i),r.debug("Value stored using local storage",n,i);else if("sessionstorage"==d.storageMethod&&void 0!==t.sessionStorage)t.sessionStorage.setItem(n,i),r.debug("Value stored using session storage",n,i);else{if(void 0===e.cookie)return void r.error(h.noCookieStorage);e.cookie(n,i,o),r.debug("Value stored using cookie",n,i,o)}},get:function(n,i){var o;return"localstorage"==d.storageMethod&&void 0!==t.localStorage?o=t.localStorage.getItem(n):"sessionstorage"==d.storageMethod&&void 0!==t.sessionStorage?o=t.sessionStorage.getItem(n):void 0!==e.cookie?o=e.cookie(n):r.error(h.noCookieStorage),"undefined"!=o&&"null"!=o&&void 0!==o&&null!==o||(o=void 0),o},remove:function(n){var i=r.get.storageOptions();"localstorage"==d.storageMethod&&void 0!==t.localStorage?t.localStorage.removeItem(n):"sessionstorage"==d.storageMethod&&void 0!==t.sessionStorage?t.sessionStorage.removeItem(n):void 0!==e.cookie?e.removeCookie(n,i):r.error(h.noStorage)}},setting:function(t,n){if(r.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,d,t);else{if(void 0===n)return d[t];e.isPlainObject(d[t])?e.extend(!0,d[t],n):d[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,r,t);else{if(void 0===n)return r[t];r[t]=n}},debug:function(){!d.silent&&d.debug&&(d.performance?r.performance.log(arguments):(r.debug=Function.prototype.bind.call(console.info,console,d.name+":"),r.debug.apply(console,arguments)))},verbose:function(){!d.silent&&d.verbose&&d.debug&&(d.performance?r.performance.log(arguments):(r.verbose=Function.prototype.bind.call(console.info,console,d.name+":"),r.verbose.apply(console,arguments)))},error:function(){d.silent||(r.error=Function.prototype.bind.call(console.error,console,d.name+":"),r.error.apply(console,arguments))},performance:{log:function(e){var t,n;d.performance&&(n=(t=(new Date).getTime())-(a||t),a=t,s.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:y,"Execution Time":n})),clearTimeout(r.performance.timer),r.performance.timer=setTimeout(r.performance.display,500)},display:function(){var t=d.name+":",n=0;a=!1,clearTimeout(r.performance.timer),e.each(s,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",o&&(t+=" '"+o+"'"),(void 0!==console.group||void 0!==console.table)&&s.length>0&&(console.groupCollapsed(t),console.table?console.table(s):e.each(s,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),s=[]}},invoke:function(t,n,o){var a,s,l,u=x;return n=n||c,o=y||o,"string"==typeof t&&void 0!==u&&(t=t.split(/[\. ]/),a=t.length-1,e.each(t,function(n,i){var o=n!=a?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(u[o])&&n!=a)u=u[o];else{if(void 0!==u[o])return s=u[o],!1;if(!e.isPlainObject(u[i])||n==a)return void 0!==u[i]?(s=u[i],!1):(r.error(h.method,t),!1);u=u[i]}})),e.isFunction(s)?l=s.apply(o,n):void 0!==s&&(l=s),e.isArray(i)?i.push(l):void 0!==i?i=[i,l]:void 0!==l&&(i=l),s}},u?(void 0===x&&r.initialize(),r.invoke(l)):(void 0!==x&&x.invoke("destroy"),r.initialize())}),void 0!==i?i:this},e.fn.nag.settings={name:"Nag",silent:!1,debug:!1,verbose:!1,performance:!0,namespace:"Nag",persist:!1,displayTime:0,animation:{show:"slide",hide:"slide"},context:!1,detachable:!1,expires:30,domain:!1,path:"/",storageMethod:"cookie",key:"nag",value:"dismiss",error:{noCookieStorage:"$.cookie is not included. A storage solution is required.",noStorage:"Neither $.cookie or store is defined. A storage solution is required for storing state",method:"The method you called is not defined."},className:{bottom:"bottom",fixed:"fixed"},selector:{close:".close.icon"},speed:500,easing:"easeOutQuad",onHide:function(){}},e.extend(e.easing,{easeOutQuad:function(e,t,n,i,r){return-i*(t/=r)*(t-2)+n}})}(jQuery,window,document),function(e,t,n,i){"use strict";t=void 0!==t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.popup=function(i){var r,o=e(this),a=e(n),s=e(t),l=e("body"),u=o.selector||"",c=(new Date).getTime(),d=[],f=arguments[0],h="string"==typeof f,p=[].slice.call(arguments,1);return o.each(function(){var o,g,v,m,b,y,x=e.isPlainObject(i)?e.extend(!0,{},e.fn.popup.settings,i):e.extend({},e.fn.popup.settings),w=x.selector,C=x.className,S=x.error,_=x.metadata,k=x.namespace,T="."+x.namespace,M="module-"+k,A=e(this),P=e(x.context),D=e(x.scrollContext),E=e(x.boundary),R=x.target?e(x.target):A,I=0,F=!1,L=!1,N=this,O=A.data(M);y={initialize:function(){y.debug("Initializing",A),y.createID(),y.bind.events(),!y.exists()&&x.preserve&&y.create(),x.observeChanges&&y.observeChanges(),y.instantiate()},instantiate:function(){y.verbose("Storing instance",y),O=y,A.data(M,O)},observeChanges:function(){"MutationObserver"in t&&((v=new MutationObserver(y.event.documentChanged)).observe(n,{childList:!0,subtree:!0}),y.debug("Setting up mutation observer",v))},refresh:function(){x.popup?o=e(x.popup).eq(0):x.inline&&(o=R.nextAll(w.popup).eq(0),x.popup=o),x.popup?(o.addClass(C.loading),g=y.get.offsetParent(R),o.removeClass(C.loading),x.movePopup&&y.has.popup()&&y.get.offsetParent(o)[0]!==g[0]&&(y.debug("Moving popup to the same offset parent as target"),o.detach().appendTo(g))):g=x.inline?y.get.offsetParent(R):y.has.popup()?y.get.offsetParent(R):l,g.is("html")&&g[0]!==l[0]&&(y.debug("Setting page as offset parent"),g=l),y.get.variation()&&y.set.variation()},reposition:function(){y.refresh(),y.set.position()},destroy:function(){y.debug("Destroying previous module"),v&&v.disconnect(),o&&!x.preserve&&y.removePopup(),clearTimeout(y.hideTimer),clearTimeout(y.showTimer),y.unbind.close(),y.unbind.events(),A.removeData(M)},event:{start:function(t){var n=e.isPlainObject(x.delay)?x.delay.show:x.delay;clearTimeout(y.hideTimer),L||(y.showTimer=setTimeout(y.show,n))},end:function(){var t=e.isPlainObject(x.delay)?x.delay.hide:x.delay;clearTimeout(y.showTimer),y.hideTimer=setTimeout(y.hide,t)},touchstart:function(e){L=!0,y.show()},resize:function(){y.is.visible()&&y.set.position()},documentChanged:function(t){[].forEach.call(t,function(t){t.removedNodes&&[].forEach.call(t.removedNodes,function(t){(t==N||e(t).find(N).length>0)&&(y.debug("Element removed from DOM, tearing down events"),y.destroy())})})},hideGracefully:function(t){var i=e(t.target),r=e.contains(n.documentElement,t.target),o=i.closest(w.popup).length>0;t&&!o&&r?(y.debug("Click occurred outside popup hiding popup"),y.hide()):y.debug("Click was inside popup, keeping popup open")}},create:function(){var t=y.get.html(),n=y.get.title(),i=y.get.content();t||i||n?(y.debug("Creating pop-up html"),t||(t=x.templates.popup({title:n,content:i})),o=e("<div/>").addClass(C.popup).data(_.activator,A).html(t),x.inline?(y.verbose("Inserting popup element inline",o),o.insertAfter(A)):(y.verbose("Appending popup element to body",o),o.appendTo(P)),y.refresh(),y.set.variation(),x.hoverable&&y.bind.popup(),x.onCreate.call(o,N)):0!==R.next(w.popup).length?(y.verbose("Pre-existing popup found"),x.inline=!0,x.popup=R.next(w.popup).data(_.activator,A),y.refresh(),x.hoverable&&y.bind.popup()):x.popup?(e(x.popup).data(_.activator,A),y.verbose("Used popup specified in settings"),y.refresh(),x.hoverable&&y.bind.popup()):y.debug("No content specified skipping display",N)},createID:function(){b=(Math.random().toString(16)+"000000000").substr(2,8),m="."+b,y.verbose("Creating unique id for element",b)},toggle:function(){y.debug("Toggling pop-up"),y.is.hidden()?(y.debug("Popup is hidden, showing pop-up"),y.unbind.close(),y.show()):(y.debug("Popup is visible, hiding pop-up"),y.hide())},show:function(e){if(e=e||function(){},y.debug("Showing pop-up",x.transition),y.is.hidden()&&(!y.is.active()||!y.is.dropdown())){if(y.exists()||y.create(),!1===x.onShow.call(o,N))return void y.debug("onShow callback returned false, cancelling popup animation");x.preserve||x.popup||y.refresh(),o&&y.set.position()&&(y.save.conditions(),x.exclusive&&y.hideAll(),y.animate.show(e))}},hide:function(e){if(e=e||function(){},y.is.visible()||y.is.animating()){if(!1===x.onHide.call(o,N))return void y.debug("onHide callback returned false, cancelling popup animation");y.remove.visible(),y.unbind.close(),y.restore.conditions(),y.animate.hide(e)}},hideAll:function(){e(w.popup).filter("."+C.popupVisible).each(function(){e(this).data(_.activator).popup("hide")})},exists:function(){return!!o&&(x.inline||x.popup?y.has.popup():o.closest(P).length>=1)},removePopup:function(){y.has.popup()&&!x.popup&&(y.debug("Removing popup",o),o.remove(),o=void 0,x.onRemove.call(o,N))},save:{conditions:function(){y.cache={title:A.attr("title")},y.cache.title&&A.removeAttr("title"),y.verbose("Saving original attributes",y.cache.title)}},restore:{conditions:function(){return y.cache&&y.cache.title&&(A.attr("title",y.cache.title),y.verbose("Restoring original attributes",y.cache.title)),!0}},supports:{svg:function(){return"undefined"==typeof SVGGraphicsElement}},animate:{show:function(t){t=e.isFunction(t)?t:function(){},x.transition&&void 0!==e.fn.transition&&A.transition("is supported")?(y.set.visible(),o.transition({animation:x.transition+" in",queue:!1,debug:x.debug,verbose:x.verbose,duration:x.duration,onComplete:function(){y.bind.close(),t.call(o,N),x.onVisible.call(o,N)}})):y.error(S.noTransition)},hide:function(t){t=e.isFunction(t)?t:function(){},y.debug("Hiding pop-up"),!1!==x.onHide.call(o,N)?x.transition&&void 0!==e.fn.transition&&A.transition("is supported")?o.transition({animation:x.transition+" out",queue:!1,duration:x.duration,debug:x.debug,verbose:x.verbose,onComplete:function(){y.reset(),t.call(o,N),x.onHidden.call(o,N)}}):y.error(S.noTransition):y.debug("onHide callback returned false, cancelling popup animation")}},change:{content:function(e){o.html(e)}},get:{html:function(){return A.removeData(_.html),A.data(_.html)||x.html},title:function(){return A.removeData(_.title),A.data(_.title)||x.title},content:function(){return A.removeData(_.content),A.data(_.content)||A.attr("title")||x.content},variation:function(){return A.removeData(_.variation),A.data(_.variation)||x.variation},popup:function(){return o},popupOffset:function(){return o.offset()},calculations:function(){var e,n=R[0],i=E[0]==t,r=x.inline||x.popup&&x.movePopup?R.position():R.offset(),a=i?{top:0,left:0}:E.offset(),l={},u=i?{top:s.scrollTop(),left:s.scrollLeft()}:{top:0,left:0};return l={target:{element:R[0],width:R.outerWidth(),height:R.outerHeight(),top:r.top,left:r.left,margin:{}},popup:{width:o.outerWidth(),height:o.outerHeight()},parent:{width:g.outerWidth(),height:g.outerHeight()},screen:{top:a.top,left:a.left,scroll:{top:u.top,left:u.left},width:E.width(),height:E.height()}},x.setFluidWidth&&y.is.fluid()&&(l.container={width:o.parent().outerWidth()},l.popup.width=l.container.width),l.target.margin.top=x.inline?parseInt(t.getComputedStyle(n).getPropertyValue("margin-top"),10):0,l.target.margin.left=x.inline?y.is.rtl()?parseInt(t.getComputedStyle(n).getPropertyValue("margin-right"),10):parseInt(t.getComputedStyle(n).getPropertyValue("margin-left"),10):0,e=l.screen,l.boundary={top:e.top+e.scroll.top,bottom:e.top+e.scroll.top+e.height,left:e.left+e.scroll.left,right:e.left+e.scroll.left+e.width},l},id:function(){return b},startEvent:function(){return"hover"==x.on?"mouseenter":"focus"==x.on&&"focus"},scrollEvent:function(){return"scroll"},endEvent:function(){return"hover"==x.on?"mouseleave":"focus"==x.on&&"blur"},distanceFromBoundary:function(e,t){var n,i,r={};return t=t||y.get.calculations(),n=t.popup,i=t.boundary,e&&(r={top:e.top-i.top,left:e.left-i.left,right:i.right-(e.left+n.width),bottom:i.bottom-(e.top+n.height)},y.verbose("Distance from boundaries determined",e,r)),r},offsetParent:function(t){var n=(void 0!==t?t[0]:A[0]).parentNode,i=e(n);if(n)for(var r="none"===i.css("transform"),o="static"===i.css("position"),a=i.is("html");n&&!a&&o&&r;)n=n.parentNode,r="none"===(i=e(n)).css("transform"),o="static"===i.css("position"),a=i.is("html");return i&&i.length>0?i:e()},positions:function(){return{"top left":!1,"top center":!1,"top right":!1,"bottom left":!1,"bottom center":!1,"bottom right":!1,"left center":!1,"right center":!1}},nextPosition:function(e){var t=e.split(" "),n=t[0],i=t[1],r={top:"bottom",bottom:"top",left:"right",right:"left"},o={left:"center",center:"right",right:"left"},a={"top left":"top center","top center":"top right","top right":"right center","right center":"bottom right","bottom right":"bottom center","bottom center":"bottom left","bottom left":"left center","left center":"top left"},s="top"==n||"bottom"==n,l=!1,u=!1,c=!1;return F||(y.verbose("All available positions available"),F=y.get.positions()),y.debug("Recording last position tried",e),F[e]=!0,"opposite"===x.prefer&&(c=(c=[r[n],i]).join(" "),l=!0===F[c],y.debug("Trying opposite strategy",c)),"adjacent"===x.prefer&&s&&(c=(c=[n,o[i]]).join(" "),u=!0===F[c],y.debug("Trying adjacent strategy",c)),(u||l)&&(y.debug("Using backup position",c),c=a[e]),c}},set:{position:function(e,t){if(0!==R.length&&0!==o.length){var n,i,r,a,s,l,u,c;if(t=t||y.get.calculations(),e=e||A.data(_.position)||x.position,n=A.data(_.offset)||x.offset,i=x.distanceAway,r=t.target,a=t.popup,s=t.parent,0===r.width&&0===r.height&&!y.is.svg(r.element))return y.debug("Popup target is hidden, no action taken"),!1;switch(x.inline&&(y.debug("Adding margin to calculation",r.margin),"left center"==e||"right center"==e?(n+=r.margin.top,i+=-r.margin.left):"top left"==e||"top center"==e||"top right"==e?(n+=r.margin.left,i-=r.margin.top):(n+=r.margin.left,i+=r.margin.top)),y.debug("Determining popup position from calculations",e,t),y.is.rtl()&&(e=e.replace(/left|right/g,function(e){return"left"==e?"right":"left"}),y.debug("RTL: Popup position updated",e)),I==x.maxSearchDepth&&"string"==typeof x.lastResort&&(e=x.lastResort),e){case"top left":l={top:"auto",bottom:s.height-r.top+i,left:r.left+n,right:"auto"};break;case"top center":l={bottom:s.height-r.top+i,left:r.left+r.width/2-a.width/2+n,top:"auto",right:"auto"};break;case"top right":l={bottom:s.height-r.top+i,right:s.width-r.left-r.width-n,top:"auto",left:"auto"};break;case"left center":l={top:r.top+r.height/2-a.height/2+n,right:s.width-r.left+i,left:"auto",bottom:"auto"};break;case"right center":l={top:r.top+r.height/2-a.height/2+n,left:r.left+r.width+i,bottom:"auto",right:"auto"};break;case"bottom left":l={top:r.top+r.height+i,left:r.left+n,bottom:"auto",right:"auto"};break;case"bottom center":l={top:r.top+r.height+i,left:r.left+r.width/2-a.width/2+n,bottom:"auto",right:"auto"};break;case"bottom right":l={top:r.top+r.height+i,right:s.width-r.left-r.width-n,left:"auto",bottom:"auto"}}if(void 0===l&&y.error(S.invalidPosition,e),y.debug("Calculated popup positioning values",l),o.css(l).removeClass(C.position).addClass(e).addClass(C.loading),u=y.get.popupOffset(),c=y.get.distanceFromBoundary(u,t),y.is.offstage(c,e)){if(y.debug("Position is outside viewport",e),I<x.maxSearchDepth)return I++,e=y.get.nextPosition(e),y.debug("Trying new position",e),!!o&&y.set.position(e,t);if(!x.lastResort)return y.debug("Popup could not find a position to display",o),y.error(S.cannotPlace,N),y.remove.attempts(),y.remove.loading(),y.reset(),x.onUnplaceable.call(o,N),!1;y.debug("No position found, showing with last position")}return y.debug("Position is on stage",e),y.remove.attempts(),y.remove.loading(),x.setFluidWidth&&y.is.fluid()&&y.set.fluidWidth(t),!0}y.error(S.notFound)},fluidWidth:function(e){e=e||y.get.calculations(),y.debug("Automatically setting element width to parent width",e.parent.width),o.css("width",e.container.width)},variation:function(e){(e=e||y.get.variation())&&y.has.popup()&&(y.verbose("Adding variation to popup",e),o.addClass(e))},visible:function(){A.addClass(C.visible)}},remove:{loading:function(){o.removeClass(C.loading)},variation:function(e){(e=e||y.get.variation())&&(y.verbose("Removing variation",e),o.removeClass(e))},visible:function(){A.removeClass(C.visible)},attempts:function(){y.verbose("Resetting all searched positions"),I=0,F=!1}},bind:{events:function(){y.debug("Binding popup events to module"),"click"==x.on&&A.on("click"+T,y.toggle),"hover"==x.on&&A.on("touchstart"+T,y.event.touchstart),y.get.startEvent()&&A.on(y.get.startEvent()+T,y.event.start).on(y.get.endEvent()+T,y.event.end),x.target&&y.debug("Target set to element",R),s.on("resize"+m,y.event.resize)},popup:function(){y.verbose("Allowing hover events on popup to prevent closing"),o&&y.has.popup()&&o.on("mouseenter"+T,y.event.start).on("mouseleave"+T,y.event.end)},close:function(){(!0===x.hideOnScroll||"auto"==x.hideOnScroll&&"click"!=x.on)&&y.bind.closeOnScroll(),"hover"==x.on&&L&&y.bind.touchClose(),"click"==x.on&&x.closable&&y.bind.clickaway()},closeOnScroll:function(){y.verbose("Binding scroll close event to document"),D.one(y.get.scrollEvent()+m,y.event.hideGracefully)},touchClose:function(){y.verbose("Binding popup touchclose event to document"),a.on("touchstart"+m,function(e){y.verbose("Touched away from popup"),y.event.hideGracefully.call(N,e)})},clickaway:function(){y.verbose("Binding popup close event to document"),a.on("click"+m,function(e){y.verbose("Clicked away from popup"),y.event.hideGracefully.call(N,e)})}},unbind:{events:function(){s.off(m),A.off(T)},close:function(){a.off(m),D.off(m)}},has:{popup:function(){return o&&o.length>0}},is:{offstage:function(t,n){var i=[];return e.each(t,function(e,t){t<-x.jitter&&(y.debug("Position exceeds allowable distance from edge",e,t,n),i.push(e))}),i.length>0},svg:function(e){return y.supports.svg()&&e instanceof SVGGraphicsElement},active:function(){return A.hasClass(C.active)},animating:function(){return void 0!==o&&o.hasClass(C.animating)},fluid:function(){return void 0!==o&&o.hasClass(C.fluid)},visible:function(){return void 0!==o&&o.hasClass(C.popupVisible)},dropdown:function(){return A.hasClass(C.dropdown)},hidden:function(){return!y.is.visible()},rtl:function(){return"rtl"==A.css("direction")}},reset:function(){y.remove.visible(),x.preserve?void 0!==e.fn.transition&&o.transition("remove transition"):y.removePopup()},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,x,t);else{if(void 0===n)return x[t];x[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,y,t);else{if(void 0===n)return y[t];y[t]=n}},debug:function(){!x.silent&&x.debug&&(x.performance?y.performance.log(arguments):(y.debug=Function.prototype.bind.call(console.info,console,x.name+":"),y.debug.apply(console,arguments)))},verbose:function(){!x.silent&&x.verbose&&x.debug&&(x.performance?y.performance.log(arguments):(y.verbose=Function.prototype.bind.call(console.info,console,x.name+":"),y.verbose.apply(console,arguments)))},error:function(){x.silent||(y.error=Function.prototype.bind.call(console.error,console,x.name+":"),y.error.apply(console,arguments))},performance:{log:function(e){var t,n;x.performance&&(n=(t=(new Date).getTime())-(c||t),c=t,d.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:N,"Execution Time":n})),clearTimeout(y.performance.timer),y.performance.timer=setTimeout(y.performance.display,500)},display:function(){var t=x.name+":",n=0;c=!1,clearTimeout(y.performance.timer),e.each(d,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",u&&(t+=" '"+u+"'"),(void 0!==console.group||void 0!==console.table)&&d.length>0&&(console.groupCollapsed(t),console.table?console.table(d):e.each(d,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),d=[]}},invoke:function(t,n,i){var o,a,s,l=O;return n=n||p,i=N||i,"string"==typeof t&&void 0!==l&&(t=t.split(/[\. ]/),o=t.length-1,e.each(t,function(n,i){var r=n!=o?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(l[r])&&n!=o)l=l[r];else{if(void 0!==l[r])return a=l[r],!1;if(!e.isPlainObject(l[i])||n==o)return void 0!==l[i]&&(a=l[i],!1);l=l[i]}})),e.isFunction(a)?s=a.apply(i,n):void 0!==a&&(s=a),e.isArray(r)?r.push(s):void 0!==r?r=[r,s]:void 0!==s&&(r=s),a}},h?(void 0===O&&y.initialize(),y.invoke(f)):(void 0!==O&&O.invoke("destroy"),y.initialize())}),void 0!==r?r:this},e.fn.popup.settings={name:"Popup",silent:!1,debug:!1,verbose:!1,performance:!0,namespace:"popup",observeChanges:!0,onCreate:function(){},onRemove:function(){},onShow:function(){},onVisible:function(){},onHide:function(){},onUnplaceable:function(){},onHidden:function(){},on:"hover",boundary:t,addTouchEvents:!0,position:"top left",variation:"",movePopup:!0,target:!1,popup:!1,inline:!1,preserve:!1,hoverable:!1,content:!1,html:!1,title:!1,closable:!0,hideOnScroll:"auto",exclusive:!1,context:"body",scrollContext:t,prefer:"opposite",lastResort:!1,delay:{show:50,hide:70},setFluidWidth:!0,duration:200,transition:"scale",distanceAway:0,jitter:2,offset:0,maxSearchDepth:15,error:{invalidPosition:"The position you specified is not a valid position",cannotPlace:"Popup does not fit within the boundaries of the viewport",method:"The method you called is not defined.",noTransition:"This module requires ui transitions <https://github.com/Semantic-Org/UI-Transition>",notFound:"The target or popup you specified does not exist on the page"},metadata:{activator:"activator",content:"content",html:"html",offset:"offset",position:"position",title:"title",variation:"variation"},className:{active:"active",animating:"animating",dropdown:"dropdown",fluid:"fluid",loading:"loading",popup:"ui popup",position:"top left center bottom right",visible:"visible",popupVisible:"visible"},selector:{popup:".ui.popup"},templates:{escape:function(e){var t=/[&<>"'`]/g,n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};return/[&<>"'`]/.test(e)?e.replace(t,function(e){return n[e]}):e},popup:function(t){var n="",i=e.fn.popup.settings.templates.escape;return void 0!==typeof t&&(void 0!==typeof t.title&&t.title&&(t.title=i(t.title),n+='<div class="header">'+t.title+"</div>"),void 0!==typeof t.content&&t.content&&(t.content=i(t.content),n+='<div class="content">'+t.content+"</div>")),n}}}}(jQuery,window,document),function(e,t,n,i){"use strict";void 0!==(t=void 0!==t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")())&&t.Math==Math||("undefined"!=typeof self&&self.Math==Math?self:Function("return this")());e.fn.progress=function(t){var i,r=e(this),o=r.selector||"",a=(new Date).getTime(),s=[],l=arguments[0],u="string"==typeof l,c=[].slice.call(arguments,1);return r.each(function(){var r,d,f=e.isPlainObject(t)?e.extend(!0,{},e.fn.progress.settings,t):e.extend({},e.fn.progress.settings),h=f.className,p=f.metadata,g=f.namespace,v=f.selector,m=f.error,b="."+g,y="module-"+g,x=e(this),w=e(this).find(v.bar),C=e(this).find(v.progress),S=e(this).find(v.label),_=this,k=x.data(y),T=!1;d={initialize:function(){d.debug("Initializing progress bar",f),d.set.duration(),d.set.transitionEvent(),d.read.metadata(),d.read.settings(),d.instantiate()},instantiate:function(){d.verbose("Storing instance of progress",d),k=d,x.data(y,d)},destroy:function(){d.verbose("Destroying previous progress for",x),clearInterval(k.interval),d.remove.state(),x.removeData(y),k=void 0},reset:function(){d.remove.nextValue(),d.update.progress(0)},complete:function(){(void 0===d.percent||d.percent<100)&&(d.remove.progressPoll(),d.set.percent(100))},read:{metadata:function(){var e={percent:x.data(p.percent),total:x.data(p.total),value:x.data(p.value)};e.percent&&(d.debug("Current percent value set from metadata",e.percent),d.set.percent(e.percent)),e.total&&(d.debug("Total value set from metadata",e.total),d.set.total(e.total)),e.value&&(d.debug("Current value set from metadata",e.value),d.set.value(e.value),d.set.progress(e.value))},settings:function(){!1!==f.total&&(d.debug("Current total set in settings",f.total),d.set.total(f.total)),!1!==f.value&&(d.debug("Current value set in settings",f.value),d.set.value(f.value),d.set.progress(d.value)),!1!==f.percent&&(d.debug("Current percent set in settings",f.percent),d.set.percent(f.percent))}},bind:{transitionEnd:function(e){var t=d.get.transitionEnd();w.one(t+b,function(t){clearTimeout(d.failSafeTimer),e.call(this,t)}),d.failSafeTimer=setTimeout(function(){w.triggerHandler(t)},f.duration+f.failSafeDelay),d.verbose("Adding fail safe timer",d.timer)}},increment:function(e){var t,n;d.has.total()?n=(t=d.get.value())+(e=e||1):(n=(t=d.get.percent())+(e=e||d.get.randomValue()),100,d.debug("Incrementing percentage by",t,n)),n=d.get.normalizedValue(n),d.set.progress(n)},decrement:function(e){var t,n;d.get.total()?(n=(t=d.get.value())-(e=e||1),d.debug("Decrementing value by",e,t)):(n=(t=d.get.percent())-(e=e||d.get.randomValue()),d.debug("Decrementing percentage by",e,t)),n=d.get.normalizedValue(n),d.set.progress(n)},has:{progressPoll:function(){return d.progressPoll},total:function(){return!1!==d.get.total()}},get:{text:function(e){var t=d.value||0,n=d.total||0,i=T?d.get.displayPercent():d.percent||0,r=d.total>0?n-t:100-i;return e=e||"",e=e.replace("{value}",t).replace("{total}",n).replace("{left}",r).replace("{percent}",i),d.verbose("Adding variables to progress bar text",e),e},normalizedValue:function(e){if(e<0)return d.debug("Value cannot decrement below 0"),0;if(d.has.total()){if(e>d.total)return d.debug("Value cannot increment above total",d.total),d.total}else if(e>100)return d.debug("Value cannot increment above 100 percent"),100;return e},updateInterval:function(){return"auto"==f.updateInterval?f.duration:f.updateInterval},randomValue:function(){return d.debug("Generating random increment percentage"),Math.floor(Math.random()*f.random.max+f.random.min)},numericValue:function(e){return"string"==typeof e?""!==e.replace(/[^\d.]/g,"")&&+e.replace(/[^\d.]/g,""):e},transitionEnd:function(){var e,t=n.createElement("element"),i={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in i)if(void 0!==t.style[e])return i[e]},displayPercent:function(){var e=w.width(),t=x.width(),n=e>parseInt(w.css("min-width"),10)?e/t*100:d.percent;return f.precision>0?Math.round(n*(10*f.precision))/(10*f.precision):Math.round(n)},percent:function(){return d.percent||0},value:function(){return d.nextValue||d.value||0},total:function(){return d.total||!1}},create:{progressPoll:function(){d.progressPoll=setTimeout(function(){d.update.toNextValue(),d.remove.progressPoll()},d.get.updateInterval())}},is:{complete:function(){return d.is.success()||d.is.warning()||d.is.error()},success:function(){return x.hasClass(h.success)},warning:function(){return x.hasClass(h.warning)},error:function(){return x.hasClass(h.error)},active:function(){return x.hasClass(h.active)},visible:function(){return x.is(":visible")}},remove:{progressPoll:function(){d.verbose("Removing progress poll timer"),d.progressPoll&&(clearTimeout(d.progressPoll),delete d.progressPoll)},nextValue:function(){d.verbose("Removing progress value stored for next update"),delete d.nextValue},state:function(){d.verbose("Removing stored state"),delete d.total,delete d.percent,delete d.value},active:function(){d.verbose("Removing active state"),x.removeClass(h.active)},success:function(){d.verbose("Removing success state"),x.removeClass(h.success)},warning:function(){d.verbose("Removing warning state"),x.removeClass(h.warning)},error:function(){d.verbose("Removing error state"),x.removeClass(h.error)}},set:{barWidth:function(e){e>100?d.error(m.tooHigh,e):e<0?d.error(m.tooLow,e):(w.css("width",e+"%"),x.attr("data-percent",parseInt(e,10)))},duration:function(e){e="number"==typeof(e=e||f.duration)?e+"ms":e,d.verbose("Setting progress bar transition duration",e),w.css({"transition-duration":e})},percent:function(e){e="string"==typeof e?+e.replace("%",""):e,e=f.precision>0?Math.round(e*(10*f.precision))/(10*f.precision):Math.round(e),d.percent=e,d.has.total()||(d.value=f.precision>0?Math.round(e/100*d.total*(10*f.precision))/(10*f.precision):Math.round(e/100*d.total*10)/10,f.limitValues&&(d.value=d.value>100?100:d.value<0?0:d.value)),d.set.barWidth(e),d.set.labelInterval(),d.set.labels(),f.onChange.call(_,e,d.value,d.total)},labelInterval:function(){clearInterval(d.interval),d.bind.transitionEnd(function(){d.verbose("Bar finished animating, removing continuous label updates"),clearInterval(d.interval),T=!1,d.set.labels()}),T=!0,d.interval=setInterval(function(){e.contains(n.documentElement,_)||(clearInterval(d.interval),T=!1),d.set.labels()},f.framerate)},labels:function(){d.verbose("Setting both bar progress and outer label text"),d.set.barLabel(),d.set.state()},label:function(e){(e=e||"")&&(e=d.get.text(e),d.verbose("Setting label to text",e),S.text(e))},state:function(e){100===(e=void 0!==e?e:d.percent)?f.autoSuccess&&!(d.is.warning()||d.is.error()||d.is.success())?(d.set.success(),d.debug("Automatically triggering success at 100%")):(d.verbose("Reached 100% removing active state"),d.remove.active(),d.remove.progressPoll()):e>0?(d.verbose("Adjusting active progress bar label",e),d.set.active()):(d.remove.active(),d.set.label(f.text.active))},barLabel:function(e){void 0!==e?C.text(d.get.text(e)):"ratio"==f.label&&d.total?(d.verbose("Adding ratio to bar label"),C.text(d.get.text(f.text.ratio))):"percent"==f.label&&(d.verbose("Adding percentage to bar label"),C.text(d.get.text(f.text.percent)))},active:function(e){e=e||f.text.active,d.debug("Setting active state"),f.showActivity&&!d.is.active()&&x.addClass(h.active),d.remove.warning(),d.remove.error(),d.remove.success(),(e=f.onLabelUpdate("active",e,d.value,d.total))&&d.set.label(e),d.bind.transitionEnd(function(){f.onActive.call(_,d.value,d.total)})},success:function(e){e=e||f.text.success||f.text.active,d.debug("Setting success state"),x.addClass(h.success),d.remove.active(),d.remove.warning(),d.remove.error(),d.complete(),f.text.success?(e=f.onLabelUpdate("success",e,d.value,d.total),d.set.label(e)):(e=f.onLabelUpdate("active",e,d.value,d.total),d.set.label(e)),d.bind.transitionEnd(function(){f.onSuccess.call(_,d.total)})},warning:function(e){e=e||f.text.warning,d.debug("Setting warning state"),x.addClass(h.warning),d.remove.active(),d.remove.success(),d.remove.error(),d.complete(),(e=f.onLabelUpdate("warning",e,d.value,d.total))&&d.set.label(e),d.bind.transitionEnd(function(){f.onWarning.call(_,d.value,d.total)})},error:function(e){e=e||f.text.error,d.debug("Setting error state"),x.addClass(h.error),d.remove.active(),d.remove.success(),d.remove.warning(),d.complete(),(e=f.onLabelUpdate("error",e,d.value,d.total))&&d.set.label(e),d.bind.transitionEnd(function(){f.onError.call(_,d.value,d.total)})},transitionEvent:function(){r=d.get.transitionEnd()},total:function(e){d.total=e},value:function(e){d.value=e},progress:function(e){d.has.progressPoll()?(d.debug("Updated within interval, setting next update to use new value",e),d.set.nextValue(e)):(d.debug("First update in progress update interval, immediately updating",e),d.update.progress(e),d.create.progressPoll())},nextValue:function(e){d.nextValue=e}},update:{toNextValue:function(){var e=d.nextValue;e&&(d.debug("Update interval complete using last updated value",e),d.update.progress(e),d.remove.nextValue())},progress:function(e){var t;!1===(e=d.get.numericValue(e))&&d.error(m.nonNumeric,e),e=d.get.normalizedValue(e),d.has.total()?(d.set.value(e),t=e/d.total*100,d.debug("Calculating percent complete from total",t),d.set.percent(t)):(t=e,d.debug("Setting value to exact percentage value",t),d.set.percent(t))}},setting:function(t,n){if(d.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,f,t);else{if(void 0===n)return f[t];e.isPlainObject(f[t])?e.extend(!0,f[t],n):f[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,d,t);else{if(void 0===n)return d[t];d[t]=n}},debug:function(){!f.silent&&f.debug&&(f.performance?d.performance.log(arguments):(d.debug=Function.prototype.bind.call(console.info,console,f.name+":"),d.debug.apply(console,arguments)))},verbose:function(){!f.silent&&f.verbose&&f.debug&&(f.performance?d.performance.log(arguments):(d.verbose=Function.prototype.bind.call(console.info,console,f.name+":"),d.verbose.apply(console,arguments)))},error:function(){f.silent||(d.error=Function.prototype.bind.call(console.error,console,f.name+":"),d.error.apply(console,arguments))},performance:{log:function(e){var t,n;f.performance&&(n=(t=(new Date).getTime())-(a||t),a=t,s.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:_,"Execution Time":n})),clearTimeout(d.performance.timer),d.performance.timer=setTimeout(d.performance.display,500)},display:function(){var t=f.name+":",n=0;a=!1,clearTimeout(d.performance.timer),e.each(s,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",o&&(t+=" '"+o+"'"),(void 0!==console.group||void 0!==console.table)&&s.length>0&&(console.groupCollapsed(t),console.table?console.table(s):e.each(s,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),s=[]}},invoke:function(t,n,r){var o,a,s,l=k;return n=n||c,r=_||r,"string"==typeof t&&void 0!==l&&(t=t.split(/[\. ]/),o=t.length-1,e.each(t,function(n,i){var r=n!=o?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(l[r])&&n!=o)l=l[r];else{if(void 0!==l[r])return a=l[r],!1;if(!e.isPlainObject(l[i])||n==o)return void 0!==l[i]?(a=l[i],!1):(d.error(m.method,t),!1);l=l[i]}})),e.isFunction(a)?s=a.apply(r,n):void 0!==a&&(s=a),e.isArray(i)?i.push(s):void 0!==i?i=[i,s]:void 0!==s&&(i=s),a}},u?(void 0===k&&d.initialize(),d.invoke(l)):(void 0!==k&&k.invoke("destroy"),d.initialize())}),void 0!==i?i:this},e.fn.progress.settings={name:"Progress",namespace:"progress",silent:!1,debug:!1,verbose:!1,performance:!0,random:{min:2,max:5},duration:300,updateInterval:"auto",autoSuccess:!0,showActivity:!0,limitValues:!0,label:"percent",precision:0,framerate:1e3/30,percent:!1,total:!1,value:!1,failSafeDelay:100,onLabelUpdate:function(e,t,n,i){return t},onChange:function(e,t,n){},onSuccess:function(e){},onActive:function(e,t){},onError:function(e,t){},onWarning:function(e,t){},error:{method:"The method you called is not defined.",nonNumeric:"Progress value is non numeric",tooHigh:"Value specified is above 100%",tooLow:"Value specified is below 0%"},regExp:{variable:/\{\$*[A-z0-9]+\}/g},metadata:{percent:"percent",total:"total",value:"value"},selector:{bar:"> .bar",label:"> .label",progress:".bar > .progress"},text:{active:!1,error:!1,success:!1,warning:!1,percent:"{percent}%",ratio:"{value} of {total}"},className:{active:"active",error:"error",success:"success",warning:"warning"}}}(jQuery,window,document),function(e,t,n,i){"use strict";t=void 0!==t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.rating=function(t){var n,i=e(this),r=i.selector||"",o=(new Date).getTime(),a=[],s=arguments[0],l="string"==typeof s,u=[].slice.call(arguments,1);return i.each(function(){var c,d,f=e.isPlainObject(t)?e.extend(!0,{},e.fn.rating.settings,t):e.extend({},e.fn.rating.settings),h=f.namespace,p=f.className,g=f.metadata,v=f.selector,m=(f.error,"."+h),b="module-"+h,y=this,x=e(this).data(b),w=e(this),C=w.find(v.icon);d={initialize:function(){d.verbose("Initializing rating module",f),0===C.length&&d.setup.layout(),f.interactive?d.enable():d.disable(),d.set.initialLoad(),d.set.rating(d.get.initialRating()),d.remove.initialLoad(),d.instantiate()},instantiate:function(){d.verbose("Instantiating module",f),x=d,w.data(b,d)},destroy:function(){d.verbose("Destroying previous instance",x),d.remove.events(),w.removeData(b)},refresh:function(){C=w.find(v.icon)},setup:{layout:function(){var t=d.get.maxRating(),n=e.fn.rating.settings.templates.icon(t);d.debug("Generating icon html dynamically"),w.html(n),d.refresh()}},event:{mouseenter:function(){var t=e(this);t.nextAll().removeClass(p.selected),w.addClass(p.selected),t.addClass(p.selected).prevAll().addClass(p.selected)},mouseleave:function(){w.removeClass(p.selected),C.removeClass(p.selected)},click:function(){var t=e(this),n=d.get.rating(),i=C.index(t)+1;("auto"==f.clearable?1===C.length:f.clearable)&&n==i?d.clearRating():d.set.rating(i)}},clearRating:function(){d.debug("Clearing current rating"),d.set.rating(0)},bind:{events:function(){d.verbose("Binding events"),w.on("mouseenter"+m,v.icon,d.event.mouseenter).on("mouseleave"+m,v.icon,d.event.mouseleave).on("click"+m,v.icon,d.event.click)}},remove:{events:function(){d.verbose("Removing events"),w.off(m)},initialLoad:function(){c=!1}},enable:function(){d.debug("Setting rating to interactive mode"),d.bind.events(),w.removeClass(p.disabled)},disable:function(){d.debug("Setting rating to read-only mode"),d.remove.events(),w.addClass(p.disabled)},is:{initialLoad:function(){return c}},get:{initialRating:function(){return void 0!==w.data(g.rating)?(w.removeData(g.rating),w.data(g.rating)):f.initialRating},maxRating:function(){return void 0!==w.data(g.maxRating)?(w.removeData(g.maxRating),w.data(g.maxRating)):f.maxRating},rating:function(){var e=C.filter("."+p.active).length;return d.verbose("Current rating retrieved",e),e}},set:{rating:function(e){var t=e-1>=0?e-1:0,n=C.eq(t);w.removeClass(p.selected),C.removeClass(p.selected).removeClass(p.active),e>0&&(d.verbose("Setting current rating to",e),n.prevAll().addBack().addClass(p.active)),d.is.initialLoad()||f.onRate.call(y,e)},initialLoad:function(){c=!0}},setting:function(t,n){if(d.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,f,t);else{if(void 0===n)return f[t];e.isPlainObject(f[t])?e.extend(!0,f[t],n):f[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,d,t);else{if(void 0===n)return d[t];d[t]=n}},debug:function(){!f.silent&&f.debug&&(f.performance?d.performance.log(arguments):(d.debug=Function.prototype.bind.call(console.info,console,f.name+":"),d.debug.apply(console,arguments)))},verbose:function(){!f.silent&&f.verbose&&f.debug&&(f.performance?d.performance.log(arguments):(d.verbose=Function.prototype.bind.call(console.info,console,f.name+":"),d.verbose.apply(console,arguments)))},error:function(){f.silent||(d.error=Function.prototype.bind.call(console.error,console,f.name+":"),d.error.apply(console,arguments))},performance:{log:function(e){var t,n;f.performance&&(n=(t=(new Date).getTime())-(o||t),o=t,a.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:y,"Execution Time":n})),clearTimeout(d.performance.timer),d.performance.timer=setTimeout(d.performance.display,500)},display:function(){var t=f.name+":",n=0;o=!1,clearTimeout(d.performance.timer),e.each(a,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",r&&(t+=" '"+r+"'"),i.length>1&&(t+=" ("+i.length+")"),(void 0!==console.group||void 0!==console.table)&&a.length>0&&(console.groupCollapsed(t),console.table?console.table(a):e.each(a,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),a=[]}},invoke:function(t,i,r){var o,a,s,l=x;return i=i||u,r=y||r,"string"==typeof t&&void 0!==l&&(t=t.split(/[\. ]/),o=t.length-1,e.each(t,function(n,i){var r=n!=o?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(l[r])&&n!=o)l=l[r];else{if(void 0!==l[r])return a=l[r],!1;if(!e.isPlainObject(l[i])||n==o)return void 0!==l[i]&&(a=l[i],!1);l=l[i]}})),e.isFunction(a)?s=a.apply(r,i):void 0!==a&&(s=a),e.isArray(n)?n.push(s):void 0!==n?n=[n,s]:void 0!==s&&(n=s),a}},l?(void 0===x&&d.initialize(),d.invoke(s)):(void 0!==x&&x.invoke("destroy"),d.initialize())}),void 0!==n?n:this},e.fn.rating.settings={name:"Rating",namespace:"rating",slent:!1,debug:!1,verbose:!1,performance:!0,initialRating:0,interactive:!0,maxRating:4,clearable:"auto",fireOnInit:!1,onRate:function(e){},error:{method:"The method you called is not defined",noMaximum:"No maximum rating specified. Cannot generate HTML automatically"},metadata:{rating:"rating",maxRating:"maxRating"},className:{active:"active",disabled:"disabled",selected:"selected",loading:"loading"},selector:{icon:".icon"},templates:{icon:function(e){for(var t=1,n="";t<=e;)n+='<i class="icon"></i>',t++;return n}}}}(jQuery,window,document),function(e,t,n,i){"use strict";t=void 0!==t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.search=function(i){var r,o=e(this),a=o.selector||"",s=(new Date).getTime(),l=[],u=arguments[0],c="string"==typeof u,d=[].slice.call(arguments,1);return e(this).each(function(){var f,h=e.isPlainObject(i)?e.extend(!0,{},e.fn.search.settings,i):e.extend({},e.fn.search.settings),p=h.className,g=h.metadata,v=h.regExp,m=h.fields,b=h.selector,y=h.error,x=h.namespace,w="."+x,C=x+"-module",S=e(this),_=S.find(b.prompt),k=S.find(b.searchButton),T=S.find(b.results),M=S.find(b.result),A=S.find(b.category),P=this,D=S.data(C),E=!1,R=!1;f={initialize:function(){f.verbose("Initializing module"),f.determine.searchFields(),f.bind.events(),f.set.type(),f.create.results(),f.instantiate()},instantiate:function(){f.verbose("Storing instance of module",f),D=f,S.data(C,f)},destroy:function(){f.verbose("Destroying instance"),S.off(w).removeData(C)},refresh:function(){f.debug("Refreshing selector cache"),_=S.find(b.prompt),k=S.find(b.searchButton),A=S.find(b.category),T=S.find(b.results),M=S.find(b.result)},refreshResults:function(){T=S.find(b.results),M=S.find(b.result)},bind:{events:function(){f.verbose("Binding events to search"),h.automatic&&(S.on(f.get.inputEvent()+w,b.prompt,f.event.input),_.attr("autocomplete","off")),S.on("focus"+w,b.prompt,f.event.focus).on("blur"+w,b.prompt,f.event.blur).on("keydown"+w,b.prompt,f.handleKeyboard).on("click"+w,b.searchButton,f.query).on("mousedown"+w,b.results,f.event.result.mousedown).on("mouseup"+w,b.results,f.event.result.mouseup).on("click"+w,b.result,f.event.result.click)}},determine:{searchFields:function(){i&&void 0!==i.searchFields&&(h.searchFields=i.searchFields)}},event:{input:function(){h.searchDelay?(clearTimeout(f.timer),f.timer=setTimeout(function(){f.is.focused()&&f.query()},h.searchDelay)):f.query()},focus:function(){f.set.focus(),h.searchOnFocus&&f.has.minimumCharacters()&&f.query(function(){f.can.show()&&f.showResults()})},blur:function(e){var t=function(){f.cancel.query(),f.remove.focus(),f.timer=setTimeout(f.hideResults,h.hideDelay)};n.activeElement===this||(R=!1,f.resultsClicked?(f.debug("Determining if user action caused search to close"),S.one("click.close"+w,b.results,function(e){f.is.inMessage(e)||E?_.focus():(E=!1,f.is.animating()||f.is.hidden()||t())})):(f.debug("Input blurred without user action, closing results"),t()))},result:{mousedown:function(){f.resultsClicked=!0},mouseup:function(){f.resultsClicked=!1},click:function(n){f.debug("Search result selected");var i=e(this),r=i.find(b.title).eq(0),o=i.is("a[href]")?i:i.find("a[href]").eq(0),a=o.attr("href")||!1,s=o.attr("target")||!1,l=(r.html(),r.length>0&&r.text()),u=f.get.results(),c=i.data(g.result)||f.get.result(l,u);if(e.isFunction(h.onSelect)&&!1===h.onSelect.call(P,c,u))return f.debug("Custom onSelect callback cancelled default select action"),void(E=!0);f.hideResults(),l&&f.set.value(l),a&&(f.verbose("Opening search link found in result",o),"_blank"==s||n.ctrlKey?t.open(a):t.location.href=a)}}},handleKeyboard:function(e){var t,n=S.find(b.result),i=S.find(b.category),r=n.filter("."+p.active),o=n.index(r),a=n.length,s=r.length>0,l=e.which,u={backspace:8,enter:13,escape:27,upArrow:38,downArrow:40};if(l==u.escape&&(f.verbose("Escape key pressed, blurring search field"),f.hideResults(),R=!0),f.is.visible())if(l==u.enter){if(f.verbose("Enter key pressed, selecting active result"),n.filter("."+p.active).length>0)return f.event.result.click.call(n.filter("."+p.active),e),e.preventDefault(),!1}else l==u.upArrow&&s?(f.verbose("Up key pressed, changing active result"),t=o-1<0?o:o-1,i.removeClass(p.active),n.removeClass(p.active).eq(t).addClass(p.active).closest(i).addClass(p.active),e.preventDefault()):l==u.downArrow&&(f.verbose("Down key pressed, changing active result"),t=o+1>=a?o:o+1,i.removeClass(p.active),n.removeClass(p.active).eq(t).addClass(p.active).closest(i).addClass(p.active),e.preventDefault());else l==u.enter&&(f.verbose("Enter key pressed, executing query"),f.query(),f.set.buttonPressed(),_.one("keyup",f.remove.buttonFocus))},setup:{api:function(t,n){var i={debug:h.debug,on:!1,cache:!0,action:"search",urlData:{query:t},onSuccess:function(e){f.parse.response.call(P,e,t),n()},onFailure:function(){f.displayMessage(y.serverError),n()},onAbort:function(e){},onError:f.error};e.extend(!0,i,h.apiSettings),f.verbose("Setting up API request",i),S.api(i)}},can:{useAPI:function(){return void 0!==e.fn.api},show:function(){return f.is.focused()&&!f.is.visible()&&!f.is.empty()},transition:function(){return h.transition&&void 0!==e.fn.transition&&S.transition("is supported")}},is:{animating:function(){return T.hasClass(p.animating)},hidden:function(){return T.hasClass(p.hidden)},inMessage:function(t){if(t.target){var i=e(t.target);return e.contains(n.documentElement,t.target)&&i.closest(b.message).length>0}},empty:function(){return""===T.html()},visible:function(){return T.filter(":visible").length>0},focused:function(){return _.filter(":focus").length>0}},get:{inputEvent:function(){var e=_[0];return void 0!==e&&void 0!==e.oninput?"input":void 0!==e&&void 0!==e.onpropertychange?"propertychange":"keyup"},value:function(){return _.val()},results:function(){return S.data(g.results)},result:function(t,n){var i=["title","id"],r=!1;return t=void 0!==t?t:f.get.value(),n=void 0!==n?n:f.get.results(),"category"===h.type?(f.debug("Finding result that matches",t),e.each(n,function(n,o){if(e.isArray(o.results)&&(r=f.search.object(t,o.results,i)[0]))return!1})):(f.debug("Finding result in results object",t),r=f.search.object(t,n,i)[0]),r||!1}},select:{firstResult:function(){f.verbose("Selecting first result"),M.first().addClass(p.active)}},set:{focus:function(){S.addClass(p.focus)},loading:function(){S.addClass(p.loading)},value:function(e){f.verbose("Setting search input value",e),_.val(e)},type:function(e){e=e||h.type,"category"==h.type&&S.addClass(h.type)},buttonPressed:function(){k.addClass(p.pressed)}},remove:{loading:function(){S.removeClass(p.loading)},focus:function(){S.removeClass(p.focus)},buttonPressed:function(){k.removeClass(p.pressed)}},query:function(t){t=e.isFunction(t)?t:function(){};var n=f.get.value(),i=f.read.cache(n);t=t||function(){},f.has.minimumCharacters()?(i?(f.debug("Reading result from cache",n),f.save.results(i.results),f.addResults(i.html),f.inject.id(i.results),t()):(f.debug("Querying for",n),e.isPlainObject(h.source)||e.isArray(h.source)?(f.search.local(n),t()):f.can.useAPI()?f.search.remote(n,t):(f.error(y.source),t())),h.onSearchQuery.call(P,n)):f.hideResults()},search:{local:function(e){var t,n=f.search.object(e,h.content);f.set.loading(),f.save.results(n),f.debug("Returned local search results",n),t=f.generateResults({results:n}),f.remove.loading(),f.addResults(t),f.inject.id(n),f.write.cache(e,{html:t,results:n})},remote:function(t,n){n=e.isFunction(n)?n:function(){},S.api("is loading")&&S.api("abort"),f.setup.api(t,n),S.api("query")},object:function(t,n,i){var r=[],o=[],a=t.toString().replace(v.escape,"\\$&"),s=new RegExp(v.beginsWith+a,"i"),l=function(t,n){var i=-1==e.inArray(n,r),a=-1==e.inArray(n,o);i&&a&&t.push(n)};return n=n||h.source,i=void 0!==i?i:h.searchFields,e.isArray(i)||(i=[i]),void 0===n||!1===n?(f.error(y.source),[]):(e.each(i,function(i,a){e.each(n,function(e,n){"string"==typeof n[a]&&(-1!==n[a].search(s)?l(r,n):h.searchFullText&&f.fuzzySearch(t,n[a])&&l(o,n))})}),e.merge(r,o))}},fuzzySearch:function(e,t){var n=t.length,i=e.length;if("string"!=typeof e)return!1;if(e=e.toLowerCase(),t=t.toLowerCase(),i>n)return!1;if(i===n)return e===t;e:for(var r=0,o=0;r<i;r++){for(var a=e.charCodeAt(r);o<n;)if(t.charCodeAt(o++)===a)continue e;return!1}return!0},parse:{response:function(e,t){var n=f.generateResults(e);f.verbose("Parsing server response",e),void 0!==e&&void 0!==t&&void 0!==e[m.results]&&(f.addResults(n),f.inject.id(e[m.results]),f.write.cache(t,{html:n,results:e[m.results]}),f.save.results(e[m.results]))}},cancel:{query:function(){f.can.useAPI()&&S.api("abort")}},has:{minimumCharacters:function(){return f.get.value().length>=h.minCharacters},results:function(){return 0!==T.length&&""!=T.html()}},clear:{cache:function(e){var t=S.data(g.cache);e?e&&t&&t[e]&&(f.debug("Removing value from cache",e),delete t[e],S.data(g.cache,t)):(f.debug("Clearing cache",e),S.removeData(g.cache))}},read:{cache:function(e){var t=S.data(g.cache);return!!h.cache&&(f.verbose("Checking cache for generated html for query",e),"object"==typeof t&&void 0!==t[e]&&t[e])}},create:{id:function(e,t){var n,i=e+1;return void 0!==t?(n=String.fromCharCode(97+t)+i,f.verbose("Creating category result id",n)):(n=i,f.verbose("Creating result id",n)),n},results:function(){0===T.length&&(T=e("<div />").addClass(p.results).appendTo(S))}},inject:{result:function(e,t,n){f.verbose("Injecting result into results");var i=void 0!==n?T.children().eq(n).children(b.result).eq(t):T.children(b.result).eq(t);f.verbose("Injecting results metadata",i),i.data(g.result,e)},id:function(t){f.debug("Injecting unique ids into results");var n=0,i=0;return"category"===h.type?e.each(t,function(t,r){i=0,e.each(r.results,function(e,t){var o=r.results[e];void 0===o.id&&(o.id=f.create.id(i,n)),f.inject.result(o,i,n),i++}),n++}):e.each(t,function(e,n){var r=t[e];void 0===r.id&&(r.id=f.create.id(i)),f.inject.result(r,i),i++}),t}},save:{results:function(e){f.verbose("Saving current search results to metadata",e),S.data(g.results,e)}},write:{cache:function(e,t){var n=void 0!==S.data(g.cache)?S.data(g.cache):{};h.cache&&(f.verbose("Writing generated html to cache",e,t),n[e]=t,S.data(g.cache,n))}},addResults:function(t){if(e.isFunction(h.onResultsAdd)&&!1===h.onResultsAdd.call(T,t))return f.debug("onResultsAdd callback cancelled default action"),!1;t?(T.html(t),f.refreshResults(),h.selectFirstResult&&f.select.firstResult(),f.showResults()):f.hideResults(function(){T.empty()})},showResults:function(t){t=e.isFunction(t)?t:function(){},R||!f.is.visible()&&f.has.results()&&(f.can.transition()?(f.debug("Showing results with css animations"),T.transition({animation:h.transition+" in",debug:h.debug,verbose:h.verbose,duration:h.duration,onComplete:function(){t()},queue:!0})):(f.debug("Showing results with javascript"),T.stop().fadeIn(h.duration,h.easing)),h.onResultsOpen.call(T))},hideResults:function(t){t=e.isFunction(t)?t:function(){},f.is.visible()&&(f.can.transition()?(f.debug("Hiding results with css animations"),T.transition({animation:h.transition+" out",debug:h.debug,verbose:h.verbose,duration:h.duration,onComplete:function(){t()},queue:!0})):(f.debug("Hiding results with javascript"),T.stop().fadeOut(h.duration,h.easing)),h.onResultsClose.call(T))},generateResults:function(t){f.debug("Generating html from response",t);var n=h.templates[h.type],i=e.isPlainObject(t[m.results])&&!e.isEmptyObject(t[m.results]),r=e.isArray(t[m.results])&&t[m.results].length>0,o="";return i||r?(h.maxResults>0&&(i?"standard"==h.type&&f.error(y.maxResults):t[m.results]=t[m.results].slice(0,h.maxResults)),e.isFunction(n)?o=n(t,m):f.error(y.noTemplate,!1)):h.showNoResults&&(o=f.displayMessage(y.noResults,"empty")),h.onResults.call(P,t),o},displayMessage:function(e,t){return t=t||"standard",f.debug("Displaying message",e,t),f.addResults(h.templates.message(e,t)),h.templates.message(e,t)},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,h,t);else{if(void 0===n)return h[t];h[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,f,t);else{if(void 0===n)return f[t];f[t]=n}},debug:function(){!h.silent&&h.debug&&(h.performance?f.performance.log(arguments):(f.debug=Function.prototype.bind.call(console.info,console,h.name+":"),f.debug.apply(console,arguments)))},verbose:function(){!h.silent&&h.verbose&&h.debug&&(h.performance?f.performance.log(arguments):(f.verbose=Function.prototype.bind.call(console.info,console,h.name+":"),f.verbose.apply(console,arguments)))},error:function(){h.silent||(f.error=Function.prototype.bind.call(console.error,console,h.name+":"),f.error.apply(console,arguments))},performance:{log:function(e){var t,n;h.performance&&(n=(t=(new Date).getTime())-(s||t),s=t,l.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:P,"Execution Time":n})),clearTimeout(f.performance.timer),f.performance.timer=setTimeout(f.performance.display,500)},display:function(){var t=h.name+":",n=0;s=!1,clearTimeout(f.performance.timer),e.each(l,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",a&&(t+=" '"+a+"'"),o.length>1&&(t+=" ("+o.length+")"),(void 0!==console.group||void 0!==console.table)&&l.length>0&&(console.groupCollapsed(t),console.table?console.table(l):e.each(l,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),l=[]}},invoke:function(t,n,i){var o,a,s,l=D;return n=n||d,i=P||i,"string"==typeof t&&void 0!==l&&(t=t.split(/[\. ]/),o=t.length-1,e.each(t,function(n,i){var r=n!=o?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(l[r])&&n!=o)l=l[r];else{if(void 0!==l[r])return a=l[r],!1;if(!e.isPlainObject(l[i])||n==o)return void 0!==l[i]&&(a=l[i],!1);l=l[i]}})),e.isFunction(a)?s=a.apply(i,n):void 0!==a&&(s=a),e.isArray(r)?r.push(s):void 0!==r?r=[r,s]:void 0!==s&&(r=s),a}},c?(void 0===D&&f.initialize(),f.invoke(u)):(void 0!==D&&D.invoke("destroy"),f.initialize())}),void 0!==r?r:this},e.fn.search.settings={name:"Search",namespace:"search",silent:!1,debug:!1,verbose:!1,performance:!0,type:"standard",minCharacters:1,selectFirstResult:!1,apiSettings:!1,source:!1,searchOnFocus:!0,searchFields:["title","description"],displayField:"",searchFullText:!0,automatic:!0,hideDelay:0,searchDelay:200,maxResults:7,cache:!0,showNoResults:!0,transition:"scale",duration:200,easing:"easeOutExpo",onSelect:!1,onResultsAdd:!1,onSearchQuery:function(e){},onResults:function(e){},onResultsOpen:function(){},onResultsClose:function(){},className:{animating:"animating",active:"active",empty:"empty",focus:"focus",hidden:"hidden",loading:"loading",results:"results",pressed:"down"},error:{source:"Cannot search. No source used, and Semantic API module was not included",noResults:"Your search returned no results",logging:"Error in debug logging, exiting.",noEndpoint:"No search endpoint was specified",noTemplate:"A valid template name was not specified.",serverError:"There was an issue querying the server.",maxResults:"Results must be an array to use maxResults setting",method:"The method you called is not defined."},metadata:{cache:"cache",results:"results",result:"result"},regExp:{escape:/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,beginsWith:"(?:s|^)"},fields:{categories:"results",categoryName:"name",categoryResults:"results",description:"description",image:"image",price:"price",results:"results",title:"title",url:"url",action:"action",actionText:"text",actionURL:"url"},selector:{prompt:".prompt",searchButton:".search.button",results:".results",message:".results > .message",category:".category",result:".result",title:".title, .name"},templates:{escape:function(e){var t=/[&<>"'`]/g,n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};return/[&<>"'`]/.test(e)?e.replace(t,function(e){return n[e]}):e},message:function(e,t){var n="";return void 0!==e&&void 0!==t&&(n+='<div class="message '+t+'">',n+="empty"==t?'<div class="header">No Results</div class="header"><div class="description">'+e+'</div class="description">':' <div class="description">'+e+"</div>",n+="</div>"),n},category:function(t,n){var i="";e.fn.search.settings.templates.escape;return void 0!==t[n.categoryResults]&&(e.each(t[n.categoryResults],function(t,r){void 0!==r[n.results]&&r.results.length>0&&(i+='<div class="category">',void 0!==r[n.categoryName]&&(i+='<div class="name">'+r[n.categoryName]+"</div>"),e.each(r.results,function(e,t){t[n.url]?i+='<a class="result" href="'+t[n.url]+'">':i+='<a class="result">',void 0!==t[n.image]&&(i+='<div class="image"> <img src="'+t[n.image]+'"></div>'),i+='<div class="content">',void 0!==t[n.price]&&(i+='<div class="price">'+t[n.price]+"</div>"),void 0!==t[n.title]&&(i+='<div class="title">'+t[n.title]+"</div>"),void 0!==t[n.description]&&(i+='<div class="description">'+t[n.description]+"</div>"),i+="</div>",i+="</a>"}),i+="</div>")}),t[n.action]&&(i+='<a href="'+t[n.action][n.actionURL]+'" class="action">'+t[n.action][n.actionText]+"</a>"),i)},standard:function(t,n){var i="";return void 0!==t[n.results]&&(e.each(t[n.results],function(e,t){t[n.url]?i+='<a class="result" href="'+t[n.url]+'">':i+='<a class="result">',void 0!==t[n.image]&&(i+='<div class="image"> <img src="'+t[n.image]+'"></div>'),i+='<div class="content">',void 0!==t[n.price]&&(i+='<div class="price">'+t[n.price]+"</div>"),void 0!==t[n.title]&&(i+='<div class="title">'+t[n.title]+"</div>"),void 0!==t[n.description]&&(i+='<div class="description">'+t[n.description]+"</div>"),i+="</div>",i+="</a>"}),t[n.action]&&(i+='<a href="'+t[n.action][n.actionURL]+'" class="action">'+t[n.action][n.actionText]+"</a>"),i)}}}}(jQuery,window,document),function(e,t,n,i){"use strict";t=void 0!==t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.shape=function(i){var r,o=e(this),a=(e("body"),(new Date).getTime()),s=[],l=arguments[0],u="string"==typeof l,c=[].slice.call(arguments,1),d=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)};return o.each(function(){var t,f,h,p=o.selector||"",g=e.isPlainObject(i)?e.extend(!0,{},e.fn.shape.settings,i):e.extend({},e.fn.shape.settings),v=g.namespace,m=g.selector,b=g.error,y=g.className,x="."+v,w="module-"+v,C=e(this),S=C.find(m.sides),_=C.find(m.side),k=!1,T=this,M=C.data(w);h={initialize:function(){h.verbose("Initializing module for",T),h.set.defaultSide(),h.instantiate()},instantiate:function(){h.verbose("Storing instance of module",h),M=h,C.data(w,M)},destroy:function(){h.verbose("Destroying previous module for",T),C.removeData(w).off(x)},refresh:function(){h.verbose("Refreshing selector cache for",T),C=e(T),S=e(this).find(m.shape),_=e(this).find(m.side)},repaint:function(){h.verbose("Forcing repaint event");(S[0]||n.createElement("div")).offsetWidth},animate:function(e,n){h.verbose("Animating box with properties",e),n=n||function(e){h.verbose("Executing animation callback"),void 0!==e&&e.stopPropagation(),h.reset(),h.set.active()},g.beforeChange.call(f[0]),h.get.transitionEvent()?(h.verbose("Starting CSS animation"),C.addClass(y.animating),S.css(e).one(h.get.transitionEvent(),n),h.set.duration(g.duration),d(function(){C.addClass(y.animating),t.addClass(y.hidden)})):n()},queue:function(e){h.debug("Queueing animation of",e),S.one(h.get.transitionEvent(),function(){h.debug("Executing queued animation"),setTimeout(function(){C.shape(e)},0)})},reset:function(){h.verbose("Animating states reset"),C.removeClass(y.animating).attr("style","").removeAttr("style"),S.attr("style","").removeAttr("style"),_.attr("style","").removeAttr("style").removeClass(y.hidden),f.removeClass(y.animating).attr("style","").removeAttr("style")},is:{complete:function(){return _.filter("."+y.active)[0]==f[0]},animating:function(){return C.hasClass(y.animating)}},set:{defaultSide:function(){t=C.find("."+g.className.active),f=t.next(m.side).length>0?t.next(m.side):C.find(m.side).first(),k=!1,h.verbose("Active side set to",t),h.verbose("Next side set to",f)},duration:function(e){e="number"==typeof(e=e||g.duration)?e+"ms":e,h.verbose("Setting animation duration",e),(g.duration||0===g.duration)&&S.add(_).css({"-webkit-transition-duration":e,"-moz-transition-duration":e,"-ms-transition-duration":e,"-o-transition-duration":e,"transition-duration":e})},currentStageSize:function(){var e=C.find("."+g.className.active),t=e.outerWidth(!0),n=e.outerHeight(!0);C.css({width:t,height:n})},stageSize:function(){var e=C.clone().addClass(y.loading),t=e.find("."+g.className.active),n=k?e.find(m.side).eq(k):t.next(m.side).length>0?t.next(m.side):e.find(m.side).first(),i="next"==g.width?n.outerWidth(!0):"initial"==g.width?C.width():g.width,r="next"==g.height?n.outerHeight(!0):"initial"==g.height?C.height():g.height;t.removeClass(y.active),n.addClass(y.active),e.insertAfter(C),e.remove(),"auto"!=g.width&&(C.css("width",i+g.jitter),h.verbose("Specifying width during animation",i)),"auto"!=g.height&&(C.css("height",r+g.jitter),h.verbose("Specifying height during animation",r))},nextSide:function(e){k=e,f=_.filter(e),k=_.index(f),0===f.length&&(h.set.defaultSide(),h.error(b.side)),h.verbose("Next side manually set to",f)},active:function(){h.verbose("Setting new side to active",f),_.removeClass(y.active),f.addClass(y.active),g.onChange.call(f[0]),h.set.defaultSide()}},flip:{up:function(){if(!h.is.complete()||h.is.animating()||g.allowRepeats)if(h.is.animating())h.queue("flip up");else{h.debug("Flipping up",f);var e=h.get.transform.up();h.set.stageSize(),h.stage.above(),h.animate(e)}else h.debug("Side already visible",f)},down:function(){if(!h.is.complete()||h.is.animating()||g.allowRepeats)if(h.is.animating())h.queue("flip down");else{h.debug("Flipping down",f);var e=h.get.transform.down();h.set.stageSize(),h.stage.below(),h.animate(e)}else h.debug("Side already visible",f)},left:function(){if(!h.is.complete()||h.is.animating()||g.allowRepeats)if(h.is.animating())h.queue("flip left");else{h.debug("Flipping left",f);var e=h.get.transform.left();h.set.stageSize(),h.stage.left(),h.animate(e)}else h.debug("Side already visible",f)},right:function(){if(!h.is.complete()||h.is.animating()||g.allowRepeats)if(h.is.animating())h.queue("flip right");else{h.debug("Flipping right",f);var e=h.get.transform.right();h.set.stageSize(),h.stage.right(),h.animate(e)}else h.debug("Side already visible",f)},over:function(){!h.is.complete()||h.is.animating()||g.allowRepeats?h.is.animating()?h.queue("flip over"):(h.debug("Flipping over",f),h.set.stageSize(),h.stage.behind(),h.animate(h.get.transform.over())):h.debug("Side already visible",f)},back:function(){!h.is.complete()||h.is.animating()||g.allowRepeats?h.is.animating()?h.queue("flip back"):(h.debug("Flipping back",f),h.set.stageSize(),h.stage.behind(),h.animate(h.get.transform.back())):h.debug("Side already visible",f)}},get:{transform:{up:function(){var e={y:-(t.outerHeight(!0)-f.outerHeight(!0))/2,z:-t.outerHeight(!0)/2};return{transform:"translateY("+e.y+"px) translateZ("+e.z+"px) rotateX(-90deg)"}},down:function(){var e={y:-(t.outerHeight(!0)-f.outerHeight(!0))/2,z:-t.outerHeight(!0)/2};return{transform:"translateY("+e.y+"px) translateZ("+e.z+"px) rotateX(90deg)"}},left:function(){var e={x:-(t.outerWidth(!0)-f.outerWidth(!0))/2,z:-t.outerWidth(!0)/2};return{transform:"translateX("+e.x+"px) translateZ("+e.z+"px) rotateY(90deg)"}},right:function(){var e={x:-(t.outerWidth(!0)-f.outerWidth(!0))/2,z:-t.outerWidth(!0)/2};return{transform:"translateX("+e.x+"px) translateZ("+e.z+"px) rotateY(-90deg)"}},over:function(){return{transform:"translateX("+{x:-(t.outerWidth(!0)-f.outerWidth(!0))/2}.x+"px) rotateY(180deg)"}},back:function(){return{transform:"translateX("+{x:-(t.outerWidth(!0)-f.outerWidth(!0))/2}.x+"px) rotateY(-180deg)"}}},transitionEvent:function(){var e,t=n.createElement("element"),i={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in i)if(void 0!==t.style[e])return i[e]},nextSide:function(){return t.next(m.side).length>0?t.next(m.side):C.find(m.side).first()}},stage:{above:function(){var e={origin:(t.outerHeight(!0)-f.outerHeight(!0))/2,depth:{active:f.outerHeight(!0)/2,next:t.outerHeight(!0)/2}};h.verbose("Setting the initial animation position as above",f,e),S.css({transform:"translateZ(-"+e.depth.active+"px)"}),t.css({transform:"rotateY(0deg) translateZ("+e.depth.active+"px)"}),f.addClass(y.animating).css({top:e.origin+"px",transform:"rotateX(90deg) translateZ("+e.depth.next+"px)"})},below:function(){var e={origin:(t.outerHeight(!0)-f.outerHeight(!0))/2,depth:{active:f.outerHeight(!0)/2,next:t.outerHeight(!0)/2}};h.verbose("Setting the initial animation position as below",f,e),S.css({transform:"translateZ(-"+e.depth.active+"px)"}),t.css({transform:"rotateY(0deg) translateZ("+e.depth.active+"px)"}),f.addClass(y.animating).css({top:e.origin+"px",transform:"rotateX(-90deg) translateZ("+e.depth.next+"px)"})},left:function(){var e={active:t.outerWidth(!0),next:f.outerWidth(!0)},n={origin:(e.active-e.next)/2,depth:{active:e.next/2,next:e.active/2}};h.verbose("Setting the initial animation position as left",f,n),S.css({transform:"translateZ(-"+n.depth.active+"px)"}),t.css({transform:"rotateY(0deg) translateZ("+n.depth.active+"px)"}),f.addClass(y.animating).css({left:n.origin+"px",transform:"rotateY(-90deg) translateZ("+n.depth.next+"px)"})},right:function(){var e={active:t.outerWidth(!0),next:f.outerWidth(!0)},n={origin:(e.active-e.next)/2,depth:{active:e.next/2,next:e.active/2}};h.verbose("Setting the initial animation position as left",f,n),S.css({transform:"translateZ(-"+n.depth.active+"px)"}),t.css({transform:"rotateY(0deg) translateZ("+n.depth.active+"px)"}),f.addClass(y.animating).css({left:n.origin+"px",transform:"rotateY(90deg) translateZ("+n.depth.next+"px)"})},behind:function(){var e={active:t.outerWidth(!0),next:f.outerWidth(!0)},n={origin:(e.active-e.next)/2,depth:{active:e.next/2,next:e.active/2}};h.verbose("Setting the initial animation position as behind",f,n),t.css({transform:"rotateY(0deg)"}),f.addClass(y.animating).css({left:n.origin+"px",transform:"rotateY(-180deg)"})}},setting:function(t,n){if(h.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,g,t);else{if(void 0===n)return g[t];e.isPlainObject(g[t])?e.extend(!0,g[t],n):g[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,h,t);else{if(void 0===n)return h[t];h[t]=n}},debug:function(){!g.silent&&g.debug&&(g.performance?h.performance.log(arguments):(h.debug=Function.prototype.bind.call(console.info,console,g.name+":"),h.debug.apply(console,arguments)))},verbose:function(){!g.silent&&g.verbose&&g.debug&&(g.performance?h.performance.log(arguments):(h.verbose=Function.prototype.bind.call(console.info,console,g.name+":"),h.verbose.apply(console,arguments)))},error:function(){g.silent||(h.error=Function.prototype.bind.call(console.error,console,g.name+":"),h.error.apply(console,arguments))},performance:{log:function(e){var t,n;g.performance&&(n=(t=(new Date).getTime())-(a||t),a=t,s.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:T,"Execution Time":n})),clearTimeout(h.performance.timer),h.performance.timer=setTimeout(h.performance.display,500)},display:function(){var t=g.name+":",n=0;a=!1,clearTimeout(h.performance.timer),e.each(s,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",p&&(t+=" '"+p+"'"),o.length>1&&(t+=" ("+o.length+")"),(void 0!==console.group||void 0!==console.table)&&s.length>0&&(console.groupCollapsed(t),console.table?console.table(s):e.each(s,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),s=[]}},invoke:function(t,n,i){var o,a,s,l=M;return n=n||c,i=T||i,"string"==typeof t&&void 0!==l&&(t=t.split(/[\. ]/),o=t.length-1,e.each(t,function(n,i){var r=n!=o?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(l[r])&&n!=o)l=l[r];else{if(void 0!==l[r])return a=l[r],!1;if(!e.isPlainObject(l[i])||n==o)return void 0!==l[i]&&(a=l[i],!1);l=l[i]}})),e.isFunction(a)?s=a.apply(i,n):void 0!==a&&(s=a),e.isArray(r)?r.push(s):void 0!==r?r=[r,s]:void 0!==s&&(r=s),a}},u?(void 0===M&&h.initialize(),h.invoke(l)):(void 0!==M&&M.invoke("destroy"),h.initialize())}),void 0!==r?r:this},e.fn.shape.settings={name:"Shape",silent:!1,debug:!1,verbose:!1,jitter:0,performance:!0,namespace:"shape",width:"initial",height:"initial",beforeChange:function(){},onChange:function(){},allowRepeats:!1,duration:!1,error:{side:"You tried to switch to a side that does not exist.",method:"The method you called is not defined"},className:{animating:"animating",hidden:"hidden",loading:"loading",active:"active"},selector:{sides:".sides",side:".side"}}}(jQuery,window,document),function(e,t,n,i){"use strict";t=void 0!==t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.sidebar=function(i){var r,o=e(this),a=e(t),s=e(n),l=e("html"),u=e("head"),c=o.selector||"",d=(new Date).getTime(),f=[],h=arguments[0],p="string"==typeof h,g=[].slice.call(arguments,1),v=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)};return o.each(function(){var o,m,b,y,x,w,C=e.isPlainObject(i)?e.extend(!0,{},e.fn.sidebar.settings,i):e.extend({},e.fn.sidebar.settings),S=C.selector,_=C.className,k=C.namespace,T=C.regExp,M=C.error,A="."+k,P="module-"+k,D=e(this),E=e(C.context),R=D.children(S.sidebar),I=E.children(S.fixed),F=E.children(S.pusher),L=this,N=D.data(P);w={initialize:function(){w.debug("Initializing sidebar",i),w.create.id(),x=w.get.transitionEvent(),C.delaySetup?v(w.setup.layout):w.setup.layout(),v(function(){w.setup.cache()}),w.instantiate()},instantiate:function(){w.verbose("Storing instance of module",w),N=w,D.data(P,w)},create:{id:function(){b=(Math.random().toString(16)+"000000000").substr(2,8),m="."+b,w.verbose("Creating unique id for element",b)}},destroy:function(){w.verbose("Destroying previous module for",D),D.off(A).removeData(P),w.is.ios()&&w.remove.ios(),E.off(m),a.off(m),s.off(m)},event:{clickaway:function(e){var t=F.find(e.target).length>0||F.is(e.target),n=E.is(e.target);t&&(w.verbose("User clicked on dimmed page"),w.hide()),n&&(w.verbose("User clicked on dimmable context (scaled out page)"),w.hide())},touch:function(e){},containScroll:function(e){L.scrollTop<=0&&(L.scrollTop=1),L.scrollTop+L.offsetHeight>=L.scrollHeight&&(L.scrollTop=L.scrollHeight-L.offsetHeight-1)},scroll:function(t){0===e(t.target).closest(S.sidebar).length&&t.preventDefault()}},bind:{clickaway:function(){w.verbose("Adding clickaway events to context",E),C.closable&&E.on("click"+m,w.event.clickaway).on("touchend"+m,w.event.clickaway)},scrollLock:function(){C.scrollLock&&(w.debug("Disabling page scroll"),a.on("DOMMouseScroll"+m,w.event.scroll)),w.verbose("Adding events to contain sidebar scroll"),s.on("touchmove"+m,w.event.touch),D.on("scroll"+A,w.event.containScroll)}},unbind:{clickaway:function(){w.verbose("Removing clickaway events from context",E),E.off(m)},scrollLock:function(){w.verbose("Removing scroll lock from page"),s.off(m),a.off(m),D.off("scroll"+A)}},add:{inlineCSS:function(){var t,n=w.cache.width||D.outerWidth(),i=w.cache.height||D.outerHeight(),r=w.is.rtl(),a=w.get.direction(),s={left:n,right:-n,top:i,bottom:-i};r&&(w.verbose("RTL detected, flipping widths"),s.left=-n,s.right=n),t="<style>","left"===a||"right"===a?(w.debug("Adding CSS rules for animation distance",n),t+=" .ui.visible."+a+".sidebar ~ .fixed, .ui.visible."+a+".sidebar ~ .pusher {   -webkit-transform: translate3d("+s[a]+"px, 0, 0);           transform: translate3d("+s[a]+"px, 0, 0); }"):"top"!==a&&"bottom"!=a||(t+=" .ui.visible."+a+".sidebar ~ .fixed, .ui.visible."+a+".sidebar ~ .pusher {   -webkit-transform: translate3d(0, "+s[a]+"px, 0);           transform: translate3d(0, "+s[a]+"px, 0); }"),w.is.ie()&&("left"===a||"right"===a?(w.debug("Adding CSS rules for animation distance",n),t+=" body.pushable > .ui.visible."+a+".sidebar ~ .pusher:after {   -webkit-transform: translate3d("+s[a]+"px, 0, 0);           transform: translate3d("+s[a]+"px, 0, 0); }"):"top"!==a&&"bottom"!=a||(t+=" body.pushable > .ui.visible."+a+".sidebar ~ .pusher:after {   -webkit-transform: translate3d(0, "+s[a]+"px, 0);           transform: translate3d(0, "+s[a]+"px, 0); }"),t+=" body.pushable > .ui.visible.left.sidebar ~ .ui.visible.right.sidebar ~ .pusher:after, body.pushable > .ui.visible.right.sidebar ~ .ui.visible.left.sidebar ~ .pusher:after {   -webkit-transform: translate3d(0px, 0, 0);           transform: translate3d(0px, 0, 0); }"),o=e(t+="</style>").appendTo(u),w.debug("Adding sizing css to head",o)}},refresh:function(){w.verbose("Refreshing selector cache"),E=e(C.context),R=E.children(S.sidebar),F=E.children(S.pusher),I=E.children(S.fixed),w.clear.cache()},refreshSidebars:function(){w.verbose("Refreshing other sidebars"),R=E.children(S.sidebar)},repaint:function(){w.verbose("Forcing repaint event"),L.style.display="none";L.offsetHeight;L.scrollTop=L.scrollTop,L.style.display=""},setup:{cache:function(){w.cache={width:D.outerWidth(),height:D.outerHeight(),rtl:"rtl"==D.css("direction")}},layout:function(){0===E.children(S.pusher).length&&(w.debug("Adding wrapper element for sidebar"),w.error(M.pusher),F=e('<div class="pusher" />'),E.children().not(S.omitted).not(R).wrapAll(F),w.refresh()),0!==D.nextAll(S.pusher).length&&D.nextAll(S.pusher)[0]===F[0]||(w.debug("Moved sidebar to correct parent element"),w.error(M.movedSidebar,L),D.detach().prependTo(E),w.refresh()),w.clear.cache(),w.set.pushable(),w.set.direction()}},attachEvents:function(t,n){var i=e(t);n=e.isFunction(w[n])?w[n]:w.toggle,i.length>0?(w.debug("Attaching sidebar events to element",t,n),i.on("click"+A,n)):w.error(M.notFound,t)},show:function(t){if(t=e.isFunction(t)?t:function(){},w.is.hidden()){if(w.refreshSidebars(),C.overlay&&(w.error(M.overlay),C.transition="overlay"),w.refresh(),w.othersActive())if(w.debug("Other sidebars currently visible"),C.exclusive){if("overlay"!=C.transition)return void w.hideOthers(w.show);w.hideOthers()}else C.transition="overlay";w.pushPage(function(){t.call(L),C.onShow.call(L)}),C.onChange.call(L),C.onVisible.call(L)}else w.debug("Sidebar is already visible")},hide:function(t){t=e.isFunction(t)?t:function(){},(w.is.visible()||w.is.animating())&&(w.debug("Hiding sidebar",t),w.refreshSidebars(),w.pullPage(function(){t.call(L),C.onHidden.call(L)}),C.onChange.call(L),C.onHide.call(L))},othersAnimating:function(){return R.not(D).filter("."+_.animating).length>0},othersVisible:function(){return R.not(D).filter("."+_.visible).length>0},othersActive:function(){return w.othersVisible()||w.othersAnimating()},hideOthers:function(e){var t=R.not(D).filter("."+_.visible),n=t.length,i=0;e=e||function(){},t.sidebar("hide",function(){++i==n&&e()})},toggle:function(){w.verbose("Determining toggled direction"),w.is.hidden()?w.show():w.hide()},pushPage:function(t){var n,i,r,o=w.get.transition(),a="overlay"===o||w.othersActive()?D:F;t=e.isFunction(t)?t:function(){},"scale down"==C.transition&&w.scrollToTop(),w.set.transition(o),w.repaint(),n=function(){w.bind.clickaway(),w.add.inlineCSS(),w.set.animating(),w.set.visible()},i=function(){w.set.dimmed()},r=function(e){e.target==a[0]&&(a.off(x+m,r),w.remove.animating(),w.bind.scrollLock(),t.call(L))},a.off(x+m),a.on(x+m,r),v(n),C.dimPage&&!w.othersVisible()&&v(i)},pullPage:function(t){var n,i,r=w.get.transition(),o="overlay"==r||w.othersActive()?D:F;t=e.isFunction(t)?t:function(){},w.verbose("Removing context push state",w.get.direction()),w.unbind.clickaway(),w.unbind.scrollLock(),n=function(){w.set.transition(r),w.set.animating(),w.remove.visible(),C.dimPage&&!w.othersVisible()&&F.removeClass(_.dimmed)},i=function(e){e.target==o[0]&&(o.off(x+m,i),w.remove.animating(),w.remove.transition(),w.remove.inlineCSS(),("scale down"==r||C.returnScroll&&w.is.mobile())&&w.scrollBack(),t.call(L))},o.off(x+m),o.on(x+m,i),v(n)},scrollToTop:function(){w.verbose("Scrolling to top of page to avoid animation issues"),y=e(t).scrollTop(),D.scrollTop(0),t.scrollTo(0,0)},scrollBack:function(){w.verbose("Scrolling back to original page position"),t.scrollTo(0,y)},clear:{cache:function(){w.verbose("Clearing cached dimensions"),w.cache={}}},set:{ios:function(){l.addClass(_.ios)},pushed:function(){E.addClass(_.pushed)},pushable:function(){E.addClass(_.pushable)},dimmed:function(){F.addClass(_.dimmed)},active:function(){D.addClass(_.active)},animating:function(){D.addClass(_.animating)},transition:function(e){e=e||w.get.transition(),D.addClass(e)},direction:function(e){e=e||w.get.direction(),D.addClass(_[e])},visible:function(){D.addClass(_.visible)},overlay:function(){D.addClass(_.overlay)}},remove:{inlineCSS:function(){w.debug("Removing inline css styles",o),o&&o.length>0&&o.remove()},ios:function(){l.removeClass(_.ios)},pushed:function(){E.removeClass(_.pushed)},pushable:function(){E.removeClass(_.pushable)},active:function(){D.removeClass(_.active)},animating:function(){D.removeClass(_.animating)},transition:function(e){e=e||w.get.transition(),D.removeClass(e)},direction:function(e){e=e||w.get.direction(),D.removeClass(_[e])},visible:function(){D.removeClass(_.visible)},overlay:function(){D.removeClass(_.overlay)}},get:{direction:function(){return D.hasClass(_.top)?_.top:D.hasClass(_.right)?_.right:D.hasClass(_.bottom)?_.bottom:_.left},transition:function(){var e,t=w.get.direction();return e=w.is.mobile()?"auto"==C.mobileTransition?C.defaultTransition.mobile[t]:C.mobileTransition:"auto"==C.transition?C.defaultTransition.computer[t]:C.transition,w.verbose("Determined transition",e),e},transitionEvent:function(){var e,t=n.createElement("element"),i={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in i)if(void 0!==t.style[e])return i[e]}},is:{ie:function(){var e=!t.ActiveXObject&&"ActiveXObject"in t,n="ActiveXObject"in t;return e||n},ios:function(){var e=navigator.userAgent,t=e.match(T.ios),n=e.match(T.mobileChrome);return!(!t||n)&&(w.verbose("Browser was found to be iOS",e),!0)},mobile:function(){var e=navigator.userAgent;return e.match(T.mobile)?(w.verbose("Browser was found to be mobile",e),!0):(w.verbose("Browser is not mobile, using regular transition",e),!1)},hidden:function(){return!w.is.visible()},visible:function(){return D.hasClass(_.visible)},open:function(){return w.is.visible()},closed:function(){return w.is.hidden()},vertical:function(){return D.hasClass(_.top)},animating:function(){return E.hasClass(_.animating)},rtl:function(){return void 0===w.cache.rtl&&(w.cache.rtl="rtl"==D.css("direction")),w.cache.rtl}},setting:function(t,n){if(w.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,C,t);else{if(void 0===n)return C[t];e.isPlainObject(C[t])?e.extend(!0,C[t],n):C[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,w,t);else{if(void 0===n)return w[t];w[t]=n}},debug:function(){!C.silent&&C.debug&&(C.performance?w.performance.log(arguments):(w.debug=Function.prototype.bind.call(console.info,console,C.name+":"),w.debug.apply(console,arguments)))},verbose:function(){!C.silent&&C.verbose&&C.debug&&(C.performance?w.performance.log(arguments):(w.verbose=Function.prototype.bind.call(console.info,console,C.name+":"),w.verbose.apply(console,arguments)))},error:function(){C.silent||(w.error=Function.prototype.bind.call(console.error,console,C.name+":"),w.error.apply(console,arguments))},performance:{log:function(e){var t,n;C.performance&&(n=(t=(new Date).getTime())-(d||t),d=t,f.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:L,"Execution Time":n})),clearTimeout(w.performance.timer),w.performance.timer=setTimeout(w.performance.display,500)},display:function(){var t=C.name+":",n=0;d=!1,clearTimeout(w.performance.timer),e.each(f,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",c&&(t+=" '"+c+"'"),(void 0!==console.group||void 0!==console.table)&&f.length>0&&(console.groupCollapsed(t),console.table?console.table(f):e.each(f,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),f=[]}},invoke:function(t,n,i){var o,a,s,l=N;return n=n||g,i=L||i,"string"==typeof t&&void 0!==l&&(t=t.split(/[\. ]/),o=t.length-1,e.each(t,function(n,i){var r=n!=o?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(l[r])&&n!=o)l=l[r];else{if(void 0!==l[r])return a=l[r],!1;if(!e.isPlainObject(l[i])||n==o)return void 0!==l[i]?(a=l[i],!1):(w.error(M.method,t),!1);l=l[i]}})),e.isFunction(a)?s=a.apply(i,n):void 0!==a&&(s=a),e.isArray(r)?r.push(s):void 0!==r?r=[r,s]:void 0!==s&&(r=s),a}},p?(void 0===N&&w.initialize(),w.invoke(h)):(void 0!==N&&w.invoke("destroy"),w.initialize())}),void 0!==r?r:this},e.fn.sidebar.settings={name:"Sidebar",namespace:"sidebar",silent:!1,debug:!1,verbose:!1,performance:!0,transition:"auto",mobileTransition:"auto",defaultTransition:{computer:{left:"uncover",right:"uncover",top:"overlay",bottom:"overlay"},mobile:{left:"uncover",right:"uncover",top:"overlay",bottom:"overlay"}},context:"body",exclusive:!1,closable:!0,dimPage:!0,scrollLock:!1,returnScroll:!1,delaySetup:!1,duration:500,onChange:function(){},onShow:function(){},onHide:function(){},onHidden:function(){},onVisible:function(){},className:{active:"active",animating:"animating",dimmed:"dimmed",ios:"ios",pushable:"pushable",pushed:"pushed",right:"right",top:"top",left:"left",bottom:"bottom",visible:"visible"},selector:{fixed:".fixed",omitted:"script, link, style, .ui.modal, .ui.dimmer, .ui.nag, .ui.fixed",pusher:".pusher",sidebar:".ui.sidebar"},regExp:{ios:/(iPad|iPhone|iPod)/g,mobileChrome:/(CriOS)/g,mobile:/Mobile|iP(hone|od|ad)|Android|BlackBerry|IEMobile|Kindle|NetFront|Silk-Accelerated|(hpw|web)OS|Fennec|Minimo|Opera M(obi|ini)|Blazer|Dolfin|Dolphin|Skyfire|Zune/g},error:{method:"The method you called is not defined.",pusher:"Had to add pusher element. For optimal performance make sure body content is inside a pusher element",movedSidebar:"Had to move sidebar. For optimal performance make sure sidebar and pusher are direct children of your body tag",overlay:"The overlay setting is no longer supported, use animation: overlay",notFound:"There were no elements that matched the specified selector"}}}(jQuery,window,document),function(e,t,n,i){"use strict";t=void 0!==t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.sticky=function(i){var r,o=e(this),a=o.selector||"",s=(new Date).getTime(),l=[],u=arguments[0],c="string"==typeof u,d=[].slice.call(arguments,1);return o.each(function(){var o,f,h,p,g,v=e.isPlainObject(i)?e.extend(!0,{},e.fn.sticky.settings,i):e.extend({},e.fn.sticky.settings),m=v.className,b=v.namespace,y=v.error,x="."+b,w="module-"+b,C=e(this),S=e(t),_=e(v.scrollContext),k=(C.selector,C.data(w)),T=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)},M=this;g={initialize:function(){g.determineContainer(),g.determineContext(),g.verbose("Initializing sticky",v,o),g.save.positions(),g.checkErrors(),g.bind.events(),v.observeChanges&&g.observeChanges(),g.instantiate()},instantiate:function(){g.verbose("Storing instance of module",g),k=g,C.data(w,g)},destroy:function(){g.verbose("Destroying previous instance"),g.reset(),h&&h.disconnect(),p&&p.disconnect(),S.off("load"+x,g.event.load).off("resize"+x,g.event.resize),_.off("scrollchange"+x,g.event.scrollchange),C.removeData(w)},observeChanges:function(){"MutationObserver"in t&&(h=new MutationObserver(g.event.documentChanged),p=new MutationObserver(g.event.changed),h.observe(n,{childList:!0,subtree:!0}),p.observe(M,{childList:!0,subtree:!0}),p.observe(f[0],{childList:!0,subtree:!0}),g.debug("Setting up mutation observer",p))},determineContainer:function(){o=v.container?e(v.container):C.offsetParent()},determineContext:function(){0!==(f=v.context?e(v.context):o).length||g.error(y.invalidContext,v.context,C)},checkErrors:function(){if(g.is.hidden()&&g.error(y.visible,C),g.cache.element.height>g.cache.context.height)return g.reset(),void g.error(y.elementSize,C)},bind:{events:function(){S.on("load"+x,g.event.load).on("resize"+x,g.event.resize),_.off("scroll"+x).on("scroll"+x,g.event.scroll).on("scrollchange"+x,g.event.scrollchange)}},event:{changed:function(e){clearTimeout(g.timer),g.timer=setTimeout(function(){g.verbose("DOM tree modified, updating sticky menu",e),g.refresh()},100)},documentChanged:function(t){[].forEach.call(t,function(t){t.removedNodes&&[].forEach.call(t.removedNodes,function(t){(t==M||e(t).find(M).length>0)&&(g.debug("Element removed from DOM, tearing down events"),g.destroy())})})},load:function(){g.verbose("Page contents finished loading"),T(g.refresh)},resize:function(){g.verbose("Window resized"),T(g.refresh)},scroll:function(){T(function(){_.triggerHandler("scrollchange"+x,_.scrollTop())})},scrollchange:function(e,t){g.stick(t),v.onScroll.call(M)}},refresh:function(e){g.reset(),v.context||g.determineContext(),e&&g.determineContainer(),g.save.positions(),g.stick(),v.onReposition.call(M)},supports:{sticky:function(){var t=e("<div/>");t[0];return t.addClass(m.supported),t.css("position").match("sticky")}},save:{lastScroll:function(e){g.lastScroll=e},elementScroll:function(e){g.elementScroll=e},positions:function(){var e={height:_.height()},t={margin:{top:parseInt(C.css("margin-top"),10),bottom:parseInt(C.css("margin-bottom"),10)},offset:C.offset(),width:C.outerWidth(),height:C.outerHeight()},n={offset:f.offset(),height:f.outerHeight()};o.outerHeight();g.is.standardScroll()||(g.debug("Non-standard scroll. Removing scroll offset from element offset"),e.top=_.scrollTop(),e.left=_.scrollLeft(),t.offset.top+=e.top,n.offset.top+=e.top,t.offset.left+=e.left,n.offset.left+=e.left),g.cache={fits:t.height+v.offset<=e.height,sameHeight:t.height==n.height,scrollContext:{height:e.height},element:{margin:t.margin,top:t.offset.top-t.margin.top,left:t.offset.left,width:t.width,height:t.height,bottom:t.offset.top+t.height},context:{top:n.offset.top,height:n.height,bottom:n.offset.top+n.height}},g.set.containerSize(),g.stick(),g.debug("Caching element positions",g.cache)}},get:{direction:function(e){var t="down";return e=e||_.scrollTop(),void 0!==g.lastScroll&&(g.lastScroll<e?t="down":g.lastScroll>e&&(t="up")),t},scrollChange:function(e){return e=e||_.scrollTop(),g.lastScroll?e-g.lastScroll:0},currentElementScroll:function(){return g.elementScroll?g.elementScroll:g.is.top()?Math.abs(parseInt(C.css("top"),10))||0:Math.abs(parseInt(C.css("bottom"),10))||0},elementScroll:function(e){e=e||_.scrollTop();var t=g.cache.element,n=g.cache.scrollContext,i=g.get.scrollChange(e),r=t.height-n.height+v.offset,o=g.get.currentElementScroll(),a=o+i;return o=g.cache.fits||a<0?0:a>r?r:a}},remove:{lastScroll:function(){delete g.lastScroll},elementScroll:function(e){delete g.elementScroll},minimumSize:function(){o.css("min-height","")},offset:function(){C.css("margin-top","")}},set:{offset:function(){g.verbose("Setting offset on element",v.offset),C.css("margin-top",v.offset)},containerSize:function(){var e=o.get(0).tagName;"HTML"===e||"body"==e?g.determineContainer():Math.abs(o.outerHeight()-g.cache.context.height)>v.jitter&&(g.debug("Context has padding, specifying exact height for container",g.cache.context.height),o.css({height:g.cache.context.height}))},minimumSize:function(){var e=g.cache.element;o.css("min-height",e.height)},scroll:function(e){g.debug("Setting scroll on element",e),g.elementScroll!=e&&(g.is.top()&&C.css("bottom","").css("top",-e),g.is.bottom()&&C.css("top","").css("bottom",e))},size:function(){0!==g.cache.element.height&&0!==g.cache.element.width&&(M.style.setProperty("width",g.cache.element.width+"px","important"),M.style.setProperty("height",g.cache.element.height+"px","important"))}},is:{standardScroll:function(){return _[0]==t},top:function(){return C.hasClass(m.top)},bottom:function(){return C.hasClass(m.bottom)},initialPosition:function(){return!g.is.fixed()&&!g.is.bound()},hidden:function(){return!C.is(":visible")},bound:function(){return C.hasClass(m.bound)},fixed:function(){return C.hasClass(m.fixed)}},stick:function(e){var t=e||_.scrollTop(),n=g.cache,i=n.fits,r=n.sameHeight,o=n.element,a=n.scrollContext,s=n.context,l=g.is.bottom()&&v.pushing?v.bottomOffset:v.offset,e={top:t+l,bottom:t+l+a.height},u=(g.get.direction(e.top),i?0:g.get.elementScroll(e.top)),c=!i;0!==o.height&&!r&&(g.is.initialPosition()?e.top>=s.bottom?(g.debug("Initial element position is bottom of container"),g.bindBottom()):e.top>o.top&&(o.height+e.top-u>=s.bottom?(g.debug("Initial element position is bottom of container"),g.bindBottom()):(g.debug("Initial element position is fixed"),g.fixTop())):g.is.fixed()?g.is.top()?e.top<=o.top?(g.debug("Fixed element reached top of container"),g.setInitialPosition()):o.height+e.top-u>=s.bottom?(g.debug("Fixed element reached bottom of container"),g.bindBottom()):c&&(g.set.scroll(u),g.save.lastScroll(e.top),g.save.elementScroll(u)):g.is.bottom()&&(e.bottom-o.height<=o.top?(g.debug("Bottom fixed rail has reached top of container"),g.setInitialPosition()):e.bottom>=s.bottom?(g.debug("Bottom fixed rail has reached bottom of container"),g.bindBottom()):c&&(g.set.scroll(u),g.save.lastScroll(e.top),g.save.elementScroll(u))):g.is.bottom()&&(e.top<=o.top?(g.debug("Jumped from bottom fixed to top fixed, most likely used home/end button"),g.setInitialPosition()):v.pushing?g.is.bound()&&e.bottom<=s.bottom&&(g.debug("Fixing bottom attached element to bottom of browser."),g.fixBottom()):g.is.bound()&&e.top<=s.bottom-o.height&&(g.debug("Fixing bottom attached element to top of browser."),g.fixTop())))},bindTop:function(){g.debug("Binding element to top of parent container"),g.remove.offset(),C.css({left:"",top:"",marginBottom:""}).removeClass(m.fixed).removeClass(m.bottom).addClass(m.bound).addClass(m.top),v.onTop.call(M),v.onUnstick.call(M)},bindBottom:function(){g.debug("Binding element to bottom of parent container"),g.remove.offset(),C.css({left:"",top:""}).removeClass(m.fixed).removeClass(m.top).addClass(m.bound).addClass(m.bottom),v.onBottom.call(M),v.onUnstick.call(M)},setInitialPosition:function(){g.debug("Returning to initial position"),g.unfix(),g.unbind()},fixTop:function(){g.debug("Fixing element to top of page"),v.setSize&&g.set.size(),g.set.minimumSize(),g.set.offset(),C.css({left:g.cache.element.left,bottom:"",marginBottom:""}).removeClass(m.bound).removeClass(m.bottom).addClass(m.fixed).addClass(m.top),v.onStick.call(M)},fixBottom:function(){g.debug("Sticking element to bottom of page"),v.setSize&&g.set.size(),g.set.minimumSize(),g.set.offset(),C.css({left:g.cache.element.left,bottom:"",marginBottom:""}).removeClass(m.bound).removeClass(m.top).addClass(m.fixed).addClass(m.bottom),v.onStick.call(M)},unbind:function(){g.is.bound()&&(g.debug("Removing container bound position on element"),g.remove.offset(),C.removeClass(m.bound).removeClass(m.top).removeClass(m.bottom))},unfix:function(){g.is.fixed()&&(g.debug("Removing fixed position on element"),g.remove.minimumSize(),g.remove.offset(),C.removeClass(m.fixed).removeClass(m.top).removeClass(m.bottom),v.onUnstick.call(M))},reset:function(){g.debug("Resetting elements position"),g.unbind(),g.unfix(),g.resetCSS(),g.remove.offset(),g.remove.lastScroll()},resetCSS:function(){C.css({width:"",height:""}),o.css({height:""})},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,v,t);else{if(void 0===n)return v[t];v[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,g,t);else{if(void 0===n)return g[t];g[t]=n}},debug:function(){!v.silent&&v.debug&&(v.performance?g.performance.log(arguments):(g.debug=Function.prototype.bind.call(console.info,console,v.name+":"),g.debug.apply(console,arguments)))},verbose:function(){!v.silent&&v.verbose&&v.debug&&(v.performance?g.performance.log(arguments):(g.verbose=Function.prototype.bind.call(console.info,console,v.name+":"),g.verbose.apply(console,arguments)))},error:function(){v.silent||(g.error=Function.prototype.bind.call(console.error,console,v.name+":"),g.error.apply(console,arguments))},performance:{log:function(e){var t,n;v.performance&&(n=(t=(new Date).getTime())-(s||t),s=t,l.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:M,"Execution Time":n})),clearTimeout(g.performance.timer),g.performance.timer=setTimeout(g.performance.display,0)},display:function(){var t=v.name+":",n=0;s=!1,clearTimeout(g.performance.timer),e.each(l,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",a&&(t+=" '"+a+"'"),(void 0!==console.group||void 0!==console.table)&&l.length>0&&(console.groupCollapsed(t),console.table?console.table(l):e.each(l,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),l=[]}},invoke:function(t,n,i){var o,a,s,l=k;return n=n||d,i=M||i,"string"==typeof t&&void 0!==l&&(t=t.split(/[\. ]/),o=t.length-1,e.each(t,function(n,i){var r=n!=o?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(l[r])&&n!=o)l=l[r];else{if(void 0!==l[r])return a=l[r],!1;if(!e.isPlainObject(l[i])||n==o)return void 0!==l[i]&&(a=l[i],!1);l=l[i]}})),e.isFunction(a)?s=a.apply(i,n):void 0!==a&&(s=a),e.isArray(r)?r.push(s):void 0!==r?r=[r,s]:void 0!==s&&(r=s),a}},c?(void 0===k&&g.initialize(),g.invoke(u)):(void 0!==k&&k.invoke("destroy"),g.initialize())}),void 0!==r?r:this},e.fn.sticky.settings={name:"Sticky",namespace:"sticky",silent:!1,debug:!1,verbose:!0,performance:!0,pushing:!1,context:!1,container:!1,scrollContext:t,offset:0,bottomOffset:0,jitter:5,setSize:!0,observeChanges:!1,onReposition:function(){},onScroll:function(){},onStick:function(){},onUnstick:function(){},onTop:function(){},onBottom:function(){},error:{container:"Sticky element must be inside a relative container",visible:"Element is hidden, you must call refresh after element becomes visible. Use silent setting to surpress this warning in production.",method:"The method you called is not defined.",invalidContext:"Context specified does not exist",elementSize:"Sticky element is larger than its container, cannot create sticky."},className:{bound:"bound",fixed:"fixed",supported:"native",top:"top",bottom:"bottom"}}}(jQuery,window,document),function(e,t,n,i){"use strict";t=void 0!==t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.tab=function(i){var r,o=e(e.isFunction(this)?t:this),a=o.selector||"",s=(new Date).getTime(),l=[],u=arguments[0],c="string"==typeof u,d=[].slice.call(arguments,1),f=!1;return o.each(function(){var h,p,g,v,m,b,y=e.isPlainObject(i)?e.extend(!0,{},e.fn.tab.settings,i):e.extend({},e.fn.tab.settings),x=y.className,w=y.metadata,C=y.selector,S=y.error,_="."+y.namespace,k="module-"+y.namespace,T=e(this),M={},A=!0,P=0,D=this,E=T.data(k);m={initialize:function(){m.debug("Initializing tab menu item",T),m.fix.callbacks(),m.determineTabs(),m.debug("Determining tabs",y.context,p),y.auto&&m.set.auto(),m.bind.events(),y.history&&!f&&(m.initializeHistory(),f=!0),m.instantiate()},instantiate:function(){m.verbose("Storing instance of module",m),E=m,T.data(k,m)},destroy:function(){m.debug("Destroying tabs",T),T.removeData(k).off(_)},bind:{events:function(){e.isWindow(D)||(m.debug("Attaching tab activation events to element",T),T.on("click"+_,m.event.click))}},determineTabs:function(){var t;"parent"===y.context?(T.closest(C.ui).length>0?(t=T.closest(C.ui),m.verbose("Using closest UI element as parent",t)):t=T,h=t.parent(),m.verbose("Determined parent element for creating context",h)):y.context?(h=e(y.context),m.verbose("Using selector for tab context",y.context,h)):h=e("body"),y.childrenOnly?(p=h.children(C.tabs),m.debug("Searching tab context children for tabs",h,p)):(p=h.find(C.tabs),m.debug("Searching tab context for tabs",h,p))},fix:{callbacks:function(){e.isPlainObject(i)&&(i.onTabLoad||i.onTabInit)&&(i.onTabLoad&&(i.onLoad=i.onTabLoad,delete i.onTabLoad,m.error(S.legacyLoad,i.onLoad)),i.onTabInit&&(i.onFirstLoad=i.onTabInit,delete i.onTabInit,m.error(S.legacyInit,i.onFirstLoad)),y=e.extend(!0,{},e.fn.tab.settings,i))}},initializeHistory:function(){if(m.debug("Initializing page state"),void 0===e.address)return m.error(S.state),!1;if("state"==y.historyType){if(m.debug("Using HTML5 to manage state"),!1===y.path)return m.error(S.path),!1;e.address.history(!0).state(y.path)}e.address.bind("change",m.event.history.change)},event:{click:function(t){var n=e(this).data(w.tab);void 0!==n?(y.history?(m.verbose("Updating page state",t),e.address.value(n)):(m.verbose("Changing tab",t),m.changeTab(n)),t.preventDefault()):m.debug("No tab specified")},history:{change:function(t){var n=t.pathNames.join("/")||m.get.initialPath(),i=y.templates.determineTitle(n)||!1;m.performance.display(),m.debug("History change event",n,t),b=t,void 0!==n&&m.changeTab(n),i&&e.address.title(i)}}},refresh:function(){g&&(m.debug("Refreshing tab",g),m.changeTab(g))},cache:{read:function(e){return void 0!==e&&M[e]},add:function(e,t){e=e||g,m.debug("Adding cached content for",e),M[e]=t},remove:function(e){e=e||g,m.debug("Removing cached content for",e),delete M[e]}},set:{auto:function(){var t="string"==typeof y.path?y.path.replace(/\/$/,"")+"/{$tab}":"/{$tab}";m.verbose("Setting up automatic tab retrieval from server",t),e.isPlainObject(y.apiSettings)?y.apiSettings.url=t:y.apiSettings={url:t}},loading:function(e){var t=m.get.tabElement(e);t.hasClass(x.loading)||(m.verbose("Setting loading state for",t),t.addClass(x.loading).siblings(p).removeClass(x.active+" "+x.loading),t.length>0&&y.onRequest.call(t[0],e))},state:function(t){e.address.value(t)}},changeTab:function(n){var i=t.history&&t.history.pushState&&y.ignoreFirstLoad&&A,r=y.auto||e.isPlainObject(y.apiSettings),o=r&&!i?m.utilities.pathToArray(n):m.get.defaultPathArray(n);n=m.utilities.arrayToPath(o),e.each(o,function(t,a){var s,l,u,c,d=o.slice(0,t+1),f=m.utilities.arrayToPath(d),p=m.is.tab(f),C=t+1==o.length,_=m.get.tabElement(f);if(m.verbose("Looking for tab",a),p){if(m.verbose("Tab was found",a),g=f,v=m.utilities.filterArray(o,d),C?c=!0:(l=o.slice(0,t+2),u=m.utilities.arrayToPath(l),(c=!m.is.tab(u))&&m.verbose("Tab parameters found",l)),c&&r)return i?(m.debug("Ignoring remote content on first tab load",f),A=!1,m.cache.add(n,_.html()),m.activate.all(f),y.onFirstLoad.call(_[0],f,v,b),y.onLoad.call(_[0],f,v,b)):(m.activate.navigation(f),m.fetch.content(f,n)),!1;m.debug("Opened local tab",f),m.activate.all(f),m.cache.read(f)||(m.cache.add(f,!0),m.debug("First time tab loaded calling tab init"),y.onFirstLoad.call(_[0],f,v,b)),y.onLoad.call(_[0],f,v,b)}else{if(-1!=n.search("/")||""===n)return m.error(S.missingTab,T,h,f),!1;if(s=e("#"+n+', a[name="'+n+'"]'),f=s.closest("[data-tab]").data(w.tab),_=m.get.tabElement(f),s&&s.length>0&&f)return m.debug("Anchor link used, opening parent tab",_,s),_.hasClass(x.active)||setTimeout(function(){m.scrollTo(s)},0),m.activate.all(f),m.cache.read(f)||(m.cache.add(f,!0),m.debug("First time tab loaded calling tab init"),y.onFirstLoad.call(_[0],f,v,b)),y.onLoad.call(_[0],f,v,b),!1}})},scrollTo:function(t){var i=!!(t&&t.length>0)&&t.offset().top;!1!==i&&(m.debug("Forcing scroll to an in-page link in a hidden tab",i,t),e(n).scrollTop(i))},update:{content:function(t,n,i){var r=m.get.tabElement(t),o=r[0];i=void 0!==i?i:y.evaluateScripts,"string"==typeof y.cacheType&&"dom"==y.cacheType.toLowerCase()&&"string"!=typeof n?r.empty().append(e(n).clone(!0)):i?(m.debug("Updating HTML and evaluating inline scripts",t,n),r.html(n)):(m.debug("Updating HTML",t,n),o.innerHTML=n)}},fetch:{content:function(t,n){var i,r,o=m.get.tabElement(t),a={dataType:"html",encodeParameters:!1,on:"now",cache:y.alwaysRefresh,headers:{"X-Remote":!0},onSuccess:function(e){"response"==y.cacheType&&m.cache.add(n,e),m.update.content(t,e),t==g?(m.debug("Content loaded",t),m.activate.tab(t)):m.debug("Content loaded in background",t),y.onFirstLoad.call(o[0],t,v,b),y.onLoad.call(o[0],t,v,b),y.loadOnce?m.cache.add(n,!0):"string"==typeof y.cacheType&&"dom"==y.cacheType.toLowerCase()&&o.children().length>0?setTimeout(function(){var e=o.children().clone(!0);e=e.not("script"),m.cache.add(n,e)},0):m.cache.add(n,o.html())},urlData:{tab:n}},s=o.api("get request")||!1,l=s&&"pending"===s.state();n=n||t,r=m.cache.read(n),y.cache&&r?(m.activate.tab(t),m.debug("Adding cached content",n),y.loadOnce||("once"==y.evaluateScripts?m.update.content(t,r,!1):m.update.content(t,r)),y.onLoad.call(o[0],t,v,b)):l?(m.set.loading(t),m.debug("Content is already loading",n)):void 0!==e.api?(i=e.extend(!0,{},y.apiSettings,a),m.debug("Retrieving remote content",n,i),m.set.loading(t),o.api(i)):m.error(S.api)}},activate:{all:function(e){m.activate.tab(e),m.activate.navigation(e)},tab:function(e){var t=m.get.tabElement(e),n="siblings"==y.deactivate?t.siblings(p):p.not(t),i=t.hasClass(x.active);m.verbose("Showing tab content for",t),i||(t.addClass(x.active),n.removeClass(x.active+" "+x.loading),t.length>0&&y.onVisible.call(t[0],e))},navigation:function(e){var t=m.get.navElement(e),n="siblings"==y.deactivate?t.siblings(o):o.not(t),i=t.hasClass(x.active);m.verbose("Activating tab navigation for",t,e),i||(t.addClass(x.active),n.removeClass(x.active+" "+x.loading))}},deactivate:{all:function(){m.deactivate.navigation(),m.deactivate.tabs()},navigation:function(){o.removeClass(x.active)},tabs:function(){p.removeClass(x.active+" "+x.loading)}},is:{tab:function(e){return void 0!==e&&m.get.tabElement(e).length>0}},get:{initialPath:function(){return o.eq(0).data(w.tab)||p.eq(0).data(w.tab)},path:function(){return e.address.value()},defaultPathArray:function(e){return m.utilities.pathToArray(m.get.defaultPath(e))},defaultPath:function(e){var t=o.filter("[data-"+w.tab+'^="'+e+'/"]').eq(0).data(w.tab)||!1;if(t){if(m.debug("Found default tab",t),P<y.maxDepth)return P++,m.get.defaultPath(t);m.error(S.recursion)}else m.debug("No default tabs found for",e,p);return P=0,e},navElement:function(e){return e=e||g,o.filter("[data-"+w.tab+'="'+e+'"]')},tabElement:function(e){var t,n,i,r;return e=e||g,i=m.utilities.pathToArray(e),r=m.utilities.last(i),t=p.filter("[data-"+w.tab+'="'+e+'"]'),n=p.filter("[data-"+w.tab+'="'+r+'"]'),t.length>0?t:n},tab:function(){return g}},utilities:{filterArray:function(t,n){return e.grep(t,function(t){return-1==e.inArray(t,n)})},last:function(t){return!!e.isArray(t)&&t[t.length-1]},pathToArray:function(e){return void 0===e&&(e=g),"string"==typeof e?e.split("/"):[e]},arrayToPath:function(t){return!!e.isArray(t)&&t.join("/")}},setting:function(t,n){if(m.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,y,t);else{if(void 0===n)return y[t];e.isPlainObject(y[t])?e.extend(!0,y[t],n):y[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,m,t);else{if(void 0===n)return m[t];m[t]=n}},debug:function(){!y.silent&&y.debug&&(y.performance?m.performance.log(arguments):(m.debug=Function.prototype.bind.call(console.info,console,y.name+":"),m.debug.apply(console,arguments)))},verbose:function(){!y.silent&&y.verbose&&y.debug&&(y.performance?m.performance.log(arguments):(m.verbose=Function.prototype.bind.call(console.info,console,y.name+":"),m.verbose.apply(console,arguments)))},error:function(){y.silent||(m.error=Function.prototype.bind.call(console.error,console,y.name+":"),m.error.apply(console,arguments))},performance:{log:function(e){var t,n;y.performance&&(n=(t=(new Date).getTime())-(s||t),s=t,l.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:D,"Execution Time":n})),clearTimeout(m.performance.timer),m.performance.timer=setTimeout(m.performance.display,500)},display:function(){var t=y.name+":",n=0;s=!1,clearTimeout(m.performance.timer),e.each(l,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",a&&(t+=" '"+a+"'"),(void 0!==console.group||void 0!==console.table)&&l.length>0&&(console.groupCollapsed(t),console.table?console.table(l):e.each(l,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),l=[]}},invoke:function(t,n,i){var o,a,s,l=E;return n=n||d,i=D||i,"string"==typeof t&&void 0!==l&&(t=t.split(/[\. ]/),o=t.length-1,e.each(t,function(n,i){var r=n!=o?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(l[r])&&n!=o)l=l[r];else{if(void 0!==l[r])return a=l[r],!1;if(!e.isPlainObject(l[i])||n==o)return void 0!==l[i]?(a=l[i],!1):(m.error(S.method,t),!1);l=l[i]}})),e.isFunction(a)?s=a.apply(i,n):void 0!==a&&(s=a),e.isArray(r)?r.push(s):void 0!==r?r=[r,s]:void 0!==s&&(r=s),a}},c?(void 0===E&&m.initialize(),m.invoke(u)):(void 0!==E&&E.invoke("destroy"),m.initialize())}),void 0!==r?r:this},e.tab=function(){e(t).tab.apply(this,arguments)},e.fn.tab.settings={name:"Tab",namespace:"tab",silent:!1,debug:!1,verbose:!1,performance:!0,auto:!1,history:!1,historyType:"hash",path:!1,context:!1,childrenOnly:!1,maxDepth:25,deactivate:"siblings",alwaysRefresh:!1,cache:!0,loadOnce:!1,cacheType:"response",ignoreFirstLoad:!1,apiSettings:!1,evaluateScripts:"once",onFirstLoad:function(e,t,n){},onLoad:function(e,t,n){},onVisible:function(e,t,n){},onRequest:function(e,t,n){},templates:{determineTitle:function(e){}},error:{api:"You attempted to load content without API module",method:"The method you called is not defined",missingTab:"Activated tab cannot be found. Tabs are case-sensitive.",noContent:"The tab you specified is missing a content url.",path:"History enabled, but no path was specified",recursion:"Max recursive depth reached",legacyInit:"onTabInit has been renamed to onFirstLoad in 2.0, please adjust your code.",legacyLoad:"onTabLoad has been renamed to onLoad in 2.0. Please adjust your code",state:"History requires Asual's Address library <https://github.com/asual/jquery-address>"},metadata:{tab:"tab",loaded:"loaded",promise:"promise"},className:{loading:"loading",active:"active"},selector:{tabs:".ui.tab",ui:".ui"}}}(jQuery,window,document),function(e,t,n,i){"use strict";t=void 0!==t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.transition=function(){var i,r=e(this),o=r.selector||"",a=(new Date).getTime(),s=[],l=arguments,u=l[0],c=[].slice.call(arguments,1),d="string"==typeof u;t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame;return r.each(function(t){var f,h,p,g,v,m,b,y,x,w=e(this),C=this;(x={initialize:function(){f=x.get.settings.apply(C,l),g=f.className,p=f.error,v=f.metadata,y="."+f.namespace,b="module-"+f.namespace,h=w.data(b)||x,m=x.get.animationEndEvent(),d&&(d=x.invoke(u)),!1===d&&(x.verbose("Converted arguments into settings object",f),f.interval?x.delay(f.animate):x.animate(),x.instantiate())},instantiate:function(){x.verbose("Storing instance of module",x),h=x,w.data(b,h)},destroy:function(){x.verbose("Destroying previous module for",C),w.removeData(b)},refresh:function(){x.verbose("Refreshing display type on next animation"),delete x.displayType},forceRepaint:function(){x.verbose("Forcing element repaint");var e=w.parent(),t=w.next();0===t.length?w.detach().appendTo(e):w.detach().insertBefore(t)},repaint:function(){x.verbose("Repainting element");C.offsetWidth},delay:function(e){var n,i=x.get.animationDirection();i||(i=x.can.transition()?x.get.direction():"static"),e=void 0!==e?e:f.interval,n="auto"==f.reverse&&i==g.outward||1==f.reverse?(r.length-t)*f.interval:t*f.interval,x.debug("Delaying animation by",n),setTimeout(x.animate,n)},animate:function(e){if(f=e||f,!x.is.supported())return x.error(p.support),!1;if(x.debug("Preparing animation",f.animation),x.is.animating()){if(f.queue)return!f.allowRepeats&&x.has.direction()&&x.is.occurring()&&!0!==x.queuing?x.debug("Animation is currently occurring, preventing queueing same animation",f.animation):x.queue(f.animation),!1;if(!f.allowRepeats&&x.is.occurring())return x.debug("Animation is already occurring, will not execute repeated animation",f.animation),!1;x.debug("New animation started, completing previous early",f.animation),h.complete()}x.can.animate()?x.set.animating(f.animation):x.error(p.noAnimation,f.animation,C)},reset:function(){x.debug("Resetting animation to beginning conditions"),x.remove.animationCallbacks(),x.restore.conditions(),x.remove.animating()},queue:function(e){x.debug("Queueing animation of",e),x.queuing=!0,w.one(m+".queue"+y,function(){x.queuing=!1,x.repaint(),x.animate.apply(this,f)})},complete:function(e){x.debug("Animation complete",f.animation),x.remove.completeCallback(),x.remove.failSafe(),x.is.looping()||(x.is.outward()?(x.verbose("Animation is outward, hiding element"),x.restore.conditions(),x.hide()):x.is.inward()?(x.verbose("Animation is outward, showing element"),x.restore.conditions(),x.show()):(x.verbose("Static animation completed"),x.restore.conditions(),f.onComplete.call(C)))},force:{visible:function(){var e=w.attr("style"),t=x.get.userStyle(),n=x.get.displayType(),i=t+"display: "+n+" !important;",r=w.css("display"),o=void 0===e||""===e;r!==n?(x.verbose("Overriding default display to show element",n),w.attr("style",i)):o&&w.removeAttr("style")},hidden:function(){var e=w.attr("style"),t=w.css("display"),n=void 0===e||""===e;"none"===t||x.is.hidden()?n&&w.removeAttr("style"):(x.verbose("Overriding default display to hide element"),w.css("display","none"))}},has:{direction:function(t){var n=!1;return"string"==typeof(t=t||f.animation)&&(t=t.split(" "),e.each(t,function(e,t){t!==g.inward&&t!==g.outward||(n=!0)})),n},inlineDisplay:function(){var t=w.attr("style")||"";return e.isArray(t.match(/display.*?;/,""))}},set:{animating:function(e){var t;x.remove.completeCallback(),e=e||f.animation,t=x.get.animationClass(e),x.save.animation(t),x.force.visible(),x.remove.hidden(),x.remove.direction(),x.start.animation(t)},duration:function(e,t){((t="number"==typeof(t=t||f.duration)?t+"ms":t)||0===t)&&(x.verbose("Setting animation duration",t),w.css({"animation-duration":t}))},direction:function(e){(e=e||x.get.direction())==g.inward?x.set.inward():x.set.outward()},looping:function(){x.debug("Transition set to loop"),w.addClass(g.looping)},hidden:function(){w.addClass(g.transition).addClass(g.hidden)},inward:function(){x.debug("Setting direction to inward"),w.removeClass(g.outward).addClass(g.inward)},outward:function(){x.debug("Setting direction to outward"),w.removeClass(g.inward).addClass(g.outward)},visible:function(){w.addClass(g.transition).addClass(g.visible)}},start:{animation:function(e){e=e||x.get.animationClass(),x.debug("Starting tween",e),w.addClass(e).one(m+".complete"+y,x.complete),f.useFailSafe&&x.add.failSafe(),x.set.duration(f.duration),f.onStart.call(C)}},save:{animation:function(e){x.cache||(x.cache={}),x.cache.animation=e},displayType:function(e){"none"!==e&&w.data(v.displayType,e)},transitionExists:function(t,n){e.fn.transition.exists[t]=n,x.verbose("Saving existence of transition",t,n)}},restore:{conditions:function(){var e=x.get.currentAnimation();e&&(w.removeClass(e),x.verbose("Removing animation class",x.cache)),x.remove.duration()}},add:{failSafe:function(){var e=x.get.duration();x.timer=setTimeout(function(){w.triggerHandler(m)},e+f.failSafeDelay),x.verbose("Adding fail safe timer",x.timer)}},remove:{animating:function(){w.removeClass(g.animating)},animationCallbacks:function(){x.remove.queueCallback(),x.remove.completeCallback()},queueCallback:function(){w.off(".queue"+y)},completeCallback:function(){w.off(".complete"+y)},display:function(){w.css("display","")},direction:function(){w.removeClass(g.inward).removeClass(g.outward)},duration:function(){w.css("animation-duration","")},failSafe:function(){x.verbose("Removing fail safe timer",x.timer),x.timer&&clearTimeout(x.timer)},hidden:function(){w.removeClass(g.hidden)},visible:function(){w.removeClass(g.visible)},looping:function(){x.debug("Transitions are no longer looping"),x.is.looping()&&(x.reset(),w.removeClass(g.looping))},transition:function(){w.removeClass(g.visible).removeClass(g.hidden)}},get:{settings:function(t,n,i){return"object"==typeof t?e.extend(!0,{},e.fn.transition.settings,t):"function"==typeof i?e.extend({},e.fn.transition.settings,{animation:t,onComplete:i,duration:n}):"string"==typeof n||"number"==typeof n?e.extend({},e.fn.transition.settings,{animation:t,duration:n}):"object"==typeof n?e.extend({},e.fn.transition.settings,n,{animation:t}):"function"==typeof n?e.extend({},e.fn.transition.settings,{animation:t,onComplete:n}):e.extend({},e.fn.transition.settings,{animation:t})},animationClass:function(e){var t=e||f.animation,n=x.can.transition()&&!x.has.direction()?x.get.direction()+" ":"";return g.animating+" "+g.transition+" "+n+t},currentAnimation:function(){return!(!x.cache||void 0===x.cache.animation)&&x.cache.animation},currentDirection:function(){return x.is.inward()?g.inward:g.outward},direction:function(){return x.is.hidden()||!x.is.visible()?g.inward:g.outward},animationDirection:function(t){var n;return"string"==typeof(t=t||f.animation)&&(t=t.split(" "),e.each(t,function(e,t){t===g.inward?n=g.inward:t===g.outward&&(n=g.outward)})),n||!1},duration:function(e){return!1===(e=e||f.duration)&&(e=w.css("animation-duration")||0),"string"==typeof e?e.indexOf("ms")>-1?parseFloat(e):1e3*parseFloat(e):e},displayType:function(e){return e=void 0===e||e,f.displayType?f.displayType:(e&&void 0===w.data(v.displayType)&&x.can.transition(!0),w.data(v.displayType))},userStyle:function(e){return(e=e||w.attr("style")||"").replace(/display.*?;/,"")},transitionExists:function(t){return e.fn.transition.exists[t]},animationStartEvent:function(){var e,t=n.createElement("div"),i={animation:"animationstart",OAnimation:"oAnimationStart",MozAnimation:"mozAnimationStart",WebkitAnimation:"webkitAnimationStart"};for(e in i)if(void 0!==t.style[e])return i[e];return!1},animationEndEvent:function(){var e,t=n.createElement("div"),i={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"mozAnimationEnd",WebkitAnimation:"webkitAnimationEnd"};for(e in i)if(void 0!==t.style[e])return i[e];return!1}},can:{transition:function(t){var n,i,r,o,a,s,l=f.animation,u=x.get.transitionExists(l),c=x.get.displayType(!1);if(void 0===u||t){if(x.verbose("Determining whether animation exists"),n=w.attr("class"),i=w.prop("tagName"),r=e("<"+i+" />").addClass(n).insertAfter(w),o=r.addClass(l).removeClass(g.inward).removeClass(g.outward).addClass(g.animating).addClass(g.transition).css("animationName"),a=r.addClass(g.inward).css("animationName"),c||(c=r.attr("class",n).removeAttr("style").removeClass(g.hidden).removeClass(g.visible).show().css("display"),x.verbose("Determining final display state",c),x.save.displayType(c)),r.remove(),o!=a)x.debug("Direction exists for animation",l),s=!0;else{if("none"==o||!o)return void x.debug("No animation defined in css",l);x.debug("Static animation found",l,c),s=!1}x.save.transitionExists(l,s)}return void 0!==u?u:s},animate:function(){return void 0!==x.can.transition()}},is:{animating:function(){return w.hasClass(g.animating)},inward:function(){return w.hasClass(g.inward)},outward:function(){return w.hasClass(g.outward)},looping:function(){return w.hasClass(g.looping)},occurring:function(e){return e=e||f.animation,e="."+e.replace(" ","."),w.filter(e).length>0},visible:function(){return w.is(":visible")},hidden:function(){return"hidden"===w.css("visibility")},supported:function(){return!1!==m}},hide:function(){x.verbose("Hiding element"),x.is.animating()&&x.reset(),C.blur(),x.remove.display(),x.remove.visible(),x.set.hidden(),x.force.hidden(),f.onHide.call(C),f.onComplete.call(C)},show:function(e){x.verbose("Showing element",e),x.remove.hidden(),x.set.visible(),x.force.visible(),f.onShow.call(C),f.onComplete.call(C)},toggle:function(){x.is.visible()?x.hide():x.show()},stop:function(){x.debug("Stopping current animation"),w.triggerHandler(m)},stopAll:function(){x.debug("Stopping all animation"),x.remove.queueCallback(),w.triggerHandler(m)},clear:{queue:function(){x.debug("Clearing animation queue"),x.remove.queueCallback()}},enable:function(){x.verbose("Starting animation"),w.removeClass(g.disabled)},disable:function(){x.debug("Stopping animation"),w.addClass(g.disabled)},setting:function(t,n){if(x.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,f,t);else{if(void 0===n)return f[t];e.isPlainObject(f[t])?e.extend(!0,f[t],n):f[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,x,t);else{if(void 0===n)return x[t];x[t]=n}},debug:function(){!f.silent&&f.debug&&(f.performance?x.performance.log(arguments):(x.debug=Function.prototype.bind.call(console.info,console,f.name+":"),x.debug.apply(console,arguments)))},verbose:function(){!f.silent&&f.verbose&&f.debug&&(f.performance?x.performance.log(arguments):(x.verbose=Function.prototype.bind.call(console.info,console,f.name+":"),x.verbose.apply(console,arguments)))},error:function(){f.silent||(x.error=Function.prototype.bind.call(console.error,console,f.name+":"),x.error.apply(console,arguments))},performance:{log:function(e){var t,n;f.performance&&(n=(t=(new Date).getTime())-(a||t),a=t,s.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:C,"Execution Time":n})),clearTimeout(x.performance.timer),x.performance.timer=setTimeout(x.performance.display,500)},display:function(){var t=f.name+":",n=0;a=!1,clearTimeout(x.performance.timer),e.each(s,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",o&&(t+=" '"+o+"'"),r.length>1&&(t+=" ("+r.length+")"),(void 0!==console.group||void 0!==console.table)&&s.length>0&&(console.groupCollapsed(t),console.table?console.table(s):e.each(s,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),s=[]}},invoke:function(t,n,r){var o,a,s,l=h;return n=n||c,r=C||r,"string"==typeof t&&void 0!==l&&(t=t.split(/[\. ]/),o=t.length-1,e.each(t,function(n,i){var r=n!=o?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(l[r])&&n!=o)l=l[r];else{if(void 0!==l[r])return a=l[r],!1;if(!e.isPlainObject(l[i])||n==o)return void 0!==l[i]&&(a=l[i],!1);l=l[i]}})),e.isFunction(a)?s=a.apply(r,n):void 0!==a&&(s=a),e.isArray(i)?i.push(s):void 0!==i?i=[i,s]:void 0!==s&&(i=s),void 0!==a&&a}}).initialize()}),void 0!==i?i:this},e.fn.transition.exists={},e.fn.transition.settings={name:"Transition",silent:!1,debug:!1,verbose:!1,performance:!0,namespace:"transition",interval:0,reverse:"auto",onStart:function(){},onComplete:function(){},onShow:function(){},onHide:function(){},useFailSafe:!0,failSafeDelay:100,allowRepeats:!1,displayType:!1,animation:"fade",duration:!1,queue:!0,metadata:{displayType:"display"},className:{animating:"animating",disabled:"disabled",hidden:"hidden",inward:"in",loading:"loading",looping:"looping",outward:"out",transition:"transition",visible:"visible"},error:{noAnimation:"Element is no longer attached to DOM. Unable to animate.  Use silent setting to surpress this warning in production.",repeated:"That animation is already occurring, cancelling repeated animation",method:"The method you called is not defined",support:"This browser does not support CSS animations"}}}(jQuery,window,document),function(e,t,n,i){"use strict";var t=void 0!==t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();e.api=e.fn.api=function(n){var i,r=e(e.isFunction(this)?t:this),o=r.selector||"",a=(new Date).getTime(),s=[],l=arguments[0],u="string"==typeof l,c=[].slice.call(arguments,1);return r.each(function(){var r,d,f,h,p,g=e.isPlainObject(n)?e.extend(!0,{},e.fn.api.settings,n):e.extend({},e.fn.api.settings),v=g.namespace,m=g.metadata,b=g.selector,y=g.error,x=g.className,w="."+v,C="module-"+v,S=e(this),_=S.closest(b.form),k=g.stateContext?e(g.stateContext):S,T=this,M=k[0],A=S.data(C);p={initialize:function(){u||p.bind.events(),p.instantiate()},instantiate:function(){p.verbose("Storing instance of module",p),A=p,S.data(C,A)},destroy:function(){p.verbose("Destroying previous module for",T),S.removeData(C).off(w)},bind:{events:function(){var e=p.get.event();e?(p.verbose("Attaching API events to element",e),S.on(e+w,p.event.trigger)):"now"==g.on&&(p.debug("Querying API endpoint immediately"),p.query())}},decode:{json:function(e){if(void 0!==e&&"string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}},read:{cachedResponse:function(e){var n;{if(void 0!==t.Storage)return n=sessionStorage.getItem(e),p.debug("Using cached response",e,n),n=p.decode.json(n);p.error(y.noStorage)}}},write:{cachedResponse:function(n,i){i&&""===i?p.debug("Response empty, not caching",i):void 0!==t.Storage?(e.isPlainObject(i)&&(i=JSON.stringify(i)),sessionStorage.setItem(n,i),p.verbose("Storing cached response for url",n,i)):p.error(y.noStorage)}},query:function(){if(p.is.disabled())p.debug("Element is disabled API request aborted");else{if(p.is.loading()){if(!g.interruptRequests)return void p.debug("Cancelling request, previous request is still pending");p.debug("Interrupting previous request"),p.abort()}if(g.defaultData&&e.extend(!0,g.urlData,p.get.defaultData()),g.serializeForm&&(g.data=p.add.formData(g.data)),!1===(d=p.get.settings()))return p.cancelled=!0,void p.error(y.beforeSend);if(p.cancelled=!1,(f=p.get.templatedURL())||p.is.mocked()){if((f=p.add.urlData(f))||p.is.mocked()){if(d.url=g.base+f,r=e.extend(!0,{},g,{type:g.method||g.type,data:void 0,url:g.base+f,beforeSend:g.beforeXHR,success:function(){},failure:function(){},complete:function(){}}),p.debug("Querying URL",r.url),p.verbose("Using AJAX settings",r),"local"===g.cache&&p.read.cachedResponse(f))return p.debug("Response returned from local cache"),p.request=p.create.request(),void p.request.resolveWith(M,[p.read.cachedResponse(f)]);g.throttle?g.throttleFirstRequest||p.timer?(p.debug("Throttling request",g.throttle),clearTimeout(p.timer),p.timer=setTimeout(function(){p.timer&&delete p.timer,p.debug("Sending throttled request",void 0,r.method),p.send.request()},g.throttle)):(p.debug("Sending request",void 0,r.method),p.send.request(),p.timer=setTimeout(function(){},g.throttle)):(p.debug("Sending request",void 0,r.method),p.send.request())}}else p.error(y.missingURL)}},should:{removeError:function(){return!0===g.hideError||"auto"===g.hideError&&!p.is.form()}},is:{disabled:function(){return S.filter(b.disabled).length>0},expectingJSON:function(){return"json"===g.dataType||"jsonp"===g.dataType},form:function(){return S.is("form")||k.is("form")},mocked:function(){return g.mockResponse||g.mockResponseAsync||g.response||g.responseAsync},input:function(){return S.is("input")},loading:function(){return!!p.request&&"pending"==p.request.state()},abortedRequest:function(e){return e&&void 0!==e.readyState&&0===e.readyState?(p.verbose("XHR request determined to be aborted"),!0):(p.verbose("XHR request was not aborted"),!1)},validResponse:function(t){return p.is.expectingJSON()&&e.isFunction(g.successTest)?(p.debug("Checking JSON returned success",g.successTest,t),g.successTest(t)?(p.debug("Response passed success test",t),!0):(p.debug("Response failed success test",t),!1)):(p.verbose("Response is not JSON, skipping validation",g.successTest,t),!0)}},was:{cancelled:function(){return p.cancelled||!1},succesful:function(){return p.request&&"resolved"==p.request.state()},failure:function(){return p.request&&"rejected"==p.request.state()},complete:function(){return p.request&&("resolved"==p.request.state()||"rejected"==p.request.state())}},add:{urlData:function(t,n){var i,r;return t&&(i=t.match(g.regExp.required),r=t.match(g.regExp.optional),n=n||g.urlData,i&&(p.debug("Looking for required URL variables",i),e.each(i,function(i,r){var o=-1!==r.indexOf("$")?r.substr(2,r.length-3):r.substr(1,r.length-2),a=e.isPlainObject(n)&&void 0!==n[o]?n[o]:void 0!==S.data(o)?S.data(o):void 0!==k.data(o)?k.data(o):n[o];if(void 0===a)return p.error(y.requiredParameter,o,t),t=!1,!1;p.verbose("Found required variable",o,a),a=g.encodeParameters?p.get.urlEncodedValue(a):a,t=t.replace(r,a)})),r&&(p.debug("Looking for optional URL variables",i),e.each(r,function(i,r){var o=-1!==r.indexOf("$")?r.substr(3,r.length-4):r.substr(2,r.length-3),a=e.isPlainObject(n)&&void 0!==n[o]?n[o]:void 0!==S.data(o)?S.data(o):void 0!==k.data(o)?k.data(o):n[o];void 0!==a?(p.verbose("Optional variable Found",o,a),t=t.replace(r,a)):(p.verbose("Optional variable not found",o),t=-1!==t.indexOf("/"+r)?t.replace("/"+r,""):t.replace(r,""))}))),t},formData:function(t){var n=void 0!==e.fn.serializeObject,i=n?_.serializeObject():_.serialize();return t=t||g.data,e.isPlainObject(t)?n?(p.debug("Extending existing data with form data",t,i),t=e.extend(!0,{},t,i)):(p.error(y.missingSerialize),p.debug("Cant extend data. Replacing data with form data",t,i),t=i):(p.debug("Adding form data",i),t=i),t}},send:{request:function(){p.set.loading(),p.request=p.create.request(),p.is.mocked()?p.mockedXHR=p.create.mockedXHR():p.xhr=p.create.xhr(),g.onRequest.call(M,p.request,p.xhr)}},event:{trigger:function(e){p.query(),"submit"!=e.type&&"click"!=e.type||e.preventDefault()},xhr:{always:function(){},done:function(t,n,i){var r=this,o=(new Date).getTime()-h,a=g.loadingDuration-o,s=!!e.isFunction(g.onResponse)&&(p.is.expectingJSON()?g.onResponse.call(r,e.extend(!0,{},t)):g.onResponse.call(r,t));a=a>0?a:0,s&&(p.debug("Modified API response in onResponse callback",g.onResponse,s,t),t=s),a>0&&p.debug("Response completed early delaying state change by",a),setTimeout(function(){p.is.validResponse(t)?p.request.resolveWith(r,[t,i]):p.request.rejectWith(r,[i,"invalid"])},a)},fail:function(e,t,n){var i=this,r=(new Date).getTime()-h,o=g.loadingDuration-r;(o=o>0?o:0)>0&&p.debug("Response completed early delaying state change by",o),setTimeout(function(){p.is.abortedRequest(e)?p.request.rejectWith(i,[e,"aborted",n]):p.request.rejectWith(i,[e,"error",t,n])},o)}},request:{done:function(e,t){p.debug("Successful API Response",e),"local"===g.cache&&f&&(p.write.cachedResponse(f,e),p.debug("Saving server response locally",p.cache)),g.onSuccess.call(M,e,S,t)},complete:function(e,t){var n,i;p.was.succesful()?(i=e,n=t):(n=e,i=p.get.responseFromXHR(n)),p.remove.loading(),g.onComplete.call(M,i,S,n)},fail:function(e,t,n){var i=p.get.responseFromXHR(e),o=p.get.errorFromRequest(i,t,n);if("aborted"==t)return p.debug("XHR Aborted (Most likely caused by page navigation or CORS Policy)",t,n),g.onAbort.call(M,t,S,e),!0;"invalid"==t?p.debug("JSON did not pass success test. A server-side error has most likely occurred",i):"error"==t&&void 0!==e&&(p.debug("XHR produced a server error",t,n),200!=e.status&&void 0!==n&&""!==n&&p.error(y.statusMessage+n,r.url),g.onError.call(M,o,S,e)),g.errorDuration&&"aborted"!==t&&(p.debug("Adding error state"),p.set.error(),p.should.removeError()&&setTimeout(p.remove.error,g.errorDuration)),p.debug("API Request failed",o,e),g.onFailure.call(M,i,S,e)}}},create:{request:function(){return e.Deferred().always(p.event.request.complete).done(p.event.request.done).fail(p.event.request.fail)},mockedXHR:function(){var t,n,i,r=g.mockResponse||g.response,o=g.mockResponseAsync||g.responseAsync;return i=e.Deferred().always(p.event.xhr.complete).done(p.event.xhr.done).fail(p.event.xhr.fail),r?(e.isFunction(r)?(p.debug("Using specified synchronous callback",r),n=r.call(M,d)):(p.debug("Using settings specified response",r),n=r),i.resolveWith(M,[n,!1,{responseText:n}])):e.isFunction(o)&&(t=function(e){p.debug("Async callback returned response",e),e?i.resolveWith(M,[e,!1,{responseText:e}]):i.rejectWith(M,[{responseText:e},!1,!1])},p.debug("Using specified async response callback",o),o.call(M,d,t)),i},xhr:function(){var t;return t=e.ajax(r).always(p.event.xhr.always).done(p.event.xhr.done).fail(p.event.xhr.fail),p.verbose("Created server request",t,r),t}},set:{error:function(){p.verbose("Adding error state to element",k),k.addClass(x.error)},loading:function(){p.verbose("Adding loading state to element",k),k.addClass(x.loading),h=(new Date).getTime()}},remove:{error:function(){p.verbose("Removing error state from element",k),k.removeClass(x.error)},loading:function(){p.verbose("Removing loading state from element",k),k.removeClass(x.loading)}},get:{responseFromXHR:function(t){return!!e.isPlainObject(t)&&(p.is.expectingJSON()?p.decode.json(t.responseText):t.responseText)},errorFromRequest:function(t,n,i){return e.isPlainObject(t)&&void 0!==t.error?t.error:void 0!==g.error[n]?g.error[n]:i},request:function(){return p.request||!1},xhr:function(){return p.xhr||!1},settings:function(){var t;return(t=g.beforeSend.call(M,g))&&(void 0!==t.success&&(p.debug("Legacy success callback detected",t),p.error(y.legacyParameters,t.success),t.onSuccess=t.success),void 0!==t.failure&&(p.debug("Legacy failure callback detected",t),p.error(y.legacyParameters,t.failure),t.onFailure=t.failure),void 0!==t.complete&&(p.debug("Legacy complete callback detected",t),p.error(y.legacyParameters,t.complete),t.onComplete=t.complete)),void 0===t&&p.error(y.noReturnedValue),!1===t?t:void 0!==t?e.extend(!0,{},t):e.extend(!0,{},g)},urlEncodedValue:function(e){var n=t.decodeURIComponent(e),i=t.encodeURIComponent(e);return n!==e?(p.debug("URL value is already encoded, avoiding double encoding",e),e):(p.verbose("Encoding value using encodeURIComponent",e,i),i)},defaultData:function(){var t={};return e.isWindow(T)||(p.is.input()?t.value=S.val():p.is.form()||(t.text=S.text())),t},event:function(){return e.isWindow(T)||"now"==g.on?(p.debug("API called without element, no events attached"),!1):"auto"==g.on?S.is("input")?void 0!==T.oninput?"input":void 0!==T.onpropertychange?"propertychange":"keyup":S.is("form")?"submit":"click":g.on},templatedURL:function(e){if(e=e||S.data(m.action)||g.action||!1,f=S.data(m.url)||g.url||!1)return p.debug("Using specified url",f),f;if(e){if(p.debug("Looking up url for action",e,g.api),void 0===g.api[e]&&!p.is.mocked())return void p.error(y.missingAction,g.action,g.api);f=g.api[e]}else p.is.form()&&(f=S.attr("action")||k.attr("action")||!1,p.debug("No url or action specified, defaulting to form action",f));return f}},abort:function(){var e=p.get.xhr();e&&"resolved"!==e.state()&&(p.debug("Cancelling API request"),e.abort())},reset:function(){p.remove.error(),p.remove.loading()},setting:function(t,n){if(p.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,g,t);else{if(void 0===n)return g[t];e.isPlainObject(g[t])?e.extend(!0,g[t],n):g[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,p,t);else{if(void 0===n)return p[t];p[t]=n}},debug:function(){!g.silent&&g.debug&&(g.performance?p.performance.log(arguments):(p.debug=Function.prototype.bind.call(console.info,console,g.name+":"),p.debug.apply(console,arguments)))},verbose:function(){!g.silent&&g.verbose&&g.debug&&(g.performance?p.performance.log(arguments):(p.verbose=Function.prototype.bind.call(console.info,console,g.name+":"),p.verbose.apply(console,arguments)))},error:function(){g.silent||(p.error=Function.prototype.bind.call(console.error,console,g.name+":"),p.error.apply(console,arguments))},performance:{log:function(e){var t,n;g.performance&&(n=(t=(new Date).getTime())-(a||t),a=t,s.push({Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":n})),clearTimeout(p.performance.timer),p.performance.timer=setTimeout(p.performance.display,500)},display:function(){var t=g.name+":",n=0;a=!1,clearTimeout(p.performance.timer),e.each(s,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",o&&(t+=" '"+o+"'"),(void 0!==console.group||void 0!==console.table)&&s.length>0&&(console.groupCollapsed(t),console.table?console.table(s):e.each(s,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),s=[]}},invoke:function(t,n,r){var o,a,s,l=A;return n=n||c,r=T||r,"string"==typeof t&&void 0!==l&&(t=t.split(/[\. ]/),o=t.length-1,e.each(t,function(n,i){var r=n!=o?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(l[r])&&n!=o)l=l[r];else{if(void 0!==l[r])return a=l[r],!1;if(!e.isPlainObject(l[i])||n==o)return void 0!==l[i]?(a=l[i],!1):(p.error(y.method,t),!1);l=l[i]}})),e.isFunction(a)?s=a.apply(r,n):void 0!==a&&(s=a),e.isArray(i)?i.push(s):void 0!==i?i=[i,s]:void 0!==s&&(i=s),a}},u?(void 0===A&&p.initialize(),p.invoke(l)):(void 0!==A&&A.invoke("destroy"),p.initialize())}),void 0!==i?i:this},e.api.settings={name:"API",namespace:"api",debug:!1,verbose:!1,performance:!0,api:{},cache:!0,interruptRequests:!0,on:"auto",stateContext:!1,loadingDuration:0,hideError:"auto",errorDuration:2e3,encodeParameters:!0,action:!1,url:!1,base:"",urlData:{},defaultData:!0,serializeForm:!1,throttle:0,throttleFirstRequest:!0,method:"get",data:{},dataType:"json",mockResponse:!1,mockResponseAsync:!1,response:!1,responseAsync:!1,beforeSend:function(e){return e},beforeXHR:function(e){},onRequest:function(e,t){},onResponse:!1,onSuccess:function(e,t){},onComplete:function(e,t){},onFailure:function(e,t){},onError:function(e,t){},onAbort:function(e,t){},successTest:!1,error:{beforeSend:"The before send function has aborted the request",error:"There was an error with your request",exitConditions:"API Request Aborted. Exit conditions met",JSONParse:"JSON could not be parsed during error handling",legacyParameters:"You are using legacy API success callback names",method:"The method you called is not defined",missingAction:"API action used but no url was defined",missingSerialize:"jquery-serialize-object is required to add form data to an existing data object",missingURL:"No URL specified for api event",noReturnedValue:"The beforeSend callback must return a settings object, beforeSend ignored.",noStorage:"Caching responses locally requires session storage",parseError:"There was an error parsing your request",requiredParameter:"Missing a required URL parameter: ",statusMessage:"Server gave an error: ",timeout:"Your request timed out"},regExp:{required:/\{\$*[A-z0-9]+\}/g,optional:/\{\/\$*[A-z0-9]+\}/g},className:{loading:"loading",error:"error"},selector:{disabled:".disabled",form:"form"},metadata:{action:"action",url:"url"}}}(jQuery,window,document),function(e,t,n,i){"use strict";t=void 0!==t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.state=function(t){var i,r=e(this),o=r.selector||"",a=(n.documentElement,(new Date).getTime()),s=[],l=arguments[0],u="string"==typeof l,c=[].slice.call(arguments,1);return r.each(function(){var n,d=e.isPlainObject(t)?e.extend(!0,{},e.fn.state.settings,t):e.extend({},e.fn.state.settings),f=d.error,h=d.metadata,p=d.className,g=d.namespace,v=d.states,m=d.text,b="."+g,y=g+"-module",x=e(this),w=this,C=x.data(y);n={initialize:function(){n.verbose("Initializing module"),d.automatic&&n.add.defaults(),d.context&&""!==o?e(d.context).on(o,"mouseenter"+b,n.change.text).on(o,"mouseleave"+b,n.reset.text).on(o,"click"+b,n.toggle.state):x.on("mouseenter"+b,n.change.text).on("mouseleave"+b,n.reset.text).on("click"+b,n.toggle.state),n.instantiate()},instantiate:function(){n.verbose("Storing instance of module",n),C=n,x.data(y,n)},destroy:function(){n.verbose("Destroying previous module",C),x.off(b).removeData(y)},refresh:function(){n.verbose("Refreshing selector cache"),x=e(w)},add:{defaults:function(){var i=t&&e.isPlainObject(t.states)?t.states:{};e.each(d.defaults,function(t,r){void 0!==n.is[t]&&n.is[t]()&&(n.verbose("Adding default states",t,w),e.extend(d.states,r,i))})}},is:{active:function(){return x.hasClass(p.active)},loading:function(){return x.hasClass(p.loading)},inactive:function(){return!x.hasClass(p.active)},state:function(e){return void 0!==p[e]&&x.hasClass(p[e])},enabled:function(){return!x.is(d.filter.active)},disabled:function(){return x.is(d.filter.active)},textEnabled:function(){return!x.is(d.filter.text)},button:function(){return x.is(".button:not(a, .submit)")},input:function(){return x.is("input")},progress:function(){return x.is(".ui.progress")}},allow:function(e){n.debug("Now allowing state",e),v[e]=!0},disallow:function(e){n.debug("No longer allowing",e),v[e]=!1},allows:function(e){return v[e]||!1},enable:function(){x.removeClass(p.disabled)},disable:function(){x.addClass(p.disabled)},setState:function(e){n.allows(e)&&x.addClass(p[e])},removeState:function(e){n.allows(e)&&x.removeClass(p[e])},toggle:{state:function(){var t;if(n.allows("active")&&n.is.enabled()){if(n.refresh(),void 0!==e.fn.api)if(t=x.api("get request"),x.api("was cancelled"))n.debug("API Request cancelled by beforesend"),d.activateTest=function(){return!1},d.deactivateTest=function(){return!1};else if(t)return void n.listenTo(t);n.change.state()}}},listenTo:function(t){n.debug("API request detected, waiting for state signal",t),t&&(m.loading&&n.update.text(m.loading),e.when(t).then(function(){"resolved"==t.state()?(n.debug("API request succeeded"),d.activateTest=function(){return!0},d.deactivateTest=function(){return!0}):(n.debug("API request failed"),d.activateTest=function(){return!1},d.deactivateTest=function(){return!1}),n.change.state()}))},change:{state:function(){n.debug("Determining state change direction"),n.is.inactive()?n.activate():n.deactivate(),d.sync&&n.sync(),d.onChange.call(w)},text:function(){n.is.textEnabled()&&(n.is.disabled()?(n.verbose("Changing text to disabled text",m.hover),n.update.text(m.disabled)):n.is.active()?m.hover?(n.verbose("Changing text to hover text",m.hover),n.update.text(m.hover)):m.deactivate&&(n.verbose("Changing text to deactivating text",m.deactivate),n.update.text(m.deactivate)):m.hover?(n.verbose("Changing text to hover text",m.hover),n.update.text(m.hover)):m.activate&&(n.verbose("Changing text to activating text",m.activate),n.update.text(m.activate)))}},activate:function(){d.activateTest.call(w)&&(n.debug("Setting state to active"),x.addClass(p.active),n.update.text(m.active),d.onActivate.call(w))},deactivate:function(){d.deactivateTest.call(w)&&(n.debug("Setting state to inactive"),x.removeClass(p.active),n.update.text(m.inactive),d.onDeactivate.call(w))},sync:function(){n.verbose("Syncing other buttons to current state"),n.is.active()?r.not(x).state("activate"):r.not(x).state("deactivate")},get:{text:function(){return d.selector.text?x.find(d.selector.text).text():x.html()},textFor:function(e){return m[e]||!1}},flash:{text:function(e,t,i){var r=n.get.text();n.debug("Flashing text message",e,t),e=e||d.text.flash,t=t||d.flashDuration,i=i||function(){},n.update.text(e),setTimeout(function(){n.update.text(r),i.call(w)},t)}},reset:{text:function(){var e=m.active||x.data(h.storedText),t=m.inactive||x.data(h.storedText);n.is.textEnabled()&&(n.is.active()&&e?(n.verbose("Resetting active text",e),n.update.text(e)):t&&(n.verbose("Resetting inactive text",e),n.update.text(t)))}},update:{text:function(e){var t=n.get.text();e&&e!==t?(n.debug("Updating text",e),d.selector.text?x.data(h.storedText,e).find(d.selector.text).text(e):x.data(h.storedText,e).html(e)):n.debug("Text is already set, ignoring update",e)}},setting:function(t,i){if(n.debug("Changing setting",t,i),e.isPlainObject(t))e.extend(!0,d,t);else{if(void 0===i)return d[t];e.isPlainObject(d[t])?e.extend(!0,d[t],i):d[t]=i}},internal:function(t,i){if(e.isPlainObject(t))e.extend(!0,n,t);else{if(void 0===i)return n[t];n[t]=i}},debug:function(){!d.silent&&d.debug&&(d.performance?n.performance.log(arguments):(n.debug=Function.prototype.bind.call(console.info,console,d.name+":"),n.debug.apply(console,arguments)))},verbose:function(){!d.silent&&d.verbose&&d.debug&&(d.performance?n.performance.log(arguments):(n.verbose=Function.prototype.bind.call(console.info,console,d.name+":"),n.verbose.apply(console,arguments)))},error:function(){d.silent||(n.error=Function.prototype.bind.call(console.error,console,d.name+":"),n.error.apply(console,arguments))},performance:{log:function(e){var t,i;d.performance&&(i=(t=(new Date).getTime())-(a||t),a=t,s.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:w,"Execution Time":i})),clearTimeout(n.performance.timer),n.performance.timer=setTimeout(n.performance.display,500)},display:function(){var t=d.name+":",i=0;a=!1,clearTimeout(n.performance.timer),e.each(s,function(e,t){i+=t["Execution Time"]}),t+=" "+i+"ms",o&&(t+=" '"+o+"'"),(void 0!==console.group||void 0!==console.table)&&s.length>0&&(console.groupCollapsed(t),console.table?console.table(s):e.each(s,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),s=[]}},invoke:function(t,r,o){var a,s,l,u=C;return r=r||c,o=w||o,"string"==typeof t&&void 0!==u&&(t=t.split(/[\. ]/),a=t.length-1,e.each(t,function(i,r){var o=i!=a?r+t[i+1].charAt(0).toUpperCase()+t[i+1].slice(1):t;if(e.isPlainObject(u[o])&&i!=a)u=u[o];else{if(void 0!==u[o])return s=u[o],!1;if(!e.isPlainObject(u[r])||i==a)return void 0!==u[r]?(s=u[r],!1):(n.error(f.method,t),!1);u=u[r]}})),e.isFunction(s)?l=s.apply(o,r):void 0!==s&&(l=s),e.isArray(i)?i.push(l):void 0!==i?i=[i,l]:void 0!==l&&(i=l),s}},u?(void 0===C&&n.initialize(),n.invoke(l)):(void 0!==C&&C.invoke("destroy"),n.initialize())}),void 0!==i?i:this},e.fn.state.settings={name:"State",debug:!1,verbose:!1,namespace:"state",performance:!0,onActivate:function(){},onDeactivate:function(){},onChange:function(){},activateTest:function(){return!0},deactivateTest:function(){return!0},automatic:!0,sync:!1,flashDuration:1e3,filter:{text:".loading, .disabled",active:".disabled"},context:!1,error:{beforeSend:"The before send function has cancelled state change",method:"The method you called is not defined."},metadata:{promise:"promise",storedText:"stored-text"},className:{active:"active",disabled:"disabled",error:"error",loading:"loading",success:"success",warning:"warning"},selector:{text:!1},defaults:{input:{disabled:!0,loading:!0,active:!0},button:{disabled:!0,loading:!0,active:!0},progress:{active:!0,success:!0,warning:!0,error:!0}},states:{active:!0,disabled:!0,error:!0,loading:!0,success:!0,warning:!0},text:{disabled:!1,flash:!1,hover:!1,active:!1,inactive:!1,activate:!1,deactivate:!1}}}(jQuery,window,document),function(e,t,n,i){"use strict";t=void 0!==t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.visibility=function(i){var r,o=e(this),a=o.selector||"",s=(new Date).getTime(),l=[],u=arguments[0],c="string"==typeof u,d=[].slice.call(arguments,1),f=o.length,h=0;return o.each(function(){var o,p,g,v,m=e.isPlainObject(i)?e.extend(!0,{},e.fn.visibility.settings,i):e.extend({},e.fn.visibility.settings),b=m.className,y=m.namespace,x=m.error,w=m.metadata,C="."+y,S="module-"+y,_=e(t),k=e(this),T=e(m.context),M=(k.selector,k.data(S)),A=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)},P=this,D=!1;v={initialize:function(){v.debug("Initializing",m),v.setup.cache(),v.should.trackChanges()&&("image"==m.type&&v.setup.image(),"fixed"==m.type&&v.setup.fixed(),m.observeChanges&&v.observeChanges(),v.bind.events()),v.save.position(),v.is.visible()||v.error(x.visible,k),m.initialCheck&&v.checkVisibility(),v.instantiate()},instantiate:function(){v.debug("Storing instance",v),k.data(S,v),M=v},destroy:function(){v.verbose("Destroying previous module"),g&&g.disconnect(),p&&p.disconnect(),_.off("load"+C,v.event.load).off("resize"+C,v.event.resize),T.off("scroll"+C,v.event.scroll).off("scrollchange"+C,v.event.scrollchange),"fixed"==m.type&&(v.resetFixed(),v.remove.placeholder()),k.off(C).removeData(S)},observeChanges:function(){"MutationObserver"in t&&(p=new MutationObserver(v.event.contextChanged),g=new MutationObserver(v.event.changed),p.observe(n,{childList:!0,subtree:!0}),g.observe(P,{childList:!0,subtree:!0}),v.debug("Setting up mutation observer",g))},bind:{events:function(){v.verbose("Binding visibility events to scroll and resize"),m.refreshOnLoad&&_.on("load"+C,v.event.load),_.on("resize"+C,v.event.resize),T.off("scroll"+C).on("scroll"+C,v.event.scroll).on("scrollchange"+C,v.event.scrollchange)}},event:{changed:function(e){v.verbose("DOM tree modified, updating visibility calculations"),v.timer=setTimeout(function(){v.verbose("DOM tree modified, updating sticky menu"),v.refresh()},100)},contextChanged:function(t){[].forEach.call(t,function(t){t.removedNodes&&[].forEach.call(t.removedNodes,function(t){(t==P||e(t).find(P).length>0)&&(v.debug("Element removed from DOM, tearing down events"),v.destroy())})})},resize:function(){v.debug("Window resized"),m.refreshOnResize&&A(v.refresh)},load:function(){v.debug("Page finished loading"),A(v.refresh)},scroll:function(){m.throttle?(clearTimeout(v.timer),v.timer=setTimeout(function(){T.triggerHandler("scrollchange"+C,[T.scrollTop()])},m.throttle)):A(function(){T.triggerHandler("scrollchange"+C,[T.scrollTop()])})},scrollchange:function(e,t){v.checkVisibility(t)}},precache:function(t,i){t instanceof Array||(t=[t]);for(var r=t.length,o=0,a=[],s=n.createElement("img"),l=function(){++o>=t.length&&e.isFunction(i)&&i()};r--;)(s=n.createElement("img")).onload=l,s.onerror=l,s.src=t[r],a.push(s)},enableCallbacks:function(){v.debug("Allowing callbacks to occur"),D=!1},disableCallbacks:function(){v.debug("Disabling all callbacks temporarily"),D=!0},should:{trackChanges:function(){return c?(v.debug("One time query, no need to bind events"),!1):(v.debug("Callbacks being attached"),!0)}},setup:{cache:function(){v.cache={occurred:{},screen:{},element:{}}},image:function(){var e=k.data(w.src);e&&(v.verbose("Lazy loading image",e),m.once=!0,m.observeChanges=!1,m.onOnScreen=function(){v.debug("Image on screen",P),v.precache(e,function(){v.set.image(e,function(){++h==f&&m.onAllLoaded.call(this),m.onLoad.call(this)})})})},fixed:function(){v.debug("Setting up fixed"),m.once=!1,m.observeChanges=!1,m.initialCheck=!0,m.refreshOnLoad=!0,i.transition||(m.transition=!1),v.create.placeholder(),v.debug("Added placeholder",o),m.onTopPassed=function(){v.debug("Element passed, adding fixed position",k),v.show.placeholder(),v.set.fixed(),m.transition&&void 0!==e.fn.transition&&k.transition(m.transition,m.duration)},m.onTopPassedReverse=function(){v.debug("Element returned to position, removing fixed",k),v.hide.placeholder(),v.remove.fixed()}}},create:{placeholder:function(){v.verbose("Creating fixed position placeholder"),o=k.clone(!1).css("display","none").addClass(b.placeholder).insertAfter(k)}},show:{placeholder:function(){v.verbose("Showing placeholder"),o.css("display","block").css("visibility","hidden")}},hide:{placeholder:function(){v.verbose("Hiding placeholder"),o.css("display","none").css("visibility","")}},set:{fixed:function(){v.verbose("Setting element to fixed position"),k.addClass(b.fixed).css({position:"fixed",top:m.offset+"px",left:"auto",zIndex:m.zIndex}),m.onFixed.call(P)},image:function(t,n){if(k.attr("src",t),m.transition)if(void 0!==e.fn.transition){if(k.hasClass(b.visible))return void v.debug("Transition already occurred on this image, skipping animation");k.transition(m.transition,m.duration,n)}else k.fadeIn(m.duration,n);else k.show()}},is:{onScreen:function(){return v.get.elementCalculations().onScreen},offScreen:function(){return v.get.elementCalculations().offScreen},visible:function(){return!(!v.cache||!v.cache.element)&&!(0===v.cache.element.width&&0===v.cache.element.offset.top)},verticallyScrollableContext:function(){var e=T.get(0)!==t&&T.css("overflow-y");return"auto"==e||"scroll"==e},horizontallyScrollableContext:function(){var e=T.get(0)!==t&&T.css("overflow-x");return"auto"==e||"scroll"==e}},refresh:function(){v.debug("Refreshing constants (width/height)"),"fixed"==m.type&&v.resetFixed(),v.reset(),v.save.position(),m.checkOnRefresh&&v.checkVisibility(),m.onRefresh.call(P)},resetFixed:function(){v.remove.fixed(),v.remove.occurred()},reset:function(){v.verbose("Resetting all cached values"),e.isPlainObject(v.cache)&&(v.cache.screen={},v.cache.element={})},checkVisibility:function(e){v.verbose("Checking visibility of element",v.cache.element),!D&&v.is.visible()&&(v.save.scroll(e),v.save.calculations(),v.passed(),v.passingReverse(),v.topVisibleReverse(),v.bottomVisibleReverse(),v.topPassedReverse(),v.bottomPassedReverse(),v.onScreen(),v.offScreen(),v.passing(),v.topVisible(),v.bottomVisible(),v.topPassed(),v.bottomPassed(),m.onUpdate&&m.onUpdate.call(P,v.get.elementCalculations()))},passed:function(t,n){var i=v.get.elementCalculations();if(t&&n)m.onPassed[t]=n;else{if(void 0!==t)return v.get.pixelsPassed(t)>i.pixelsPassed;i.passing&&e.each(m.onPassed,function(e,t){i.bottomVisible||i.pixelsPassed>v.get.pixelsPassed(e)?v.execute(t,e):m.once||v.remove.occurred(t)})}},onScreen:function(e){var t=v.get.elementCalculations(),n=e||m.onOnScreen;if(e&&(v.debug("Adding callback for onScreen",e),m.onOnScreen=e),t.onScreen?v.execute(n,"onScreen"):m.once||v.remove.occurred("onScreen"),void 0!==e)return t.onOnScreen},offScreen:function(e){var t=v.get.elementCalculations(),n=e||m.onOffScreen;if(e&&(v.debug("Adding callback for offScreen",e),m.onOffScreen=e),t.offScreen?v.execute(n,"offScreen"):m.once||v.remove.occurred("offScreen"),void 0!==e)return t.onOffScreen},passing:function(e){var t=v.get.elementCalculations(),n=e||m.onPassing;if(e&&(v.debug("Adding callback for passing",e),m.onPassing=e),t.passing?v.execute(n,"passing"):m.once||v.remove.occurred("passing"),void 0!==e)return t.passing},topVisible:function(e){var t=v.get.elementCalculations(),n=e||m.onTopVisible;if(e&&(v.debug("Adding callback for top visible",e),m.onTopVisible=e),t.topVisible?v.execute(n,"topVisible"):m.once||v.remove.occurred("topVisible"),void 0===e)return t.topVisible},bottomVisible:function(e){var t=v.get.elementCalculations(),n=e||m.onBottomVisible;if(e&&(v.debug("Adding callback for bottom visible",e),m.onBottomVisible=e),t.bottomVisible?v.execute(n,"bottomVisible"):m.once||v.remove.occurred("bottomVisible"),void 0===e)return t.bottomVisible},topPassed:function(e){var t=v.get.elementCalculations(),n=e||m.onTopPassed;if(e&&(v.debug("Adding callback for top passed",e),m.onTopPassed=e),t.topPassed?v.execute(n,"topPassed"):m.once||v.remove.occurred("topPassed"),void 0===e)return t.topPassed},bottomPassed:function(e){var t=v.get.elementCalculations(),n=e||m.onBottomPassed;if(e&&(v.debug("Adding callback for bottom passed",e),m.onBottomPassed=e),t.bottomPassed?v.execute(n,"bottomPassed"):m.once||v.remove.occurred("bottomPassed"),void 0===e)return t.bottomPassed},passingReverse:function(e){var t=v.get.elementCalculations(),n=e||m.onPassingReverse;if(e&&(v.debug("Adding callback for passing reverse",e),m.onPassingReverse=e),t.passing?m.once||v.remove.occurred("passingReverse"):v.get.occurred("passing")&&v.execute(n,"passingReverse"),void 0!==e)return!t.passing},topVisibleReverse:function(e){var t=v.get.elementCalculations(),n=e||m.onTopVisibleReverse;if(e&&(v.debug("Adding callback for top visible reverse",e),m.onTopVisibleReverse=e),t.topVisible?m.once||v.remove.occurred("topVisibleReverse"):v.get.occurred("topVisible")&&v.execute(n,"topVisibleReverse"),void 0===e)return!t.topVisible},bottomVisibleReverse:function(e){var t=v.get.elementCalculations(),n=e||m.onBottomVisibleReverse;if(e&&(v.debug("Adding callback for bottom visible reverse",e),m.onBottomVisibleReverse=e),t.bottomVisible?m.once||v.remove.occurred("bottomVisibleReverse"):v.get.occurred("bottomVisible")&&v.execute(n,"bottomVisibleReverse"),void 0===e)return!t.bottomVisible},topPassedReverse:function(e){var t=v.get.elementCalculations(),n=e||m.onTopPassedReverse;if(e&&(v.debug("Adding callback for top passed reverse",e),m.onTopPassedReverse=e),t.topPassed?m.once||v.remove.occurred("topPassedReverse"):v.get.occurred("topPassed")&&v.execute(n,"topPassedReverse"),void 0===e)return!t.onTopPassed},bottomPassedReverse:function(e){var t=v.get.elementCalculations(),n=e||m.onBottomPassedReverse;if(e&&(v.debug("Adding callback for bottom passed reverse",e),m.onBottomPassedReverse=e),t.bottomPassed?m.once||v.remove.occurred("bottomPassedReverse"):v.get.occurred("bottomPassed")&&v.execute(n,"bottomPassedReverse"),void 0===e)return!t.bottomPassed},execute:function(e,t){var n=v.get.elementCalculations(),i=v.get.screenCalculations();(e=e||!1)&&(m.continuous?(v.debug("Callback being called continuously",t,n),e.call(P,n,i)):v.get.occurred(t)||(v.debug("Conditions met",t,n),e.call(P,n,i))),v.save.occurred(t)},remove:{fixed:function(){v.debug("Removing fixed position"),k.removeClass(b.fixed).css({position:"",top:"",left:"",zIndex:""}),m.onUnfixed.call(P)},placeholder:function(){v.debug("Removing placeholder content"),o&&o.remove()},occurred:function(e){if(e){var t=v.cache.occurred;void 0!==t[e]&&!0===t[e]&&(v.debug("Callback can now be called again",e),v.cache.occurred[e]=!1)}else v.cache.occurred={}}},save:{calculations:function(){v.verbose("Saving all calculations necessary to determine positioning"),v.save.direction(),v.save.screenCalculations(),v.save.elementCalculations()},occurred:function(e){e&&(void 0!==v.cache.occurred[e]&&!0===v.cache.occurred[e]||(v.verbose("Saving callback occurred",e),v.cache.occurred[e]=!0))},scroll:function(e){e=e+m.offset||T.scrollTop()+m.offset,v.cache.scroll=e},direction:function(){var e,t=v.get.scroll(),n=v.get.lastScroll();return e=t>n&&n?"down":t<n&&n?"up":"static",v.cache.direction=e,v.cache.direction},elementPosition:function(){var e=v.cache.element,t=v.get.screenSize();return v.verbose("Saving element position"),e.fits=e.height<t.height,e.offset=k.offset(),e.width=k.outerWidth(),e.height=k.outerHeight(),v.is.verticallyScrollableContext()&&(e.offset.top+=T.scrollTop()-T.offset().top),v.is.horizontallyScrollableContext()&&(e.offset.left+=T.scrollLeft-T.offset().left),v.cache.element=e,e},elementCalculations:function(){var e=v.get.screenCalculations(),t=v.get.elementPosition();return m.includeMargin?(t.margin={},t.margin.top=parseInt(k.css("margin-top"),10),t.margin.bottom=parseInt(k.css("margin-bottom"),10),t.top=t.offset.top-t.margin.top,t.bottom=t.offset.top+t.height+t.margin.bottom):(t.top=t.offset.top,t.bottom=t.offset.top+t.height),t.topPassed=e.top>=t.top,t.bottomPassed=e.top>=t.bottom,t.topVisible=e.bottom>=t.top&&!t.bottomPassed,t.bottomVisible=e.bottom>=t.bottom&&!t.topPassed,t.pixelsPassed=0,t.percentagePassed=0,t.onScreen=t.topVisible&&!t.bottomPassed,t.passing=t.topPassed&&!t.bottomPassed,t.offScreen=!t.onScreen,t.passing&&(t.pixelsPassed=e.top-t.top,t.percentagePassed=(e.top-t.top)/t.height),v.cache.element=t,v.verbose("Updated element calculations",t),t},screenCalculations:function(){var e=v.get.scroll();return v.save.direction(),v.cache.screen.top=e,v.cache.screen.bottom=e+v.cache.screen.height,v.cache.screen},screenSize:function(){v.verbose("Saving window position"),v.cache.screen={height:T.height()}},position:function(){v.save.screenSize(),v.save.elementPosition()}},get:{pixelsPassed:function(e){var t=v.get.elementCalculations();return e.search("%")>-1?t.height*(parseInt(e,10)/100):parseInt(e,10)},occurred:function(e){return void 0!==v.cache.occurred&&(v.cache.occurred[e]||!1)},direction:function(){return void 0===v.cache.direction&&v.save.direction(),v.cache.direction},elementPosition:function(){return void 0===v.cache.element&&v.save.elementPosition(),v.cache.element},elementCalculations:function(){return void 0===v.cache.element&&v.save.elementCalculations(),v.cache.element},screenCalculations:function(){return void 0===v.cache.screen&&v.save.screenCalculations(),v.cache.screen},screenSize:function(){return void 0===v.cache.screen&&v.save.screenSize(),v.cache.screen},scroll:function(){return void 0===v.cache.scroll&&v.save.scroll(),v.cache.scroll},lastScroll:function(){return void 0===v.cache.screen?(v.debug("First scroll event, no last scroll could be found"),!1):v.cache.screen.top}},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,m,t);else{if(void 0===n)return m[t];m[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,v,t);else{if(void 0===n)return v[t];v[t]=n}},debug:function(){!m.silent&&m.debug&&(m.performance?v.performance.log(arguments):(v.debug=Function.prototype.bind.call(console.info,console,m.name+":"),v.debug.apply(console,arguments)))},verbose:function(){!m.silent&&m.verbose&&m.debug&&(m.performance?v.performance.log(arguments):(v.verbose=Function.prototype.bind.call(console.info,console,m.name+":"),v.verbose.apply(console,arguments)))},error:function(){m.silent||(v.error=Function.prototype.bind.call(console.error,console,m.name+":"),v.error.apply(console,arguments))},performance:{log:function(e){var t,n;m.performance&&(n=(t=(new Date).getTime())-(s||t),s=t,l.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:P,"Execution Time":n})),clearTimeout(v.performance.timer),v.performance.timer=setTimeout(v.performance.display,500)},display:function(){var t=m.name+":",n=0;s=!1,clearTimeout(v.performance.timer),e.each(l,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",a&&(t+=" '"+a+"'"),(void 0!==console.group||void 0!==console.table)&&l.length>0&&(console.groupCollapsed(t),console.table?console.table(l):e.each(l,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),l=[]}},invoke:function(t,n,i){var o,a,s,l=M;return n=n||d,i=P||i,"string"==typeof t&&void 0!==l&&(t=t.split(/[\. ]/),o=t.length-1,e.each(t,function(n,i){var r=n!=o?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(l[r])&&n!=o)l=l[r];else{if(void 0!==l[r])return a=l[r],!1;if(!e.isPlainObject(l[i])||n==o)return void 0!==l[i]?(a=l[i],!1):(v.error(x.method,t),!1);l=l[i]}})),e.isFunction(a)?s=a.apply(i,n):void 0!==a&&(s=a),e.isArray(r)?r.push(s):void 0!==r?r=[r,s]:void 0!==s&&(r=s),a}},c?(void 0===M&&v.initialize(),M.save.scroll(),M.save.calculations(),v.invoke(u)):(void 0!==M&&M.invoke("destroy"),v.initialize())}),void 0!==r?r:this},e.fn.visibility.settings={name:"Visibility",namespace:"visibility",debug:!1,verbose:!1,performance:!0,observeChanges:!0,initialCheck:!0,refreshOnLoad:!0,refreshOnResize:!0,checkOnRefresh:!0,once:!0,continuous:!1,offset:0,includeMargin:!1,context:t,throttle:!1,type:!1,zIndex:"10",transition:"fade in",duration:1e3,onPassed:{},onOnScreen:!1,onOffScreen:!1,onPassing:!1,onTopVisible:!1,onBottomVisible:!1,onTopPassed:!1,onBottomPassed:!1,onPassingReverse:!1,onTopVisibleReverse:!1,onBottomVisibleReverse:!1,onTopPassedReverse:!1,onBottomPassedReverse:!1,onLoad:function(){},onAllLoaded:function(){},onFixed:function(){},onUnfixed:function(){},onUpdate:!1,onRefresh:function(){},metadata:{src:"src"},className:{fixed:"fixed",placeholder:"placeholder",visible:"visible"},error:{method:"The method you called is not defined.",visible:"Element is hidden, you must call refresh after element becomes visible"}}}(jQuery,window,document),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.topojson=e.topojson||{})}(this,function(e){"use strict";function t(e,t){var i=t.id,r=t.bbox,o=null==t.properties?{}:t.properties,a=n(e,t);return null==i&&null==r?{type:"Feature",properties:o,geometry:a}:null==r?{type:"Feature",id:i,properties:o,geometry:a}:{type:"Feature",id:i,bbox:r,properties:o,geometry:a}}function n(e,t){function n(e,t){t.length&&t.pop();for(var n=u[e<0?~e:e],i=0,r=n.length;i<r;++i)t.push(l(n[i],i));e<0&&A(t,r)}function i(e){return l(e)}function r(e){for(var t=[],i=0,r=e.length;i<r;++i)n(e[i],t);return t.length<2&&t.push(t[0]),t}function o(e){for(var t=r(e);t.length<4;)t.push(t[0]);return t}function a(e){return e.map(o)}function s(e){var t,n=e.type;switch(n){case"GeometryCollection":return{type:n,geometries:e.geometries.map(s)};case"Point":t=i(e.coordinates);break;case"MultiPoint":t=e.coordinates.map(i);break;case"LineString":t=r(e.arcs);break;case"MultiLineString":t=e.arcs.map(r);break;case"Polygon":t=a(e.arcs);break;case"MultiPolygon":t=e.arcs.map(a);break;default:return null}return{type:n,coordinates:t}}var l=T(e.transform),u=e.arcs;return s(t)}function i(e,t,n){var i,o,a;if(arguments.length>1)i=r(e,t,n);else for(o=0,i=new Array(a=e.arcs.length);o<a;++o)i[o]=o;return{type:"MultiLineString",arcs:D(e,i)}}function r(e,t,n){function i(e){var t=e<0?~e:e;(c[t]||(c[t]=[])).push({i:e,g:l})}function r(e){e.forEach(i)}function o(e){e.forEach(r)}function a(e){e.forEach(o)}function s(e){switch(l=e,e.type){case"GeometryCollection":e.geometries.forEach(s);break;case"LineString":r(e.arcs);break;case"MultiLineString":case"Polygon":o(e.arcs);break;case"MultiPolygon":a(e.arcs)}}var l,u=[],c=[];return s(t),c.forEach(null==n?function(e){u.push(e[0].i)}:function(e){n(e[0].g,e[e.length-1].g)&&u.push(e[0].i)}),u}function o(e){for(var t,n=-1,i=e.length,r=e[i-1],o=0;++n<i;)t=r,r=e[n],o+=t[0]*r[1]-t[1]*r[0];return Math.abs(o)}function a(e,t){function i(e){switch(e.type){case"GeometryCollection":e.geometries.forEach(i);break;case"Polygon":r(e.arcs);break;case"MultiPolygon":e.arcs.forEach(r)}}function r(e){e.forEach(function(t){t.forEach(function(t){(s[t=t<0?~t:t]||(s[t]=[])).push(e)})}),l.push(e)}function a(t){return o(n(e,{type:"Polygon",arcs:[t]}).coordinates[0])}var s={},l=[],u=[];return t.forEach(i),l.forEach(function(e){if(!e._){var t=[],n=[e];for(e._=1,u.push(t);e=n.pop();)t.push(e),e.forEach(function(e){e.forEach(function(e){s[e<0?~e:e].forEach(function(e){e._||(e._=1,n.push(e))})})})}}),l.forEach(function(e){delete e._}),{type:"MultiPolygon",arcs:u.map(function(t){var n,i=[];if(t.forEach(function(e){e.forEach(function(e){e.forEach(function(e){s[e<0?~e:e].length<2&&i.push(e)})})}),i=D(e,i),(n=i.length)>1)for(var r,o,l=1,u=a(i[0]);l<n;++l)(r=a(i[l]))>u&&(o=i[0],i[0]=i[l],i[l]=o,u=r);return i})}}function s(e,t,n,i){l(e,t,n),l(e,t,t+i),l(e,t+i,n)}function l(e,t,n){for(var i,r=t+(n---t>>1);t<r;++t,--n)i=e[t],e[t]=e[n],e[n]=i}function u(e){return null==e?{type:null}:("FeatureCollection"===e.type?c:"Feature"===e.type?d:f)(e)}function c(e){var t={type:"GeometryCollection",geometries:e.features.map(d)};return null!=e.bbox&&(t.bbox=e.bbox),t}function d(e){var t,n=f(e.geometry);null!=e.id&&(n.id=e.id),null!=e.bbox&&(n.bbox=e.bbox);for(t in e.properties){n.properties=e.properties;break}return n}function f(e){if(null==e)return{type:null};var t="GeometryCollection"===e.type?{type:"GeometryCollection",geometries:e.geometries.map(f)}:"Point"===e.type||"MultiPoint"===e.type?{type:e.type,coordinates:e.coordinates}:{type:e.type,arcs:e.coordinates};return null!=e.bbox&&(t.bbox=e.bbox),t}function h(e){var t,n=e[0],i=e[1];return i<n&&(t=n,n=i,i=t),n+31*i}function p(e,t){var n,i=e[0],r=e[1],o=t[0],a=t[1];return r<i&&(n=i,i=r,r=n),a<o&&(n=o,o=a,a=n),i===o&&r===a}function g(){return!0}function v(e){return e}function m(e){return null!=e.type}function b(e){var t=e[0],n=e[1],i=e[2];return Math.abs((t[0]-i[0])*(n[1]-t[1])-(t[0]-n[0])*(i[1]-t[1]))/2}function y(e){for(var t,n=-1,i=e.length,r=e[i-1],o=0;++n<i;)t=r,r=e[n],o+=t[0]*r[1]-t[1]*r[0];return Math.abs(o)/2}function x(e,t){return e[1][2]-t[1][2]}function w(e){return[e[0],e[1],0]}function C(e,t){if(n=e.length){if((t=+t)<=0||n<2)return e[0];if(t>=1)return e[n-1];var n,i=(n-1)*t,r=Math.floor(i),o=e[r];return o+(e[r+1]-o)*(i-r)}}function S(e,t){return t-e}function _(e,t){for(var n,i,r,o=0,a=e.length,s=0,l=e[t?o++:a-1],u=l[0]*te,c=l[1]*te/2+ee,d=ie(c),f=re(c);o<a;++o){n=u,u=(l=e[o])[0]*te,c=l[1]*te/2+ee,i=d,d=ie(c),r=f,f=re(c);var h=u-n,p=h>=0?1:-1,g=p*h,v=r*f,m=i*d+v*ie(g),b=v*p*re(g);s+=ne(b,m)}return s}var k=function(e){return e},T=function(e){if(null==e)return k;var t,n,i=e.scale[0],r=e.scale[1],o=e.translate[0],a=e.translate[1];return function(e,s){s||(t=n=0);var l=2,u=e.length,c=new Array(u);for(c[0]=(t+=e[0])*i+o,c[1]=(n+=e[1])*r+a;l<u;)c[l]=e[l],++l;return c}},M=function(e){function t(e){(e=r(e))[0]<o&&(o=e[0]),e[0]>s&&(s=e[0]),e[1]<a&&(a=e[1]),e[1]>l&&(l=e[1])}function n(e){switch(e.type){case"GeometryCollection":e.geometries.forEach(n);break;case"Point":t(e.coordinates);break;case"MultiPoint":e.coordinates.forEach(t)}}var i,r=T(e.transform),o=1/0,a=o,s=-o,l=-o;e.arcs.forEach(function(e){for(var t,n=-1,i=e.length;++n<i;)(t=r(e[n],n))[0]<o&&(o=t[0]),t[0]>s&&(s=t[0]),t[1]<a&&(a=t[1]),t[1]>l&&(l=t[1])});for(i in e.objects)n(e.objects[i]);return[o,a,s,l]},A=function(e,t){for(var n,i=e.length,r=i-t;r<--i;)n=e[r],e[r++]=e[i],e[i]=n},P=function(e,n){return"GeometryCollection"===n.type?{type:"FeatureCollection",features:n.geometries.map(function(n){return t(e,n)})}:t(e,n)},D=function(e,t){function n(t){var n,i=e.arcs[t<0?~t:t],r=i[0];return e.transform?(n=[0,0],i.forEach(function(e){n[0]+=e[0],n[1]+=e[1]})):n=i[i.length-1],t<0?[n,r]:[r,n]}function i(e,t){for(var n in e){var i=e[n];delete t[i.start],delete i.start,delete i.end,i.forEach(function(e){r[e<0?~e:e]=1}),s.push(i)}}var r={},o={},a={},s=[],l=-1;return t.forEach(function(n,i){var r,o=e.arcs[n<0?~n:n];o.length<3&&!o[1][0]&&!o[1][1]&&(r=t[++l],t[l]=n,t[i]=r)}),t.forEach(function(e){var t,i,r=n(e),s=r[0],l=r[1];if(t=a[s])if(delete a[t.end],t.push(e),t.end=l,i=o[l]){delete o[i.start];var u=i===t?t:t.concat(i);o[u.start=t.start]=a[u.end=i.end]=u}else o[t.start]=a[t.end]=t;else if(t=o[l])if(delete o[t.start],t.unshift(e),t.start=s,i=a[s]){delete a[i.end];var c=i===t?t:i.concat(t);o[c.start=i.start]=a[c.end=t.end]=c}else o[t.start]=a[t.end]=t;else t=[e],o[t.start=s]=a[t.end=l]=t}),i(a,o),i(o,a),t.forEach(function(e){r[e<0?~e:e]||s.push([e])}),s},E=function(e,t){for(var n=0,i=e.length;n<i;){var r=n+i>>>1;e[r]<t?n=r+1:i=r}return n},R=function(e){if(null==e)return k;var t,n,i=e.scale[0],r=e.scale[1],o=e.translate[0],a=e.translate[1];return function(e,s){s||(t=n=0);var l=2,u=e.length,c=new Array(u),d=Math.round((e[0]-o)/i),f=Math.round((e[1]-a)/r);for(c[0]=d-t,t=d,c[1]=f-n,n=f;l<u;)c[l]=e[l],++l;return c}},I=function(e){function t(e){null!=e&&u.hasOwnProperty(e.type)&&u[e.type](e)}function n(e){var t=e[0],n=e[1];t<o&&(o=t),t>s&&(s=t),n<a&&(a=n),n>l&&(l=n)}function i(e){e.forEach(n)}function r(e){e.forEach(i)}var o=1/0,a=1/0,s=-1/0,l=-1/0,u={GeometryCollection:function(e){e.geometries.forEach(t)},Point:function(e){n(e.coordinates)},MultiPoint:function(e){e.coordinates.forEach(n)},LineString:function(e){i(e.arcs)},MultiLineString:function(e){e.arcs.forEach(i)},Polygon:function(e){e.arcs.forEach(i)},MultiPolygon:function(e){e.arcs.forEach(r)}};for(var c in e)t(e[c]);return s>=o&&l>=a?[o,a,s,l]:void 0},F=function(e,t,n,i,r){3===arguments.length&&(i=Array,r=null);for(var o=new i(e=1<<Math.max(4,Math.ceil(Math.log(e)/Math.LN2))),a=e-1,s=0;s<e;++s)o[s]=r;return{add:function(i){for(var s=t(i)&a,l=o[s],u=0;l!=r;){if(n(l,i))return!0;if(++u>=e)throw new Error("full hashset");l=o[s=s+1&a]}return o[s]=i,!0},has:function(i){for(var s=t(i)&a,l=o[s],u=0;l!=r;){if(n(l,i))return!0;if(++u>=e)break;l=o[s=s+1&a]}return!1},values:function(){for(var e=[],t=0,n=o.length;t<n;++t){var i=o[t];i!=r&&e.push(i)}return e}}},L=function(e,t,n,i,r,o){3===arguments.length&&(i=o=Array,r=null);for(var a=new i(e=1<<Math.max(4,Math.ceil(Math.log(e)/Math.LN2))),s=new o(e),l=e-1,u=0;u<e;++u)a[u]=r;return{set:function(i,o){for(var u=t(i)&l,c=a[u],d=0;c!=r;){if(n(c,i))return s[u]=o;if(++d>=e)throw new Error("full hashmap");c=a[u=u+1&l]}return a[u]=i,s[u]=o,o},maybeSet:function(i,o){for(var u=t(i)&l,c=a[u],d=0;c!=r;){if(n(c,i))return s[u];if(++d>=e)throw new Error("full hashmap");c=a[u=u+1&l]}return a[u]=i,s[u]=o,o},get:function(i,o){for(var u=t(i)&l,c=a[u],d=0;c!=r;){if(n(c,i))return s[u];if(++d>=e)break;c=a[u=u+1&l]}return o},keys:function(){for(var e=[],t=0,n=a.length;t<n;++t){var i=a[t];i!=r&&e.push(i)}return e}}},N=function(e,t){return e[0]===t[0]&&e[1]===t[1]},O=new ArrayBuffer(16),j=new Float64Array(O),z=new Uint32Array(O),q=function(e){j[0]=e[0],j[1]=e[1];var t=z[0]^z[1];return 2147483647&(t=t<<5^t>>7^z[2]^z[3])},H=function(e){function t(e,t,n,i){if(f[n]!==e){f[n]=e;var r=h[n];if(r>=0){var o=p[n];r===t&&o===i||r===i&&o===t||(++v,g[n]=1)}else h[n]=t,p[n]=i}}function n(e){return q(l[e])}function i(e,t){return N(l[e],l[t])}var r,o,a,s,l=e.coordinates,u=e.lines,c=e.rings,d=function(){for(var e=L(1.4*l.length,n,i,Int32Array,-1,Int32Array),t=new Int32Array(l.length),r=0,o=l.length;r<o;++r)t[r]=e.maybeSet(r,r);return t}(),f=new Int32Array(l.length),h=new Int32Array(l.length),p=new Int32Array(l.length),g=new Int8Array(l.length),v=0;for(r=0,o=l.length;r<o;++r)f[r]=h[r]=p[r]=-1;for(r=0,o=u.length;r<o;++r){var m=u[r],b=m[0],y=m[1];for(a=d[b],s=d[++b],++v,g[a]=1;++b<=y;)t(r,a,a=s,s=d[b]);++v,g[s]=1}for(r=0,o=l.length;r<o;++r)f[r]=-1;for(r=0,o=c.length;r<o;++r){var x=c[r],w=x[0]+1,C=x[1];for(t(r,d[C-1],a=d[w-1],s=d[w]);++w<=C;)t(r,a,a=s,s=d[w])}f=h=p=null;var S,_=F(1.4*v,q,N);for(r=0,o=l.length;r<o;++r)g[S=d[r]]&&_.add(l[S]);return _},B=function(e){var t,n,i,r=H(e),o=e.coordinates,a=e.lines,l=e.rings;for(n=0,i=a.length;n<i;++n)for(var u=a[n],c=u[0],d=u[1];++c<d;)r.has(o[c])&&(t={0:c,1:u[1]},u[1]=c,u=u.next=t);for(n=0,i=l.length;n<i;++n)for(var f=l[n],h=f[0],p=h,g=f[1],v=r.has(o[h]);++p<g;)r.has(o[p])&&(v?(t={0:p,1:f[1]},f[1]=p,f=f.next=t):(s(o,h,g,g-p),o[g]=o[h],v=!0,p=h));return e},V=function(e){function t(e){var t,r,o,a,s,l,u,c;if(o=g.get(t=d[e[0]]))for(u=0,c=o.length;u<c;++u)if(a=o[u],n(a,e))return e[0]=a[0],void(e[1]=a[1]);if(s=g.get(r=d[e[1]]))for(u=0,c=s.length;u<c;++u)if(l=s[u],i(l,e))return e[1]=l[0],void(e[0]=l[1]);o?o.push(e):g.set(t,[e]),s?s.push(e):g.set(r,[e]),v.push(e)}function n(e,t){var n=e[0],i=t[0],r=e[1];if(n-r!=i-t[1])return!1;for(;n<=r;++n,++i)if(!N(d[n],d[i]))return!1;return!0}function i(e,t){var n=e[0],i=t[0],r=e[1],o=t[1];if(n-r!=i-o)return!1;for(;n<=r;++n,--o)if(!N(d[n],d[o]))return!1;return!0}function r(e,t){var n=e[0],i=t[0],r=e[1]-n;if(r!==t[1]-i)return!1;for(var o=a(e),s=a(t),l=0;l<r;++l)if(!N(d[n+(l+o)%r],d[i+(l+s)%r]))return!1;return!0}function o(e,t){var n=e[0],i=t[0],r=e[1],o=t[1],s=r-n;if(s!==o-i)return!1;for(var l=a(e),u=s-a(t),c=0;c<s;++c)if(!N(d[n+(c+l)%s],d[o-(c+u)%s]))return!1;return!0}function a(e){for(var t=e[0],n=e[1],i=t,r=i,o=d[i];++i<n;){var a=d[i];(a[0]<o[0]||a[0]===o[0]&&a[1]<o[1])&&(r=i,o=a)}return r-t}var s,l,u,c,d=e.coordinates,f=e.lines,h=e.rings,p=f.length+h.length;for(delete e.lines,delete e.rings,u=0,c=f.length;u<c;++u)for(s=f[u];s=s.next;)++p;for(u=0,c=h.length;u<c;++u)for(l=h[u];l=l.next;)++p;var g=L(2*p*1.4,q,N),v=e.arcs=[];for(u=0,c=f.length;u<c;++u){s=f[u];do{t(s)}while(s=s.next)}for(u=0,c=h.length;u<c;++u)if((l=h[u]).next)do{t(l)}while(l=l.next);else!function(e){var t,n,i,s,l;if(n=g.get(t=d[e[0]]))for(s=0,l=n.length;s<l;++s){if(i=n[s],r(i,e))return e[0]=i[0],void(e[1]=i[1]);if(o(i,e))return e[0]=i[1],void(e[1]=i[0])}if(n=g.get(t=d[e[0]+a(e)]))for(s=0,l=n.length;s<l;++s){if(i=n[s],r(i,e))return e[0]=i[0],void(e[1]=i[1]);if(o(i,e))return e[0]=i[1],void(e[1]=i[0])}n?n.push(e):g.set(t,[e]),v.push(e)}(l);return e},W=function(e){for(var t=-1,n=e.length;++t<n;){for(var i,r,o=e[t],a=0,s=1,l=o.length,u=o[0],c=u[0],d=u[1];++a<l;)u=o[a],i=u[0],r=u[1],i===c&&r===d||(o[s++]=[i-c,r-d],c=i,d=r);1===s&&(o[s++]=[0,0]),o.length=s}return e},U=function(e){function t(e){e&&u.hasOwnProperty(e.type)&&u[e.type](e)}function n(e){for(var t=0,n=e.length;t<n;++t)l[++o]=e[t];var i={0:o-n+1,1:o};return a.push(i),i}function i(e){for(var t=0,n=e.length;t<n;++t)l[++o]=e[t];var i={0:o-n+1,1:o};return s.push(i),i}function r(e){return e.map(i)}var o=-1,a=[],s=[],l=[],u={GeometryCollection:function(e){e.geometries.forEach(t)},LineString:function(e){e.arcs=n(e.arcs)},MultiLineString:function(e){e.arcs=e.arcs.map(n)},Polygon:function(e){e.arcs=e.arcs.map(i)},MultiPolygon:function(e){e.arcs=e.arcs.map(r)}};for(var c in e)t(e[c]);return{type:"Topology",coordinates:l,lines:a,rings:s,objects:e}},G=function(e){var t,n={};for(t in e)n[t]=u(e[t]);return n},Y=function(e,t,n){function i(e){return[Math.round((e[0]-u)*h),Math.round((e[1]-c)*p)]}function r(e,t){for(var n,i,r,o,a,s=-1,l=0,d=e.length,f=new Array(d);++s<d;)n=e[s],o=Math.round((n[0]-u)*h),a=Math.round((n[1]-c)*p),o===i&&a===r||(f[l++]=[i=o,r=a]);for(f.length=l;l<t;)l=f.push([f[0][0],f[0][1]]);return f}function o(e){return r(e,2)}function a(e){return r(e,4)}function s(e){return e.map(a)}function l(e){null!=e&&g.hasOwnProperty(e.type)&&g[e.type](e)}var u=t[0],c=t[1],d=t[2],f=t[3],h=d-u?(n-1)/(d-u):1,p=f-c?(n-1)/(f-c):1,g={GeometryCollection:function(e){e.geometries.forEach(l)},Point:function(e){e.coordinates=i(e.coordinates)},MultiPoint:function(e){e.coordinates=e.coordinates.map(i)},LineString:function(e){e.arcs=o(e.arcs)},MultiLineString:function(e){e.arcs=e.arcs.map(o)},Polygon:function(e){e.arcs=s(e.arcs)},MultiPolygon:function(e){e.arcs=e.arcs.map(s)}};for(var v in e)l(e[v]);return{scale:[1/h,1/p],translate:[u,c]}},X=function(e){function t(e){var n;switch(e.type){case"GeometryCollection":n={type:"GeometryCollection",geometries:e.geometries.map(t)};break;case"LineString":n={type:"LineString",arcs:i(e.arcs)};break;case"MultiLineString":n={type:"MultiLineString",arcs:e.arcs.map(i)};break;case"Polygon":n={type:"Polygon",arcs:e.arcs.map(i)};break;case"MultiPolygon":n={type:"MultiPolygon",arcs:e.arcs.map(r)};break;default:return e}return null!=e.id&&(n.id=e.id),null!=e.bbox&&(n.bbox=e.bbox),null!=e.properties&&(n.properties=e.properties),n}function n(e){var t,n=e<0&&(e=~e,!0);return null==(t=d[e])&&(d[e]=t=++c,u[t]=l[e]),n?~t:t}function i(e){return e.map(n)}function r(e){return e.map(i)}var o,a=e.objects,s={},l=e.arcs,u=[],c=-1,d=new Array(l.length);for(o in a)s[o]=t(a[o]);return{type:"Topology",bbox:e.bbox,transform:e.transform,objects:s,arcs:u}},$=function(e){function t(e){switch(e.type){case"GeometryCollection":e.geometries.forEach(t);break;case"Polygon":n(e.arcs);break;case"MultiPolygon":e.arcs.forEach(n)}}function n(e){for(var t=0,n=e.length;t<n;++t,++o)for(var i=e[t],a=0,s=i.length;a<s;++a){var l=i[a];l<0&&(l=~l);var u=r[l];r[l]=u>=0&&u!==o?-1:o}}var i,r={},o=0;for(i in e.objects)t(e.objects[i]);return function(e){for(var t,n=0,i=e.length;n<i;++n)if(t=e[n],r[t<0?~t:t]<0)return!0;return!1}},J=function(e,t,n){return t=null==t?Number.MIN_VALUE:+t,null==n&&(n=y),function(i,r){return n(P(e,{type:"Polygon",arcs:[i]}).geometry.coordinates[0],r)>=t}},Q=function(){function e(e,t){for(;t>0;){var n=(t+1>>1)-1,r=i[n];if(x(e,r)>=0)break;i[r._=t]=r,i[e._=t=n]=e}}function t(e,t){for(;;){var n=t+1<<1,o=n-1,a=t,s=i[a];if(o<r&&x(i[o],s)<0&&(s=i[a=o]),n<r&&x(i[n],s)<0&&(s=i[a=n]),a===t)break;i[s._=t]=s,i[e._=t=a]=e}}var n={},i=[],r=0;return n.push=function(t){return e(i[t._=r]=t,r++),r},n.pop=function(){if(!(r<=0)){var e,n=i[0];return--r>0&&(e=i[r],t(i[e._=0]=e,0)),n}},n.remove=function(n){var o,a=n._;if(i[a]===n)return a!==--r&&(o=i[r],(x(o,n)<0?e:t)(i[o._=a]=o,a)),a},n},Z=Math.PI,K=2*Z,ee=Z/4,te=Z/180,ne=Math.atan2,ie=Math.cos,re=Math.sin;e.bbox=M,e.feature=P,e.mesh=function(e){return n(e,i.apply(this,arguments))},e.meshArcs=i,e.merge=function(e){return n(e,a.apply(this,arguments))},e.mergeArcs=a,e.neighbors=function(e){function t(e,t){e.forEach(function(e){e<0&&(e=~e);var n=r[e];n?n.push(t):r[e]=[t]})}function n(e,n){e.forEach(function(e){t(e,n)})}function i(e,t){"GeometryCollection"===e.type?e.geometries.forEach(function(e){i(e,t)}):e.type in a&&a[e.type](e.arcs,t)}var r={},o=e.map(function(){return[]}),a={LineString:t,MultiLineString:n,Polygon:n,MultiPolygon:function(e,t){e.forEach(function(e){n(e,t)})}};e.forEach(i);for(var s in r)for(var l=r[s],u=l.length,c=0;c<u;++c)for(var d=c+1;d<u;++d){var f,h=l[c],p=l[d];(f=o[h])[s=E(f,p)]!==p&&f.splice(s,0,p),(f=o[p])[s=E(f,h)]!==h&&f.splice(s,0,h)}return o},e.quantize=function(e,t){function n(e){return d(e)}function i(e){var t;switch(e.type){case"GeometryCollection":t={type:"GeometryCollection",geometries:e.geometries.map(i)};break;case"Point":t={type:"Point",coordinates:n(e.coordinates)};break;case"MultiPoint":t={type:"MultiPoint",coordinates:e.coordinates.map(n)};break;default:return e}return null!=e.id&&(t.id=e.id),null!=e.bbox&&(t.bbox=e.bbox),null!=e.properties&&(t.properties=e.properties),t}if(e.transform)throw new Error("already quantized");if(t&&t.scale)u=e.bbox;else{if(!((r=Math.floor(t))>=2))throw new Error("n must be 2");var r,o=(u=e.bbox||M(e))[0],a=u[1],s=u[2],l=u[3];t={scale:[s-o?(s-o)/(r-1):1,l-a?(l-a)/(r-1):1],translate:[o,a]}}var u,c,d=R(t),f=e.objects,h={};for(c in f)h[c]=i(f[c]);return{type:"Topology",bbox:u,transform:t,objects:h,arcs:e.arcs.map(function(e){var t,n=0,i=1,r=e.length,o=new Array(r);for(o[0]=d(e[0],0);++n<r;)((t=d(e[n],n))[0]||t[1])&&(o[i++]=t);return 1===i&&(o[i++]=[0,0]),o.length=i,o})}},e.transform=T,e.untransform=R,e.topology=function(e,t){function n(e){e&&c.hasOwnProperty(e.type)&&c[e.type](e)}function i(e){var t=[];do{var n=u.get(e);t.push(e[0]<e[1]?n:~n)}while(e=e.next);return t}function r(e){return e.map(i)}var o=I(e=G(e)),a=t>0&&o&&Y(e,o,t),s=V(B(U(e))),l=s.coordinates,u=L(1.4*s.arcs.length,h,p);e=s.objects,s.bbox=o,s.arcs=s.arcs.map(function(e,t){return u.set(e,t),l.slice(e[0],e[1]+1)}),delete s.coordinates,l=null;var c={GeometryCollection:function(e){e.geometries.forEach(n)},LineString:function(e){e.arcs=i(e.arcs)},MultiLineString:function(e){e.arcs=e.arcs.map(i)},Polygon:function(e){e.arcs=e.arcs.map(i)},MultiPolygon:function(e){e.arcs=e.arcs.map(r)}};for(var d in e)n(e[d]);return a&&(s.transform=a,s.arcs=W(s.arcs)),s},e.filter=function(e,t){function n(e){var t,r;switch(e.type){case"Polygon":t=(r=i(e.arcs))?{type:"Polygon",arcs:r}:{type:null};break;case"MultiPolygon":t=(r=e.arcs.map(i).filter(v)).length?{type:"MultiPolygon",arcs:r}:{type:null};break;case"GeometryCollection":t=(r=e.geometries.map(n).filter(m)).length?{type:"GeometryCollection",geometries:r}:{type:null};break;default:return e}return null!=e.id&&(t.id=e.id),null!=e.bbox&&(t.bbox=e.bbox),null!=e.properties&&(t.properties=e.properties),t}function i(e){return e.length&&r(e[0])?[e[0]].concat(e.slice(1).filter(o)):null}function r(e){return t(e,!1)}function o(e){return t(e,!0)}var a,s=e.objects,l={};null==t&&(t=g);for(a in s)l[a]=n(s[a]);return X({type:"Topology",bbox:e.bbox,transform:e.transform,objects:l,arcs:e.arcs})},e.filterAttached=$,e.filterAttachedWeight=function(e,t,n){var i=$(e),r=J(e,t,n);return function(e,t){return i(e,t)||r(e,t)}},e.filterWeight=J,e.planarRingArea=y,e.planarTriangleArea=b,e.presimplify=function(e,t){function n(e){r.remove(e),e[1][2]=t(e),r.push(e)}var i=e.transform?T(e.transform):w,r=Q();null==t&&(t=b);var o=e.arcs.map(function(e){var o,a,s,l=[],u=0;for(a=1,s=(e=e.map(i)).length-1;a<s;++a)o=[e[a-1],e[a],e[a+1]],o[1][2]=t(o),l.push(o),r.push(o);for(e[0][2]=e[s][2]=1/0,a=0,s=l.length;a<s;++a)o=l[a],o.previous=l[a-1],o.next=l[a+1];for(;o=r.pop();){var c=o.previous,d=o.next;o[1][2]<u?o[1][2]=u:u=o[1][2],c&&(c.next=d,c[2]=o[2],n(c)),d&&(d.previous=c,d[0]=o[0],n(d))}return e});return{type:"Topology",bbox:e.bbox,objects:e.objects,arcs:o}},e.quantile=function(e,t){var n=[];return e.arcs.forEach(function(e){e.forEach(function(e){isFinite(e[2])&&n.push(e[2])})}),n.length&&C(n.sort(S),t)},e.simplify=function(e,t){t=null==t?Number.MIN_VALUE:+t;var n=e.arcs.map(function(e){for(var n,i=-1,r=0,o=e.length,a=new Array(o);++i<o;)(n=e[i])[2]>=t&&(a[r++]=[n[0],n[1]]);return a.length=r,a});return{type:"Topology",transform:e.transform,bbox:e.bbox,objects:e.objects,arcs:n}},e.sphericalRingArea=function(e,t){var n=_(e,!0);return t&&(n*=-1),2*(n<0?K+n:n)},e.sphericalTriangleArea=function(e){var t=_(e,!1);return 2*(t<0?K+t:t)},Object.defineProperty(e,"__esModule",{value:!0})});